(function(a){if(typeof exports=="object"&&typeof module=="object"){module.exports=a();}else{if(typeof define=="function"&&define.amd){return define([],a);}else{this.CodeMirror=a();}}})(function(){var co=/gecko\/\d/i.test(navigator.userAgent);var ez=/MSIE \d/.test(navigator.userAgent);var bI=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);var dA=ez||bI;var l=dA&&(ez?document.documentMode||6:bI[1]);var cV=/WebKit\//.test(navigator.userAgent);var dC=cV&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var c7=/Chrome\//.test(navigator.userAgent);var dR=/Opera\//.test(navigator.userAgent);var aC=/Apple Computer/.test(navigator.vendor);var a8=/KHTML\//.test(navigator.userAgent);var c2=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var fj=/PhantomJS/.test(navigator.userAgent);var eQ=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var d4=eQ||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var b6=eQ||/Mac/.test(navigator.platform);var aN=/win/i.test(navigator.platform);var aV=dR&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(aV){aV=Number(aV[1]);}if(aV&&aV>=15){dR=false;cV=true;}var bP=b6&&(dC||dR&&(aV==null||aV<12.11));var fT=co||(dA&&l>=9);var fW=false,a4=false;function J(f3,f4){if(!(this instanceof J)){return new J(f3,f4);}this.options=f4=f4||{};aL(eS,f4,false);cd(f4);var f6=f4.value;if(typeof f6=="string"){f6=new at(f6,f4.mode);}this.doc=f6;var f5=this.display=new ex(f3,f6);f5.wrapper.CodeMirror=this;d0(this);cL(this);if(f4.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap";}if(f4.autofocus&&!d4){eo(this);}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new f1()};if(dA&&l<11){setTimeout(cu(fd,this,true),20);}fE(this);bf();var f2=this;cJ(this,function(){f2.curOp.forceUpdate=true;dZ(f2,f6);if((f4.autofocus&&!d4)||dD()==f5.input){setTimeout(cu(cz,f2),20);}else{aS(f2);}for(var f8 in bb){if(bb.hasOwnProperty(f8)){bb[f8](f2,f4[f8],cb);}}dU(f2);for(var f7=0;f7<a5.length;++f7){a5[f7](f2);}});}function ex(f2,f4){var f5=this;var f3=f5.input=fL("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");if(cV){f3.style.width="1000px";}else{f3.setAttribute("wrap","off");}if(eQ){f3.style.border="1px solid black";}f3.setAttribute("autocorrect","off");f3.setAttribute("autocapitalize","off");f3.setAttribute("spellcheck","false");f5.inputDiv=fL("div",[f3],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");f5.scrollbarH=fL("div",[fL("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f5.scrollbarV=fL("div",[fL("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");f5.scrollbarFiller=fL("div",null,"CodeMirror-scrollbar-filler");f5.gutterFiller=fL("div",null,"CodeMirror-gutter-filler");f5.lineDiv=fL("div",null,"CodeMirror-code");f5.selectionDiv=fL("div",null,null,"position: relative; z-index: 1");f5.cursorDiv=fL("div",null,"CodeMirror-cursors");f5.measure=fL("div",null,"CodeMirror-measure");f5.lineMeasure=fL("div",null,"CodeMirror-measure");f5.lineSpace=fL("div",[f5.measure,f5.lineMeasure,f5.selectionDiv,f5.cursorDiv,f5.lineDiv],null,"position: relative; outline: none");f5.mover=fL("div",[fL("div",[f5.lineSpace],"CodeMirror-lines")],null,"position: relative");f5.sizer=fL("div",[f5.mover],"CodeMirror-sizer");f5.heightForcer=fL("div",null,null,"position: absolute; height: "+bh+"px; width: 1px;");f5.gutters=fL("div",null,"CodeMirror-gutters");f5.lineGutter=null;f5.scroller=fL("div",[f5.sizer,f5.heightForcer,f5.gutters],"CodeMirror-scroll");f5.scroller.setAttribute("tabIndex","-1");f5.wrapper=fL("div",[f5.inputDiv,f5.scrollbarH,f5.scrollbarV,f5.scrollbarFiller,f5.gutterFiller,f5.scroller],"CodeMirror");if(dA&&l<8){f5.gutters.style.zIndex=-1;f5.scroller.style.paddingRight=0;}if(eQ){f3.style.width="0px";}if(!cV){f5.scroller.draggable=true;}if(a8){f5.inputDiv.style.height="1px";f5.inputDiv.style.position="absolute";}if(dA&&l<8){f5.scrollbarH.style.minHeight=f5.scrollbarV.style.minWidth="18px";}if(f2.appendChild){f2.appendChild(f5.wrapper);}else{f2(f5.wrapper);}f5.viewFrom=f5.viewTo=f4.first;f5.view=[];f5.externalMeasured=null;f5.viewOffset=0;f5.lastSizeC=0;f5.updateLineNumbers=null;f5.lineNumWidth=f5.lineNumInnerWidth=f5.lineNumChars=null;f5.prevInput="";f5.alignWidgets=false;f5.pollingFast=false;f5.poll=new f1();f5.cachedCharWidth=f5.cachedTextHeight=f5.cachedPaddingH=null;f5.inaccurateSelection=false;f5.maxLine=null;f5.maxLineLength=0;f5.maxLineChanged=false;f5.wheelDX=f5.wheelDY=f5.wheelStartX=f5.wheelStartY=null;f5.shift=false;f5.selForContextMenu=null;}function bq(f2){f2.doc.mode=J.getMode(f2.options,f2.doc.modeOption);d9(f2);}function d9(f2){f2.doc.iter(function(f3){if(f3.stateAfter){f3.stateAfter=null;}if(f3.styles){f3.styles=null;}});f2.doc.frontier=f2.doc.first;d3(f2,100);f2.state.modeGen++;if(f2.curOp){ag(f2);}}function ev(f2){if(f2.options.lineWrapping){fp(f2.display.wrapper,"CodeMirror-wrap");f2.display.sizer.style.minWidth="";}else{f(f2.display.wrapper,"CodeMirror-wrap");g(f2);}Y(f2);ag(f2);aj(f2);setTimeout(function(){eN(f2);},100);}function ba(f2){var f4=aU(f2.display),f3=f2.options.lineWrapping;var f5=f3&&Math.max(5,f2.display.scroller.clientWidth/du(f2.display)-3);return function(f7){if(fl(f2.doc,f7)){return 0;}var f6=0;if(f7.widgets){for(var f8=0;f8<f7.widgets.length;f8++){if(f7.widgets[f8].height){f6+=f7.widgets[f8].height;}}}if(f3){return f6+(Math.ceil(f7.text.length/f5)||1)*f4;}else{return f6+f4;}};}function Y(f2){var f4=f2.doc,f3=ba(f2);f4.iter(function(f5){var f6=f3(f5);if(f6!=f5.height){fP(f5,f6);}});}function fZ(f2){var f4=eY[f2.options.keyMap],f3=f4.style;f2.display.wrapper.className=f2.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(f3?" cm-keymap-"+f3:"");}function cL(f2){f2.display.wrapper.className=f2.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f2.options.theme.replace(/(^|\s)\s*/g," cm-s-");aj(f2);}function dm(f2){d0(f2);ag(f2);setTimeout(function(){et(f2);},20);}function d0(f2){var f3=f2.display.gutters,f7=f2.options.gutters;dQ(f3);for(var f4=0;f4<f7.length;++f4){var f5=f7[f4];var f6=f3.appendChild(fL("div",null,"CodeMirror-gutter "+f5));if(f5=="CodeMirror-linenumbers"){f2.display.lineGutter=f6;f6.style.width=(f2.display.lineNumWidth||1)+"px";}}f3.style.display=f4?"":"none";cZ(f2);}function cZ(f2){var f3=f2.display.gutters.offsetWidth;f2.display.sizer.style.marginLeft=f3+"px";f2.display.scrollbarH.style.left=f2.options.fixedGutter?f3+"px":0;}function ea(f4){if(f4.height==0){return 0;}var f3=f4.text.length,f2,f6=f4;while(f2=eD(f6)){var f5=f2.find(0,true);f6=f5.from.line;f3+=f5.from.ch-f5.to.ch;}f6=f4;while(f2=ej(f6)){var f5=f2.find(0,true);f3-=f6.text.length-f5.from.ch;f6=f5.to.line;f3+=f6.text.length-f5.to.ch;}return f3;}function g(f2){var f4=f2.display,f3=f2.doc;f4.maxLine=e3(f3,f3.first);f4.maxLineLength=ea(f4.maxLine);f4.maxLineChanged=true;f3.iter(function(f6){var f5=ea(f6);if(f5>f4.maxLineLength){f4.maxLineLength=f5;f4.maxLine=f6;}});}function cd(f2){var f3=dc(f2.gutters,"CodeMirror-linenumbers");if(f3==-1&&f2.lineNumbers){f2.gutters=f2.gutters.concat(["CodeMirror-linenumbers"]);}else{if(f3>-1&&!f2.lineNumbers){f2.gutters=f2.gutters.slice(0);f2.gutters.splice(f3,1);}}}function cN(f2){return f2.display.scroller.clientHeight-f2.display.wrapper.clientHeight<bh-3;}function dr(f3){var f2=f3.display.scroller;return{clientHeight:f2.clientHeight,barHeight:f3.display.scrollbarV.clientHeight,scrollWidth:f2.scrollWidth,clientWidth:f2.clientWidth,hScrollbarTakesSpace:cN(f3),barWidth:f3.display.scrollbarH.clientWidth,docHeight:Math.round(f3.doc.height+bH(f3.display))};}function eN(f9,f2){if(!f2){f2=dr(f9);}var f6=f9.display,f3=k(f6.measure);var ga=f2.docHeight+bh;var f4=f2.scrollWidth>f2.clientWidth;if(f4&&f2.scrollWidth<=f2.clientWidth+1&&f3>0&&!f2.hScrollbarTakesSpace){f4=false;}var f5=ga>f2.clientHeight;if(f5){f6.scrollbarV.style.display="block";f6.scrollbarV.style.bottom=f4?f3+"px":"0";f6.scrollbarV.firstChild.style.height=Math.max(0,ga-f2.clientHeight+(f2.barHeight||f6.scrollbarV.clientHeight))+"px";}else{f6.scrollbarV.style.display="";f6.scrollbarV.firstChild.style.height="0";}if(f4){f6.scrollbarH.style.display="block";f6.scrollbarH.style.right=f5?f3+"px":"0";f6.scrollbarH.firstChild.style.width=(f2.scrollWidth-f2.clientWidth+(f2.barWidth||f6.scrollbarH.clientWidth))+"px";}else{f6.scrollbarH.style.display="";f6.scrollbarH.firstChild.style.width="0";}if(f4&&f5){f6.scrollbarFiller.style.display="block";f6.scrollbarFiller.style.height=f6.scrollbarFiller.style.width=f3+"px";}else{f6.scrollbarFiller.style.display="";}if(f4&&f9.options.coverGutterNextToScrollbar&&f9.options.fixedGutter){f6.gutterFiller.style.display="block";f6.gutterFiller.style.height=f3+"px";f6.gutterFiller.style.width=f6.gutters.offsetWidth+"px";}else{f6.gutterFiller.style.display="";}if(!f9.state.checkedOverlayScrollbar&&f2.clientHeight>0){if(f3===0){var f8=b6&&!c2?"12px":"18px";f6.scrollbarV.style.minWidth=f6.scrollbarH.style.minHeight=f8;var f7=function(gb){if(M(gb)!=f6.scrollbarV&&M(gb)!=f6.scrollbarH){cX(f9,eh)(gb);}};bW(f6.scrollbarV,"mousedown",f7);bW(f6.scrollbarH,"mousedown",f7);}f9.state.checkedOverlayScrollbar=true;}}function b5(f5,f9,f4){var f6=f4&&f4.top!=null?Math.max(0,f4.top):f5.scroller.scrollTop;f6=Math.floor(f6-eW(f5));var f2=f4&&f4.bottom!=null?f4.bottom:f6+f5.wrapper.clientHeight;var f7=bF(f9,f6),f8=bF(f9,f2);if(f4&&f4.ensure){var f3=f4.ensure.from.line,ga=f4.ensure.to.line;if(f3<f7){return{from:f3,to:bF(f9,bL(e3(f9,f3))+f5.wrapper.clientHeight)};}if(Math.min(ga,f9.lastLine())>=f8){return{from:bF(f9,bL(e3(f9,ga))-f5.wrapper.clientHeight),to:ga};}}return{from:f7,to:Math.max(f8,f7+1)};}function et(ga){var f8=ga.display,f9=f8.view;if(!f8.alignWidgets&&(!f8.gutters.firstChild||!ga.options.fixedGutter)){return;}var f6=dM(f8)-f8.scroller.scrollLeft+ga.doc.scrollLeft;var f2=f8.gutters.offsetWidth,f3=f6+"px";for(var f5=0;f5<f9.length;f5++){if(!f9[f5].hidden){if(ga.options.fixedGutter&&f9[f5].gutter){f9[f5].gutter.style.left=f3;}var f7=f9[f5].alignable;if(f7){for(var f4=0;f4<f7.length;f4++){f7[f4].style.left=f3;}}}}if(ga.options.fixedGutter){f8.gutters.style.left=(f6+f2)+"px";}}function dU(f2){if(!f2.options.lineNumbers){return false;}var f7=f2.doc,f3=eg(f2.options,f7.first+f7.size-1),f6=f2.display;if(f3.length!=f6.lineNumChars){var f8=f6.measure.appendChild(fL("div",[fL("div",f3)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var f4=f8.firstChild.offsetWidth,f5=f8.offsetWidth-f4;f6.lineGutter.style.width="";f6.lineNumInnerWidth=Math.max(f4,f6.lineGutter.offsetWidth-f5);f6.lineNumWidth=f6.lineNumInnerWidth+f5;f6.lineNumChars=f6.lineNumInnerWidth?f3.length:-1;f6.lineGutter.style.width=f6.lineNumWidth+"px";cZ(f2);return true;}return false;}function eg(f2,f3){return String(f2.lineNumberFormatter(f3+f2.firstLineNumber));}function dM(f2){return f2.scroller.getBoundingClientRect().left-f2.sizer.getBoundingClientRect().left;}function aH(f3,f2,f4){var f5=f3.display;this.viewport=f2;this.visible=b5(f5,f3.doc,f2);this.editorIsHidden=!f5.wrapper.offsetWidth;this.wrapperHeight=f5.wrapper.clientHeight;this.oldViewFrom=f5.viewFrom;this.oldViewTo=f5.viewTo;this.oldScrollerWidth=f5.scroller.clientWidth;this.force=f4;this.dims=e1(f3);}function D(gb,f5){var f6=gb.display,ga=gb.doc;if(f5.editorIsHidden){el(gb);return false;}if(!f5.force&&f5.visible.from>=f6.viewFrom&&f5.visible.to<=f6.viewTo&&(f6.updateLineNumbers==null||f6.updateLineNumbers>=f6.viewTo)&&c6(gb)==0){return false;}if(dU(gb)){el(gb);f5.dims=e1(gb);}var f4=ga.first+ga.size;var f8=Math.max(f5.visible.from-gb.options.viewportMargin,ga.first);var f9=Math.min(f4,f5.visible.to+gb.options.viewportMargin);if(f6.viewFrom<f8&&f8-f6.viewFrom<20){f8=Math.max(ga.first,f6.viewFrom);}if(f6.viewTo>f9&&f6.viewTo-f9<20){f9=Math.min(f4,f6.viewTo);}if(a4){f8=aT(gb.doc,f8);f9=dS(gb.doc,f9);}var f3=f8!=f6.viewFrom||f9!=f6.viewTo||f6.lastSizeC!=f5.wrapperHeight;cO(gb,f8,f9);f6.viewOffset=bL(e3(gb.doc,f6.viewFrom));gb.display.mover.style.top=f6.viewOffset+"px";var f2=c6(gb);if(!f3&&f2==0&&!f5.force&&(f6.updateLineNumbers==null||f6.updateLineNumbers>=f6.viewTo)){return false;}var f7=dD();if(f2>4){f6.lineDiv.style.display="none";}cm(gb,f6.updateLineNumbers,f5.dims);if(f2>4){f6.lineDiv.style.display="";}if(f7&&dD()!=f7&&f7.offsetHeight){f7.focus();}dQ(f6.cursorDiv);dQ(f6.selectionDiv);if(f3){f6.lastSizeC=f5.wrapperHeight;d3(gb,400);}f6.updateLineNumbers=null;return true;}function cj(f3,f7){var f5=f7.force,f2=f7.viewport;for(var f6=true;;f6=false){if(f6&&f3.options.lineWrapping&&f7.oldScrollerWidth!=f3.display.scroller.clientWidth){f5=true;}else{f5=false;if(f2&&f2.top!=null){f2={top:Math.min(f3.doc.height+bH(f3.display)-bh-f3.display.scroller.clientHeight,f2.top)};}f7.visible=b5(f3.display,f3.doc,f2);if(f7.visible.from>=f3.display.viewFrom&&f7.visible.to<=f3.display.viewTo){break;}}if(!D(f3,f7)){break;}a6(f3);var f4=dr(f3);bB(f3);dq(f3,f4);eN(f3,f4);}ad(f3,"update",f3);if(f3.display.viewFrom!=f7.oldViewFrom||f3.display.viewTo!=f7.oldViewTo){ad(f3,"viewportChange",f3,f3.display.viewFrom,f3.display.viewTo);}}function dI(f3,f2){var f5=new aH(f3,f2);if(D(f3,f5)){a6(f3);cj(f3,f5);var f4=dr(f3);bB(f3);dq(f3,f4);eN(f3,f4);}}function dq(f2,f3){f2.display.sizer.style.minHeight=f2.display.heightForcer.style.top=f3.docHeight+"px";f2.display.gutters.style.height=Math.max(f3.docHeight,f3.clientHeight-bh)+"px";}function fO(f2,f3){if(f2.display.sizer.offsetWidth+f2.display.gutters.offsetWidth<f2.display.scroller.clientWidth-1){f2.display.sizer.style.minHeight=f2.display.heightForcer.style.top="0px";f2.display.gutters.style.height=f3.docHeight+"px";}}function a6(f9){var f7=f9.display;var f3=f7.lineDiv.offsetTop;for(var f4=0;f4<f7.view.length;f4++){var ga=f7.view[f4],gb;if(ga.hidden){continue;}if(dA&&l<8){var f6=ga.node.offsetTop+ga.node.offsetHeight;gb=f6-f3;f3=f6;}else{var f5=ga.node.getBoundingClientRect();gb=f5.bottom-f5.top;}var f8=ga.line.height-gb;if(gb<2){gb=aU(f7);}if(f8>0.001||f8<-0.001){fP(ga.line,gb);ca(ga.line);if(ga.rest){for(var f2=0;f2<ga.rest.length;f2++){ca(ga.rest[f2]);}}}}}function ca(f2){if(f2.widgets){for(var f3=0;f3<f2.widgets.length;++f3){f2.widgets[f3].height=f2.widgets[f3].node.offsetHeight;}}}function e1(f2){var f6=f2.display,f5={},f4={};for(var f7=f6.gutters.firstChild,f3=0;f7;f7=f7.nextSibling,++f3){f5[f2.options.gutters[f3]]=f7.offsetLeft;f4[f2.options.gutters[f3]]=f7.offsetWidth;}return{fixedPos:dM(f6),gutterTotalWidth:f6.gutters.offsetWidth,gutterLeft:f5,gutterWidth:f4,wrapperWidth:f6.wrapper.clientWidth};}function cm(gd,f4,gc){var f9=gd.display,gf=gd.options.lineNumbers;var f2=f9.lineDiv,ge=f2.firstChild;function f8(gh){var gg=gh.nextSibling;if(cV&&b6&&gd.display.currentWheelTarget==gh){gh.style.display="none";}else{gh.parentNode.removeChild(gh);}return gg;}var ga=f9.view,f7=f9.viewFrom;for(var f5=0;f5<ga.length;f5++){var f6=ga[f5];if(f6.hidden){}else{if(!f6.node){var f3=aE(gd,f6,f7,gc);f2.insertBefore(f3,ge);}else{while(ge!=f6.node){ge=f8(ge);}var gb=gf&&f4!=null&&f4<=f7&&f6.lineNumber;if(f6.changes){if(dc(f6.changes,"gutter")>-1){gb=false;}aa(gd,f6,f7,gc);}if(gb){dQ(f6.lineNumber);f6.lineNumber.appendChild(document.createTextNode(eg(gd.options,f7)));}ge=f6.node.nextSibling;}}f7+=f6.size;}while(ge){ge=f8(ge);}}function aa(f2,f4,f6,f7){for(var f3=0;f3<f4.changes.length;f3++){var f5=f4.changes[f3];if(f5=="text"){e9(f2,f4);}else{if(f5=="gutter"){da(f2,f4,f6,f7);}else{if(f5=="class"){dx(f4);}else{if(f5=="widget"){an(f4,f7);}}}}}f4.changes=null;}function fx(f2){if(f2.node==f2.text){f2.node=fL("div",null,null,"position: relative");if(f2.text.parentNode){f2.text.parentNode.replaceChild(f2.node,f2.text);}f2.node.appendChild(f2.text);if(dA&&l<8){f2.node.style.zIndex=2;}}return f2.node;}function ei(f3){var f2=f3.bgClass?f3.bgClass+" "+(f3.line.bgClass||""):f3.line.bgClass;if(f2){f2+=" CodeMirror-linebackground";}if(f3.background){if(f2){f3.background.className=f2;}else{f3.background.parentNode.removeChild(f3.background);f3.background=null;}}else{if(f2){var f4=fx(f3);f3.background=f4.insertBefore(fL("div",null,f2),f4.firstChild);}}}function dK(f2,f3){var f4=f2.display.externalMeasured;if(f4&&f4.line==f3.line){f2.display.externalMeasured=null;f3.measure=f4.measure;return f4.built;}return eG(f2,f3);}function e9(f2,f5){var f3=f5.text.className;var f4=dK(f2,f5);if(f5.text==f5.node){f5.node=f4.pre;}f5.text.parentNode.replaceChild(f4.pre,f5.text);f5.text=f4.pre;if(f4.bgClass!=f5.bgClass||f4.textClass!=f5.textClass){f5.bgClass=f4.bgClass;f5.textClass=f4.textClass;dx(f5);}else{if(f3){f5.text.className=f3;}}}function dx(f3){ei(f3);if(f3.line.wrapClass){fx(f3).className=f3.line.wrapClass;}else{if(f3.node!=f3.text){f3.node.className="";}}var f2=f3.textClass?f3.textClass+" "+(f3.line.textClass||""):f3.line.textClass;f3.text.className=f2||"";}function da(ga,f8,f7,f9){if(f8.gutter){f8.node.removeChild(f8.gutter);f8.gutter=null;}var f5=f8.line.gutterMarkers;if(ga.options.lineNumbers||f5){var f3=fx(f8);var f6=f8.gutter=f3.insertBefore(fL("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(ga.options.fixedGutter?f9.fixedPos:-f9.gutterTotalWidth)+"px"),f8.text);if(ga.options.lineNumbers&&(!f5||!f5["CodeMirror-linenumbers"])){f8.lineNumber=f6.appendChild(fL("div",eg(ga.options,f7),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f9.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+ga.display.lineNumInnerWidth+"px"));}if(f5){for(var f4=0;f4<ga.options.gutters.length;++f4){var f2=ga.options.gutters[f4],gb=f5.hasOwnProperty(f2)&&f5[f2];if(gb){f6.appendChild(fL("div",[gb],"CodeMirror-gutter-elt","left: "+f9.gutterLeft[f2]+"px; width: "+f9.gutterWidth[f2]+"px"));}}}}}function an(f2,f5){if(f2.alignable){f2.alignable=null;}for(var f4=f2.node.firstChild,f3;f4;f4=f3){var f3=f4.nextSibling;if(f4.className=="CodeMirror-linewidget"){f2.node.removeChild(f4);}}fi(f2,f5);}function aE(f2,f4,f5,f6){var f3=dK(f2,f4);f4.text=f4.node=f3.pre;if(f3.bgClass){f4.bgClass=f3.bgClass;}if(f3.textClass){f4.textClass=f3.textClass;}dx(f4);da(f2,f4,f5,f6);fi(f4,f6);return f4.node;}function fi(f3,f4){fQ(f3.line,f3,f4,true);if(f3.rest){for(var f2=0;f2<f3.rest.length;f2++){fQ(f3.rest[f2],f3,f4,false);}}}function fQ(ga,f7,f9,f5){if(!ga.widgets){return;}var f2=fx(f7);for(var f4=0,f8=ga.widgets;f4<f8.length;++f4){var f6=f8[f4],f3=fL("div",[f6.node],"CodeMirror-linewidget");if(!f6.handleMouseEvents){f3.ignoreEvents=true;}bE(f6,f3,f7,f9);if(f5&&f6.above){f2.insertBefore(f3,f7.gutter||f7.text);}else{f2.appendChild(f3);}ad(f6,"redraw");}}function bE(f5,f4,f2,f6){if(f5.noHScroll){(f2.alignable||(f2.alignable=[])).push(f4);var f3=f6.wrapperWidth;f4.style.left=f6.fixedPos+"px";if(!f5.coverGutter){f3-=f6.gutterTotalWidth;f4.style.paddingLeft=f6.gutterTotalWidth+"px";}f4.style.width=f3+"px";}if(f5.coverGutter){f4.style.zIndex=5;f4.style.position="relative";if(!f5.noHScroll){f4.style.marginLeft=-f6.gutterTotalWidth+"px";}}}var X=J.Pos=function(f2,f3){if(!(this instanceof X)){return new X(f2,f3);}this.line=f2;this.ch=f3;};var ce=J.cmpPos=function(f3,f2){return f3.line-f2.line||f3.ch-f2.ch;};function ci(f2){return X(f2.line,f2.ch);}function bw(f3,f2){return ce(f3,f2)<0?f2:f3;}function aq(f3,f2){return ce(f3,f2)<0?f3:f2;}function fM(f2,f3){this.ranges=f2;this.primIndex=f3;}fM.prototype={primary:function(){return this.ranges[this.primIndex];},equals:function(f2){if(f2==this){return true;}if(f2.primIndex!=this.primIndex||f2.ranges.length!=this.ranges.length){return false;}for(var f4=0;f4<this.ranges.length;f4++){var f3=this.ranges[f4],f5=f2.ranges[f4];if(ce(f3.anchor,f5.anchor)!=0||ce(f3.head,f5.head)!=0){return false;}}return true;},deepCopy:function(){for(var f2=[],f3=0;f3<this.ranges.length;f3++){f2[f3]=new dN(ci(this.ranges[f3].anchor),ci(this.ranges[f3].head));}return new fM(f2,this.primIndex);},somethingSelected:function(){for(var f2=0;f2<this.ranges.length;f2++){if(!this.ranges[f2].empty()){return true;}}return false;},contains:function(f5,f2){if(!f2){f2=f5;}for(var f4=0;f4<this.ranges.length;f4++){var f3=this.ranges[f4];if(ce(f2,f3.from())>=0&&ce(f5,f3.to())<=0){return f4;}}return -1;}};function dN(f2,f3){this.anchor=f2;this.head=f3;}dN.prototype={from:function(){return aq(this.anchor,this.head);},to:function(){return bw(this.anchor,this.head);},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch;}};function cv(f2,f9){var f4=f2[f9];f2.sort(function(gc,gb){return ce(gc.from(),gb.from());});f9=dc(f2,f4);for(var f6=1;f6<f2.length;f6++){var ga=f2[f6],f3=f2[f6-1];if(ce(f3.to(),ga.from())>=0){var f7=aq(f3.from(),ga.from()),f8=bw(f3.to(),ga.to());var f5=f3.empty()?ga.from()==ga.head:f3.from()==f3.head;if(f6<=f9){--f9;}f2.splice(--f6,2,new dN(f5?f8:f7,f5?f7:f8));}}return new fM(f2,f9);}function eH(f2,f3){return new fM([new dN(f2,f3||f2)],0);}function c0(f2,f3){return Math.max(f2.first,Math.min(f3,f2.first+f2.size-1));}function fy(f3,f4){if(f4.line<f3.first){return X(f3.first,0);}var f2=f3.first+f3.size-1;if(f4.line>f2){return X(f2,e3(f3,f2).text.length);}return fh(f4,e3(f3,f4.line).text.length);}function fh(f4,f3){var f2=f4.ch;if(f2==null||f2>f3){return X(f4.line,f3);}else{if(f2<0){return X(f4.line,0);}else{return f4;}}}function b8(f3,f2){return f2>=f3.first&&f2<f3.first+f3.size;}function dO(f4,f5){for(var f2=[],f3=0;f3<f5.length;f3++){f2[f3]=fy(f4,f5[f3]);}return f2;}function fk(f7,f3,f6,f2){if(f7.cm&&f7.cm.display.shift||f7.extend){var f5=f3.anchor;if(f2){var f4=ce(f6,f5)<0;if(f4!=(ce(f2,f5)<0)){f5=f6;f6=f2;}else{if(f4!=(ce(f6,f2)<0)){f6=f2;}}}return new dN(f5,f6);}else{return new dN(f2||f6,f6);}}function fI(f5,f4,f2,f3){bT(f5,new fM([fk(f5,f5.sel.primary(),f4,f2)],0),f3);}function ax(f7,f6,f4){for(var f3=[],f5=0;f5<f7.sel.ranges.length;f5++){f3[f5]=fk(f7,f7.sel.ranges[f5],f6[f5],null);}var f2=cv(f3,f7.sel.primIndex);bT(f7,f2,f4);}function e(f6,f5,f3,f4){var f2=f6.sel.ranges.slice(0);f2[f5]=f3;bT(f6,cv(f2,f6.sel.primIndex),f4);}function H(f5,f3,f4,f2){bT(f5,eH(f3,f4),f2);}function c(f4,f2){var f3={ranges:f2.ranges,update:function(f5){this.ranges=[];for(var f6=0;f6<f5.length;f6++){this.ranges[f6]=new dN(fy(f4,f5[f6].anchor),fy(f4,f5[f6].head));}}};aD(f4,"beforeSelectionChange",f4,f3);if(f4.cm){aD(f4.cm,"beforeSelectionChange",f4.cm,f3);}if(f3.ranges!=f2.ranges){return cv(f3.ranges,f3.ranges.length-1);}else{return f2;}}function eV(f6,f5,f3){var f2=f6.history.done,f4=fw(f2);if(f4&&f4.ranges){f2[f2.length-1]=f5;ed(f6,f5,f3);}else{bT(f6,f5,f3);}}function bT(f4,f3,f2){ed(f4,f3,f2);fV(f4,f4.sel,f4.cm?f4.cm.curOp.id:NaN,f2);}function ed(f5,f4,f3){if(e6(f5,"beforeSelectionChange")||f5.cm&&e6(f5.cm,"beforeSelectionChange")){f4=c(f5,f4);}var f2=f3&&f3.bias||(ce(f4.primary().head,f5.sel.primary().head)<0?-1:1);c4(f5,o(f5,f4,f2,true));if(!(f3&&f3.scroll===false)&&f5.cm){fv(f5.cm);}}function c4(f3,f2){if(f2.equals(f3.sel)){return;}f3.sel=f2;if(f3.cm){f3.cm.curOp.updateInput=f3.cm.curOp.selectionChanged=true;W(f3.cm);}ad(f3,"cursorActivity",f3);}function em(f2){c4(f2,o(f2,f2.sel,null,false),Z);}function o(ga,f2,f7,f8){var f4;for(var f5=0;f5<f2.ranges.length;f5++){var f6=f2.ranges[f5];var f9=bU(ga,f6.anchor,f7,f8);var f3=bU(ga,f6.head,f7,f8);if(f4||f9!=f6.anchor||f3!=f6.head){if(!f4){f4=f2.ranges.slice(0,f5);}f4[f5]=new dN(f9,f3);}}return f4?cv(f4,f2.primIndex):f2;}function bU(gb,ga,f7,f8){var gc=false,f4=ga;var f5=f7||1;gb.cantEdit=false;search:for(;;){var gd=e3(gb,f4.line);if(gd.markedSpans){for(var f6=0;f6<gd.markedSpans.length;++f6){var f2=gd.markedSpans[f6],f3=f2.marker;if((f2.from==null||(f3.inclusiveLeft?f2.from<=f4.ch:f2.from<f4.ch))&&(f2.to==null||(f3.inclusiveRight?f2.to>=f4.ch:f2.to>f4.ch))){if(f8){aD(f3,"beforeCursorEnter");if(f3.explicitlyCleared){if(!gd.markedSpans){break;}else{--f6;continue;}}}if(!f3.atomic){continue;}var f9=f3.find(f5<0?-1:1);if(ce(f9,f4)==0){f9.ch+=f5;if(f9.ch<0){if(f9.line>gb.first){f9=fy(gb,X(f9.line-1));}else{f9=null;}}else{if(f9.ch>gd.text.length){if(f9.line<gb.first+gb.size-1){f9=X(f9.line+1,0);}else{f9=null;}}}if(!f9){if(gc){if(!f8){return bU(gb,ga,f7,true);}gb.cantEdit=true;return X(gb.first,0);}gc=true;f9=ga;f5=-f5;}}f4=f9;continue search;}}}return f4;}}function bk(gc){var f8=gc.display,gb=gc.doc,gd={};var ga=gd.cursors=document.createDocumentFragment();var f4=gd.selection=document.createDocumentFragment();for(var f6=0;f6<gb.sel.ranges.length;f6++){var f7=gb.sel.ranges[f6];var f5=f7.empty();if(f5||gc.options.showCursorWhenSelecting){B(gc,f7,ga);}if(!f5){bC(gc,f7,f4);}}if(gc.options.moveInputWithCursor){var f9=dJ(gc,gb.sel.primary().head,"div");var f2=f8.wrapper.getBoundingClientRect(),f3=f8.lineDiv.getBoundingClientRect();gd.teTop=Math.max(0,Math.min(f8.wrapper.clientHeight-10,f9.top+f3.top-f2.top));gd.teLeft=Math.max(0,Math.min(f8.wrapper.clientWidth-10,f9.left+f3.left-f2.left));}return gd;}function ak(f2,f3){bQ(f2.display.cursorDiv,f3.cursors);bQ(f2.display.selectionDiv,f3.selection);if(f3.teTop!=null){f2.display.inputDiv.style.top=f3.teTop+"px";f2.display.inputDiv.style.left=f3.teLeft+"px";}}function bB(f2){ak(f2,bk(f2));}function B(f2,f5,f4){var f7=dJ(f2,f5.head,"div",null,null,!f2.options.singleCursorHeightPerLine);var f6=f4.appendChild(fL("div","\u00a0","CodeMirror-cursor"));f6.style.left=f7.left+"px";f6.style.top=f7.top+"px";f6.style.height=Math.max(0,f7.bottom-f7.top)*f2.options.cursorHeight+"px";if(f7.other){var f3=f4.appendChild(fL("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));f3.style.display="";f3.style.left=f7.other.left+"px";f3.style.top=f7.other.top+"px";f3.style.height=(f7.other.bottom-f7.other.top)*0.85+"px";}}function bC(f6,gc,f7){var gf=f6.display,gj=f6.doc;var f2=document.createDocumentFragment();var gb=eT(f6.display),f5=gb.left,gg=gf.lineSpace.offsetWidth-gb.right;function gd(gn,gm,gl,gk){if(gm<0){gm=0;}gm=Math.round(gm);gk=Math.round(gk);f2.appendChild(fL("div",null,"CodeMirror-selected","position: absolute; left: "+gn+"px; top: "+gm+"px; width: "+(gl==null?gg-gn:gl)+"px; height: "+(gk-gm)+"px"));}function f3(gl,gn,gq){var gm=e3(gj,gl);var go=gm.text.length;var gr,gk;function gp(gt,gs){return cG(f6,X(gl,gt),"div",gm,gs);}dT(a(gm),gn||0,gq==null?go:gq,function(gz,gy,gs){var gv=gp(gz,"left"),gw,gx,gu;if(gz==gy){gw=gv;gx=gu=gv.left;}else{gw=gp(gy-1,"right");if(gs=="rtl"){var gt=gv;gv=gw;gw=gt;}gx=gv.left;gu=gw.right;}if(gn==null&&gz==0){gx=f5;}if(gw.top-gv.top>3){gd(gx,gv.top,null,gv.bottom);gx=f5;if(gv.bottom<gw.top){gd(gx,gv.bottom,null,gw.top);}}if(gq==null&&gy==go){gu=gg;}if(!gr||gv.top<gr.top||gv.top==gr.top&&gv.left<gr.left){gr=gv;}if(!gk||gw.bottom>gk.bottom||gw.bottom==gk.bottom&&gw.right>gk.right){gk=gw;}if(gx<f5+1){gx=f5;}gd(gx,gw.top,gu-gx,gw.bottom);});return{start:gr,end:gk};}var gi=gc.from(),gh=gc.to();if(gi.line==gh.line){f3(gi.line,gi.ch,gh.ch);}else{var f4=e3(gj,gi.line),f9=e3(gj,gh.line);var f8=z(f4)==z(f9);var ga=f3(gi.line,gi.ch,f8?f4.text.length+1:null).end;var ge=f3(gh.line,f8?0:null,gh.ch).start;if(f8){if(ga.top<ge.top-2){gd(ga.right,ga.top,null,ga.bottom);gd(f5,ge.top,ge.left,ge.bottom);}else{gd(ga.right,ga.top,ge.left-ga.right,ga.bottom);}}if(ga.bottom<ge.top){gd(f5,ga.bottom,null,ge.top);}}f7.appendChild(f2);}function p(f2){if(!f2.state.focused){return;}var f4=f2.display;clearInterval(f4.blinker);var f3=true;f4.cursorDiv.style.visibility="";if(f2.options.cursorBlinkRate>0){f4.blinker=setInterval(function(){f4.cursorDiv.style.visibility=(f3=!f3)?"":"hidden";},f2.options.cursorBlinkRate);}else{if(f2.options.cursorBlinkRate<0){f4.cursorDiv.style.visibility="hidden";}}}function d3(f2,f3){if(f2.doc.mode.startState&&f2.doc.frontier<f2.display.viewTo){f2.state.highlight.set(f3,cu(cM,f2));}}function cM(f2){var f6=f2.doc;if(f6.frontier<f6.first){f6.frontier=f6.first;}if(f6.frontier>=f2.display.viewTo){return;}var f4=+new Date+f2.options.workTime;var f5=b2(f6.mode,ds(f2,f6.frontier));var f3=[];f6.iter(f6.frontier,Math.min(f6.first+f6.size,f2.display.viewTo+500),function(f7){if(f6.frontier>=f2.display.viewFrom){var ga=f7.styles;var gc=fo(f2,f7,f5,true);f7.styles=gc.styles;var f9=f7.styleClasses,gb=gc.classes;if(gb){f7.styleClasses=gb;}else{if(f9){f7.styleClasses=null;}}var gd=!ga||ga.length!=f7.styles.length||f9!=gb&&(!f9||!gb||f9.bgClass!=gb.bgClass||f9.textClass!=gb.textClass);for(var f8=0;!gd&&f8<ga.length;++f8){gd=ga[f8]!=f7.styles[f8];}if(gd){f3.push(f6.frontier);}f7.stateAfter=b2(f6.mode,f5);}else{dn(f2,f7.text,f5);f7.stateAfter=f6.frontier%5==0?b2(f6.mode,f5):null;}++f6.frontier;if(+new Date>f4){d3(f2,f2.options.workDelay);return true;}});if(f3.length){cJ(f2,function(){for(var f7=0;f7<f3.length;f7++){S(f2,f3[f7],"text");}});}}function cx(f8,f2,f5){var f3,f6,f7=f8.doc;var f4=f5?-1:f2-(f8.doc.mode.innerMode?1000:100);for(var gb=f2;gb>f4;--gb){if(gb<=f7.first){return f7.first;}var ga=e3(f7,gb-1);if(ga.stateAfter&&(!f5||gb<=f7.frontier)){return gb;}var f9=bS(ga.text,null,f8.options.tabSize);if(f6==null||f3>f9){f6=gb-1;f3=f9;}}return f6;}function ds(f2,f8,f3){var f6=f2.doc,f5=f2.display;if(!f6.mode.startState){return true;}var f7=cx(f2,f8,f3),f4=f7>f6.first&&e3(f6,f7-1).stateAfter;if(!f4){f4=bZ(f6.mode);}else{f4=b2(f6.mode,f4);}f6.iter(f7,f8,function(f9){dn(f2,f9.text,f4);var ga=f7==f8-1||f7%5==0||f7>=f5.viewFrom&&f7<f5.viewTo;f9.stateAfter=ga?b2(f6.mode,f4):null;++f7;});if(f3){f6.frontier=f7;}return f4;}function eW(f2){return f2.lineSpace.offsetTop;}function bH(f2){return f2.mover.offsetHeight-f2.lineSpace.offsetHeight;}function eT(f5){if(f5.cachedPaddingH){return f5.cachedPaddingH;}var f4=bQ(f5.measure,fL("pre","x"));var f2=window.getComputedStyle?window.getComputedStyle(f4):f4.currentStyle;var f3={left:parseInt(f2.paddingLeft),right:parseInt(f2.paddingRight)};if(!isNaN(f3.left)&&!isNaN(f3.right)){f5.cachedPaddingH=f3;}return f3;}function ch(f9,f5,f8){var f4=f9.options.lineWrapping;var f6=f4&&f9.display.scroller.clientWidth;if(!f5.measure.heights||f4&&f5.measure.width!=f6){var f7=f5.measure.heights=[];if(f4){f5.measure.width=f6;var gb=f5.text.firstChild.getClientRects();for(var f2=0;f2<gb.length-1;f2++){var ga=gb[f2],f3=gb[f2+1];if(Math.abs(ga.bottom-f3.bottom)>2){f7.push((ga.bottom+f3.top)/2-f8.top);}}}f7.push(f8.bottom-f8.top);}}function cs(f4,f2,f5){if(f4.line==f2){return{map:f4.measure.map,cache:f4.measure.cache};}for(var f3=0;f3<f4.rest.length;f3++){if(f4.rest[f3]==f2){return{map:f4.measure.maps[f3],cache:f4.measure.caches[f3]};}}for(var f3=0;f3<f4.rest.length;f3++){if(bM(f4.rest[f3])>f5){return{map:f4.measure.maps[f3],cache:f4.measure.caches[f3],before:true};}}}function cW(f2,f4){f4=z(f4);var f6=bM(f4);var f3=f2.display.externalMeasured=new bu(f2.doc,f4,f6);f3.lineN=f6;var f5=f3.built=eG(f2,f3);f3.text=f5.pre;bQ(f2.display.lineMeasure,f5.pre);return f3;}function d5(f2,f3,f5,f4){return E(f2,a1(f2,f3),f5,f4);}function eZ(f2,f4){if(f4>=f2.display.viewFrom&&f4<f2.display.viewTo){return f2.display.view[di(f2,f4)];}var f3=f2.display.externalMeasured;if(f3&&f4>=f3.lineN&&f4<f3.lineN+f3.size){return f3;}}function a1(f2,f4){var f5=bM(f4);var f3=eZ(f2,f5);if(f3&&!f3.text){f3=null;}else{if(f3&&f3.changes){aa(f2,f3,f5,e1(f2));}}if(!f3){f3=cW(f2,f4);}var f6=cs(f3,f4,f5);return{line:f4,view:f3,rect:null,map:f6.map,cache:f6.cache,before:f6.before,hasHeights:false};}function E(f2,f8,f6,f3,f5){if(f8.before){f6=-1;}var f4=f6+(f3||""),f7;if(f8.cache.hasOwnProperty(f4)){f7=f8.cache[f4];}else{if(!f8.rect){f8.rect=f8.view.text.getBoundingClientRect();}if(!f8.hasHeights){ch(f2,f8.view,f8.rect);f8.hasHeights=true;}f7=j(f2,f8,f6,f3);if(!f7.bogus){f8.cache[f4]=f7;}}return{left:f7.left,right:f7.right,top:f5?f7.rtop:f7.top,bottom:f5?f7.rbottom:f7.bottom};}var ep={left:0,right:0,top:0,bottom:0};function j(f9,gj,gb,f7){var gn=gj.map;var gg,f6,f5,f2;for(var gi=0;gi<gn.length;gi+=3){var gl=gn[gi],gh=gn[gi+1];if(gb<gl){f6=0;f5=1;f2="left";}else{if(gb<gh){f6=gb-gl;f5=f6+1;}else{if(gi==gn.length-3||gb==gh&&gn[gi+3]>gb){f5=gh-gl;f6=f5-1;if(gb>=gh){f2="right";}}}}if(f6!=null){gg=gn[gi+2];if(gl==gh&&f7==(gg.insertLeft?"left":"right")){f2=f7;}if(f7=="left"&&f6==0){while(gi&&gn[gi-2]==gn[gi-3]&&gn[gi-1].insertLeft){gg=gn[(gi-=3)+2];f2="left";}}if(f7=="right"&&f6==gh-gl){while(gi<gn.length-3&&gn[gi+3]==gn[gi+4]&&!gn[gi+5].insertLeft){gg=gn[(gi+=3)+2];f2="right";}}break;}}var f3;if(gg.nodeType==3){for(;;){while(f6&&fe(gj.line.text.charAt(gl+f6))){--f6;}while(gl+f5<gh&&fe(gj.line.text.charAt(gl+f5))){++f5;}if(dA&&l<9&&f6==0&&f5==gh-gl){f3=gg.parentNode.getBoundingClientRect();}else{if(dA&&f9.options.lineWrapping){var f4=cl(gg,f6,f5).getClientRects();if(f4.length){f3=f4[f7=="right"?f4.length-1:0];}else{f3=ep;}}else{f3=cl(gg,f6,f5).getBoundingClientRect()||ep;}}if(f3.left||f3.right||f6==0){break;}f5=f6;f6=f6-1;f2="right";}}else{if(f6>0){f2=f7="right";}var f4;if(f9.options.lineWrapping&&(f4=gg.getClientRects()).length>1){f3=f4[f7=="right"?f4.length-1:0];}else{f3=gg.getBoundingClientRect();}}if(dA&&l<9&&!f6&&(!f3||!f3.left&&!f3.right)){var f8=gg.parentNode.getClientRects()[0];if(f8){f3={left:f8.left,right:f8.left+du(f9.display),top:f8.top,bottom:f8.bottom};}else{f3=ep;}}if(dA&&l<11){f3=eC(f9.display.measure,f3);}var ge=f3.top-gj.rect.top,gc=f3.bottom-gj.rect.top;var gm=(ge+gc)/2;var gk=gj.view.measure.heights;for(var gi=0;gi<gk.length-1;gi++){if(gm<gk[gi]){break;}}var gf=gi?gk[gi-1]:0,gd=gk[gi];var ga={left:(f2=="right"?f3.right:f3.left)-gj.rect.left,right:(f2=="left"?f3.left:f3.right)-gj.rect.left,top:gf,bottom:gd};if(!f3.left&&!f3.right){ga.bogus=true;}if(!f9.options.singleCursorHeightPerLine){ga.rtop=ge;ga.rbottom=gc;}return ga;}function eC(f4,f5){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!aJ(f4)){return f5;}var f3=screen.logicalXDPI/screen.deviceXDPI;var f2=screen.logicalYDPI/screen.deviceYDPI;return{left:f5.left*f3,right:f5.right*f3,top:f5.top*f2,bottom:f5.bottom*f2};}function au(f3){if(f3.measure){f3.measure.cache={};f3.measure.heights=null;if(f3.rest){for(var f2=0;f2<f3.rest.length;f2++){f3.measure.caches[f2]={};}}}}function aM(f2){f2.display.externalMeasure=null;dQ(f2.display.lineMeasure);for(var f3=0;f3<f2.display.view.length;f3++){au(f2.display.view[f3]);}}function aj(f2){aM(f2);f2.display.cachedCharWidth=f2.display.cachedTextHeight=f2.display.cachedPaddingH=null;if(!f2.options.lineWrapping){f2.display.maxLineChanged=true;}f2.display.lineNumChars=null;}function ct(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft;}function cr(){return window.pageYOffset||(document.documentElement||document.body).scrollTop;}function eF(f8,f5,f7,f3){if(f5.widgets){for(var f4=0;f4<f5.widgets.length;++f4){if(f5.widgets[f4].above){var ga=cT(f5.widgets[f4]);f7.top+=ga;f7.bottom+=ga;}}}if(f3=="line"){return f7;}if(!f3){f3="local";}var f6=bL(f5);if(f3=="local"){f6+=eW(f8.display);}else{f6-=f8.display.viewOffset;}if(f3=="page"||f3=="window"){var f2=f8.display.lineSpace.getBoundingClientRect();f6+=f2.top+(f3=="window"?0:cr());var f9=f2.left+(f3=="window"?0:ct());f7.left+=f9;f7.right+=f9;}f7.top+=f6;f7.bottom+=f6;return f7;}function fY(f3,f6,f4){if(f4=="div"){return f6;}var f8=f6.left,f7=f6.top;if(f4=="page"){f8-=ct();f7-=cr();}else{if(f4=="local"||!f4){var f5=f3.display.sizer.getBoundingClientRect();f8+=f5.left;f7+=f5.top;}}var f2=f3.display.lineSpace.getBoundingClientRect();return{left:f8-f2.left,top:f7-f2.top};}function cG(f2,f6,f5,f4,f3){if(!f4){f4=e3(f2.doc,f6.line);}return eF(f2,f4,d5(f2,f4,f6.ch,f3),f5);}function dJ(gb,ga,f4,f8,gd,f9){f8=f8||e3(gb.doc,ga.line);if(!gd){gd=a1(gb,f8);}function f6(gg,gf){var ge=E(gb,gd,gg,gf?"right":"left",f9);if(gf){ge.left=ge.right;}else{ge.right=ge.left;}return eF(gb,f8,ge,f4);}function gc(gh,ge){var gf=f7[ge],gg=gf.level%2;if(gh==dp(gf)&&ge&&gf.level<f7[ge-1].level){gf=f7[--ge];gh=fX(gf)-(gf.level%2?0:1);gg=true;}else{if(gh==fX(gf)&&ge<f7.length-1&&gf.level<f7[ge+1].level){gf=f7[++ge];gh=dp(gf)-gf.level%2;gg=false;}}if(gg&&gh==gf.to&&gh>gf.from){return f6(gh-1);}return f6(gh,gg);}var f7=a(f8),f2=ga.ch;if(!f7){return f6(f2);}var f3=aF(f7,f2);var f5=gc(f2,f3);if(eR!=null){f5.other=gc(f2,eR);}return f5;}function dy(f2,f6){var f5=0,f6=fy(f2.doc,f6);if(!f2.options.lineWrapping){f5=du(f2.display)*f6.ch;}var f3=e3(f2.doc,f6.line);var f4=bL(f3)+eW(f2.display);return{left:f5,right:f5,top:f4,bottom:f4+f3.height};}function fK(f2,f3,f4,f6){var f5=X(f2,f3);f5.xRel=f6;if(f4){f5.outside=true;}return f5;}function fD(f9,f6,f5){var f8=f9.doc;f5+=f9.display.viewOffset;if(f5<0){return fK(f8.first,0,true,-1);}var f4=bF(f8,f5),ga=f8.first+f8.size-1;if(f4>ga){return fK(f8.first+f8.size-1,e3(f8,ga).text.length,true,1);}if(f6<0){f6=0;}var f3=e3(f8,f4);for(;;){var gb=cU(f9,f3,f4,f6,f5);var f7=ej(f3);var f2=f7&&f7.find(0,true);if(f7&&(gb.ch>f2.from.ch||gb.ch==f2.from.ch&&gb.xRel>0)){f4=bM(f3=f2.to.line);}else{return gb;}}}function cU(gc,f4,gf,ge,gd){var gb=gd-bL(f4);var f8=false,gl=2*gc.display.wrapper.clientWidth;var gi=a1(gc,f4);function gp(gr){var gs=dJ(gc,X(gf,gr),"line",f4,gi);f8=true;if(gb>gs.bottom){return gs.left-gl;}else{if(gb<gs.top){return gs.left+gl;}else{f8=false;}}return gs.left;}var gh=a(f4),gk=f4.text.length;var gm=cC(f4),f5=cP(f4);var gj=gp(gm),f2=f8,f3=gp(f5),f7=f8;if(ge>f3){return fK(gf,f5,f7,1);}for(;;){if(gh?f5==gm||f5==v(f4,gm,1):f5-gm<=1){var gg=ge<gj||ge-gj<=f3-ge?gm:f5;var go=ge-(gg==gm?gj:f3);while(fe(f4.text.charAt(gg))){++gg;}var ga=fK(gf,gg,gg==gm?f2:f7,go<-1?-1:go>1?1:0);return ga;}var f9=Math.ceil(gk/2),gq=gm+f9;if(gh){gq=gm;for(var gn=0;gn<f9;++gn){gq=v(f4,gq,1);}}var f6=gp(gq);if(f6>ge){f5=gq;f3=f6;if(f7=f8){f3+=1000;}gk=f9;}else{gm=gq;gj=f6;f2=f8;gk-=f9;}}}var aG;function aU(f4){if(f4.cachedTextHeight!=null){return f4.cachedTextHeight;}if(aG==null){aG=fL("pre");for(var f3=0;f3<49;++f3){aG.appendChild(document.createTextNode("x"));aG.appendChild(fL("br"));}aG.appendChild(document.createTextNode("x"));}bQ(f4.measure,aG);var f2=aG.offsetHeight/50;if(f2>3){f4.cachedTextHeight=f2;}dQ(f4.measure);return f2||1;}function du(f6){if(f6.cachedCharWidth!=null){return f6.cachedCharWidth;}var f2=fL("span","xxxxxxxxxx");var f5=fL("pre",[f2]);bQ(f6.measure,f5);var f4=f2.getBoundingClientRect(),f3=(f4.right-f4.left)/10;if(f3>2){f6.cachedCharWidth=f3;}return f3||10;}var bo=null;var dX=0;function cF(f2){f2.curOp={cm:f2,viewChanged:false,startHeight:f2.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++dX};if(bo){bo.ops.push(f2.curOp);}else{f2.curOp.ownsGroup=bo={ops:[f2.curOp],delayedCallbacks:[]};}}function cQ(f5){var f4=f5.delayedCallbacks,f3=0;do{for(;f3<f4.length;f3++){f4[f3]();}for(var f2=0;f2<f5.ops.length;f2++){var f6=f5.ops[f2];if(f6.cursorActivityHandlers){while(f6.cursorActivityCalled<f6.cursorActivityHandlers.length){f6.cursorActivityHandlers[f6.cursorActivityCalled++](f6.cm);}}}}while(f3<f4.length);}function al(f2){var f5=f2.curOp,f4=f5.ownsGroup;if(!f4){return;}try{cQ(f4);}finally{bo=null;for(var f3=0;f3<f4.ops.length;f3++){f4.ops[f3].cm.curOp=null;}cH(f4);}}function cH(f4){var f3=f4.ops;for(var f2=0;f2<f3.length;f2++){b4(f3[f2]);}for(var f2=0;f2<f3.length;f2++){ap(f3[f2]);}for(var f2=0;f2<f3.length;f2++){b1(f3[f2]);}for(var f2=0;f2<f3.length;f2++){ao(f3[f2]);}for(var f2=0;f2<f3.length;f2++){eP(f3[f2]);}}function b4(f4){var f2=f4.cm,f3=f2.display;if(f4.updateMaxLine){g(f2);}f4.mustUpdate=f4.viewChanged||f4.forceUpdate||f4.scrollTop!=null||f4.scrollToPos&&(f4.scrollToPos.from.line<f3.viewFrom||f4.scrollToPos.to.line>=f3.viewTo)||f3.maxLineChanged&&f2.options.lineWrapping;f4.update=f4.mustUpdate&&new aH(f2,f4.mustUpdate&&{top:f4.scrollTop,ensure:f4.scrollToPos},f4.forceUpdate);}function ap(f2){f2.updatedDisplay=f2.mustUpdate&&D(f2.cm,f2.update);}function b1(f4){var f2=f4.cm,f3=f2.display;if(f4.updatedDisplay){a6(f2);}f4.barMeasure=dr(f2);if(f3.maxLineChanged&&!f2.options.lineWrapping){f4.adjustWidthTo=d5(f2,f3.maxLine,f3.maxLine.text.length).left+3;f4.maxScrollLeft=Math.max(0,f3.sizer.offsetLeft+f4.adjustWidthTo+bh-f3.scroller.clientWidth);}if(f4.updatedDisplay||f4.selectionChanged){f4.newSelectionNodes=bk(f2);}}function ao(f3){var f2=f3.cm;if(f3.adjustWidthTo!=null){f2.display.sizer.style.minWidth=f3.adjustWidthTo+"px";if(f3.maxScrollLeft<f2.doc.scrollLeft){bD(f2,Math.min(f2.display.scroller.scrollLeft,f3.maxScrollLeft),true);}f2.display.maxLineChanged=false;}if(f3.newSelectionNodes){ak(f2,f3.newSelectionNodes);}if(f3.updatedDisplay){dq(f2,f3.barMeasure);}if(f3.updatedDisplay||f3.startHeight!=f2.doc.height){eN(f2,f3.barMeasure);}if(f3.selectionChanged){p(f2);}if(f2.state.focused&&f3.updateInput){fd(f2,f3.typing);}}function eP(f5){var gb=f5.cm,f7=gb.display,ga=gb.doc;if(f5.adjustWidthTo!=null&&Math.abs(f5.barMeasure.scrollWidth-gb.display.scroller.scrollWidth)>1){eN(gb);}if(f5.updatedDisplay){cj(gb,f5.update);}if(f7.wheelStartX!=null&&(f5.scrollTop!=null||f5.scrollLeft!=null||f5.scrollToPos)){f7.wheelStartX=f7.wheelStartY=null;}if(f5.scrollTop!=null&&f7.scroller.scrollTop!=f5.scrollTop){var f8=Math.max(0,Math.min(f7.scroller.scrollHeight-f7.scroller.clientHeight,f5.scrollTop));f7.scroller.scrollTop=f7.scrollbarV.scrollTop=ga.scrollTop=f8;}if(f5.scrollLeft!=null&&f7.scroller.scrollLeft!=f5.scrollLeft){var f3=Math.max(0,Math.min(f7.scroller.scrollWidth-f7.scroller.clientWidth,f5.scrollLeft));f7.scroller.scrollLeft=f7.scrollbarH.scrollLeft=ga.scrollLeft=f3;et(gb);}if(f5.scrollToPos){var f9=F(gb,fy(ga,f5.scrollToPos.from),fy(ga,f5.scrollToPos.to),f5.scrollToPos.margin);if(f5.scrollToPos.isCursor&&gb.state.focused){dV(gb,f9);}}var f6=f5.maybeHiddenMarkers,f2=f5.maybeUnhiddenMarkers;if(f6){for(var f4=0;f4<f6.length;++f4){if(!f6[f4].lines.length){aD(f6[f4],"hide");}}}if(f2){for(var f4=0;f4<f2.length;++f4){if(f2[f4].lines.length){aD(f2[f4],"unhide");}}}if(f7.wrapper.offsetHeight){ga.scrollTop=gb.display.scroller.scrollTop;}if(f5.updatedDisplay&&cV){if(gb.options.lineWrapping){fO(gb,f5.barMeasure);}if(f5.barMeasure.scrollWidth>f5.barMeasure.clientWidth&&f5.barMeasure.scrollWidth<f5.barMeasure.clientWidth+1&&!cN(gb)){eN(gb);}}if(f5.changeObjs){aD(gb,"changes",gb,f5.changeObjs);}}function cJ(f2,f3){if(f2.curOp){return f3();}cF(f2);try{return f3();}finally{al(f2);}}function cX(f2,f3){return function(){if(f2.curOp){return f3.apply(f2,arguments);}cF(f2);try{return f3.apply(f2,arguments);}finally{al(f2);}};}function c3(f2){return function(){if(this.curOp){return f2.apply(this,arguments);}cF(this);try{return f2.apply(this,arguments);}finally{al(this);}};}function cB(f2){return function(){var f3=this.cm;if(!f3||f3.curOp){return f2.apply(this,arguments);}cF(f3);try{return f2.apply(this,arguments);}finally{al(f3);}};}function bu(f4,f2,f3){this.line=f2;this.rest=h(f2);this.size=this.rest?bM(fw(this.rest))-f3+1:1;this.node=this.text=null;this.hidden=fl(f4,f2);}function eK(f2,f8,f7){var f6=[],f4;for(var f5=f8;f5<f7;f5=f4){var f3=new bu(f2.doc,e3(f2.doc,f5),f5);f4=f5+f3.size;f6.push(f3);}return f6;}function ag(f9,f7,f8,ga){if(f7==null){f7=f9.doc.first;}if(f8==null){f8=f9.doc.first+f9.doc.size;}if(!ga){ga=0;}var f4=f9.display;if(ga&&f8<f4.viewTo&&(f4.updateLineNumbers==null||f4.updateLineNumbers>f7)){f4.updateLineNumbers=f7;}f9.curOp.viewChanged=true;if(f7>=f4.viewTo){if(a4&&aT(f9.doc,f7)<f4.viewTo){el(f9);}}else{if(f8<=f4.viewFrom){if(a4&&dS(f9.doc,f8+ga)>f4.viewFrom){el(f9);}else{f4.viewFrom+=ga;f4.viewTo+=ga;}}else{if(f7<=f4.viewFrom&&f8>=f4.viewTo){el(f9);}else{if(f7<=f4.viewFrom){var f6=c9(f9,f8,f8+ga,1);if(f6){f4.view=f4.view.slice(f6.index);f4.viewFrom=f6.lineN;f4.viewTo+=ga;}else{el(f9);}}else{if(f8>=f4.viewTo){var f6=c9(f9,f7,f7,-1);if(f6){f4.view=f4.view.slice(0,f6.index);f4.viewTo=f6.lineN;}else{el(f9);}}else{var f5=c9(f9,f7,f7,-1);var f3=c9(f9,f8,f8+ga,1);if(f5&&f3){f4.view=f4.view.slice(0,f5.index).concat(eK(f9,f5.lineN,f3.lineN)).concat(f4.view.slice(f3.index));f4.viewTo+=ga;}else{el(f9);}}}}}}var f2=f4.externalMeasured;if(f2){if(f8<f2.lineN){f2.lineN+=ga;}else{if(f7<f2.lineN+f2.size){f4.externalMeasured=null;}}}}function S(f3,f4,f7){f3.curOp.viewChanged=true;var f8=f3.display,f6=f3.display.externalMeasured;if(f6&&f4>=f6.lineN&&f4<f6.lineN+f6.size){f8.externalMeasured=null;}if(f4<f8.viewFrom||f4>=f8.viewTo){return;}var f5=f8.view[di(f3,f4)];if(f5.node==null){return;}var f2=f5.changes||(f5.changes=[]);if(dc(f2,f7)==-1){f2.push(f7);}}function el(f2){f2.display.viewFrom=f2.display.viewTo=f2.doc.first;f2.display.view=[];f2.display.viewOffset=0;}function di(f2,f5){if(f5>=f2.display.viewTo){return null;}f5-=f2.display.viewFrom;if(f5<0){return null;}var f3=f2.display.view;for(var f4=0;f4<f3.length;f4++){f5-=f3[f4].size;if(f5<0){return f4;}}}function c9(ga,f4,f6,f3){var f7=di(ga,f4),f9,f8=ga.display.view;if(!a4||f6==ga.doc.first+ga.doc.size){return{index:f7,lineN:f6};}for(var f5=0,f2=ga.display.viewFrom;f5<f7;f5++){f2+=f8[f5].size;}if(f2!=f4){if(f3>0){if(f7==f8.length-1){return null;}f9=(f2+f8[f7].size)-f4;f7++;}else{f9=f2-f4;}f4+=f9;f6+=f9;}while(aT(ga.doc,f6)!=f6){if(f7==(f3<0?0:f8.length-1)){return null;}f6+=f3*f8[f7-(f3<0?1:0)].size;f7+=f3;}return{index:f7,lineN:f6};}function cO(f2,f6,f5){var f4=f2.display,f3=f4.view;if(f3.length==0||f6>=f4.viewTo||f5<=f4.viewFrom){f4.view=eK(f2,f6,f5);f4.viewFrom=f6;}else{if(f4.viewFrom>f6){f4.view=eK(f2,f6,f4.viewFrom).concat(f4.view);}else{if(f4.viewFrom<f6){f4.view=f4.view.slice(di(f2,f6));}}f4.viewFrom=f6;if(f4.viewTo<f5){f4.view=f4.view.concat(eK(f2,f4.viewTo,f5));}else{if(f4.viewTo>f5){f4.view=f4.view.slice(0,di(f2,f5));}}}f4.viewTo=f5;}function c6(f2){var f3=f2.display.view,f6=0;for(var f5=0;f5<f3.length;f5++){var f4=f3[f5];if(!f4.hidden&&(!f4.node||f4.changes)){++f6;}}return f6;}function bl(f2){if(f2.display.pollingFast){return;}f2.display.poll.set(f2.options.pollInterval,function(){cg(f2);if(f2.state.focused){bl(f2);}});}function C(f2){var f3=false;f2.display.pollingFast=true;function f4(){var f5=cg(f2);if(!f5&&!f3){f3=true;f2.display.poll.set(60,f4);}else{f2.display.pollingFast=false;bl(f2);}}f2.display.poll.set(20,f4);}var bj=null;function cg(f6){var f7=f6.display.input,ga=f6.display.prevInput,gl=f6.doc;if(!f6.state.focused||(br(f7)&&!ga)||ai(f6)||f6.options.disableInput){return false;}if(f6.state.pasteIncoming&&f6.state.fakedLastChar){f7.value=f7.value.substring(0,f7.value.length-1);f6.state.fakedLastChar=false;}var f9=f7.value;if(f9==ga&&!f6.somethingSelected()){return false;}if(dA&&l>=9&&f6.display.inputHasSelection===f9||b6&&/[\uf700-\uf7ff]/.test(f9)){fd(f6);return false;}var gh=!f6.curOp;if(gh){cF(f6);}f6.display.shift=false;if(f9.charCodeAt(0)==8203&&gl.sel==f6.display.selForContextMenu&&!ga){ga="\u200b";}var gg=0,gd=Math.min(ga.length,f9.length);while(gg<gd&&ga.charCodeAt(gg)==f9.charCodeAt(gg)){++gg;}var f3=f9.slice(gg),gb=aX(f3);var gk=null;if(f6.state.pasteIncoming&&gl.sel.ranges.length>1){if(bj&&bj.join("\n")==f3){gk=gl.sel.ranges.length%bj.length==0&&bR(bj,aX);}else{if(gb.length==gl.sel.ranges.length){gk=bR(gb,function(gm){return[gm];});}}}for(var gi=gl.sel.ranges.length-1;gi>=0;gi--){var gc=gl.sel.ranges[gi];var ge=gc.from(),f2=gc.to();if(gg<ga.length){ge=X(ge.line,ge.ch-(ga.length-gg));}else{if(f6.state.overwrite&&gc.empty()&&!f6.state.pasteIncoming){f2=X(f2.line,Math.min(e3(gl,f2.line).text.length,f2.ch+fw(gb).length));}}var f5=f6.curOp.updateInput;var gj={from:ge,to:f2,text:gk?gk[gi%gk.length]:gb,origin:f6.state.pasteIncoming?"paste":f6.state.cutIncoming?"cut":"+input"};bc(f6.doc,gj);ad(f6,"inputRead",f6,gj);if(f3&&!f6.state.pasteIncoming&&f6.options.electricChars&&f6.options.smartIndent&&gc.head.ch<100&&(!gi||gl.sel.ranges[gi-1].head.line!=gc.head.line)){var f8=f6.getModeAt(gc.head);if(f8.electricChars){for(var gf=0;gf<f8.electricChars.length;gf++){if(f3.indexOf(f8.electricChars.charAt(gf))>-1){ac(f6,gc.head.line,"smart");break;}}}else{if(f8.electricInput){var f4=cS(gj);if(f8.electricInput.test(e3(gl,f4.line).text.slice(0,f4.ch))){ac(f6,gc.head.line,"smart");}}}}}fv(f6);f6.curOp.updateInput=f5;f6.curOp.typing=true;if(f9.length>1000||f9.indexOf("\n")>-1){f7.value=f6.display.prevInput="";}else{f6.display.prevInput=f9;}if(gh){al(f6);}f6.state.pasteIncoming=f6.state.cutIncoming=false;return true;}function fd(f2,f6){var f3,f5,f8=f2.doc;if(f2.somethingSelected()){f2.display.prevInput="";var f4=f8.sel.primary();f3=c5&&(f4.to().line-f4.from().line>100||(f5=f2.getSelection()).length>1000);var f7=f3?"-":f5||f2.getSelection();f2.display.input.value=f7;if(f2.state.focused){dB(f2.display.input);}if(dA&&l>=9){f2.display.inputHasSelection=f7;}}else{if(!f6){f2.display.prevInput=f2.display.input.value="";if(dA&&l>=9){f2.display.inputHasSelection=null;}}}f2.display.inaccurateSelection=f3;}function eo(f2){if(f2.options.readOnly!="nocursor"&&(!d4||dD()!=f2.display.input)){f2.display.input.focus();}}function s(f2){if(!f2.state.focused){eo(f2);cz(f2);}}function ai(f2){return f2.options.readOnly||f2.doc.cantEdit;}function fE(f2){var f4=f2.display;bW(f4.scroller,"mousedown",cX(f2,eh));if(dA&&l<11){bW(f4.scroller,"dblclick",cX(f2,function(f8){if(aP(f2,f8)){return;}var f9=cn(f2,f8);if(!f9||m(f2,f8)||a7(f2.display,f8)){return;}cD(f8);var f7=aw(f2,f9);fI(f2.doc,f7.anchor,f7.head);}));}else{bW(f4.scroller,"dblclick",function(f7){aP(f2,f7)||cD(f7);});}bW(f4.lineSpace,"selectstart",function(f7){if(!a7(f4,f7)){cD(f7);}});if(!fT){bW(f4.scroller,"contextmenu",function(f7){az(f2,f7);});}bW(f4.scroller,"scroll",function(){if(f4.scroller.clientHeight){O(f2,f4.scroller.scrollTop);bD(f2,f4.scroller.scrollLeft,true);aD(f2,"scroll",f2);}});bW(f4.scrollbarV,"scroll",function(){if(f4.scroller.clientHeight){O(f2,f4.scrollbarV.scrollTop);}});bW(f4.scrollbarH,"scroll",function(){if(f4.scroller.clientHeight){bD(f2,f4.scrollbarH.scrollLeft);}});bW(f4.scroller,"mousewheel",function(f7){b(f2,f7);});bW(f4.scroller,"DOMMouseScroll",function(f7){b(f2,f7);});function f6(){if(f2.state.focused){setTimeout(cu(eo,f2),0);}}bW(f4.scrollbarH,"mousedown",f6);bW(f4.scrollbarV,"mousedown",f6);bW(f4.wrapper,"scroll",function(){f4.wrapper.scrollTop=f4.wrapper.scrollLeft=0;});bW(f4.input,"keyup",function(f7){be.call(f2,f7);});bW(f4.input,"input",function(){if(dA&&l>=9&&f2.display.inputHasSelection){f2.display.inputHasSelection=null;}C(f2);});bW(f4.input,"keydown",cX(f2,q));bW(f4.input,"keypress",cX(f2,cw));bW(f4.input,"focus",cu(cz,f2));bW(f4.input,"blur",cu(aS,f2));function f3(f7){if(!aP(f2,f7)){ef(f7);}}if(f2.options.dragDrop){bW(f4.scroller,"dragstart",function(f7){R(f2,f7);});bW(f4.scroller,"dragenter",f3);bW(f4.scroller,"dragover",f3);bW(f4.scroller,"drop",cX(f2,bg));}bW(f4.scroller,"paste",function(f7){if(a7(f4,f7)){return;}f2.state.pasteIncoming=true;eo(f2);C(f2);});bW(f4.input,"paste",function(){if(cV&&!f2.state.fakedLastChar&&!(new Date-f2.state.lastMiddleDown<200)){var f8=f4.input.selectionStart,f7=f4.input.selectionEnd;f4.input.value+="$";f4.input.selectionEnd=f7;f4.input.selectionStart=f8;f2.state.fakedLastChar=true;}f2.state.pasteIncoming=true;C(f2);});function f5(gb){if(f2.somethingSelected()){bj=f2.getSelections();if(f4.inaccurateSelection){f4.prevInput="";f4.inaccurateSelection=false;f4.input.value=bj.join("\n");dB(f4.input);}}else{var gc=[],f8=[];for(var f9=0;f9<f2.doc.sel.ranges.length;f9++){var f7=f2.doc.sel.ranges[f9].head.line;var ga={anchor:X(f7,0),head:X(f7+1,0)};f8.push(ga);gc.push(f2.getRange(ga.anchor,ga.head));}if(gb.type=="cut"){f2.setSelections(f8,null,Z);}else{f4.prevInput="";f4.input.value=gc.join("\n");dB(f4.input);}bj=gc;}if(gb.type=="cut"){f2.state.cutIncoming=true;}}bW(f4.input,"cut",f5);bW(f4.input,"copy",f5);if(a8){bW(f4.sizer,"mouseup",function(){if(dD()==f4.input){f4.input.blur();}eo(f2);});}}function aR(f2){var f3=f2.display;f3.cachedCharWidth=f3.cachedTextHeight=f3.cachedPaddingH=null;f2.setSize();}function a7(f3,f2){for(var f4=M(f2);f4!=f3.wrapper;f4=f4.parentNode){if(!f4||f4.ignoreEvents||f4.parentNode==f3.sizer&&f4!=f3.mover){return true;}}}function cn(gc,f6,f3,f4){var f8=gc.display;if(!f3){var f7=M(f6);if(f7==f8.scrollbarH||f7==f8.scrollbarV||f7==f8.scrollbarFiller||f7==f8.gutterFiller){return null;}}var gb,f9,f2=f8.lineSpace.getBoundingClientRect();try{gb=f6.clientX-f2.left;f9=f6.clientY-f2.top;}catch(f6){return null;}var ga=fD(gc,gb,f9),gd;if(f4&&ga.xRel==1&&(gd=e3(gc.doc,ga.line).text).length==ga.ch){var f5=bS(gd,gd.length,gc.options.tabSize)-gd.length;ga=X(ga.line,Math.max(0,Math.round((gb-eT(gc.display).left)/du(gc.display))-f5));}return ga;}function eh(f4){if(aP(this,f4)){return;}var f2=this,f3=f2.display;f3.shift=f4.shiftKey;if(a7(f3,f4)){if(!cV){f3.scroller.draggable=false;setTimeout(function(){f3.scroller.draggable=true;},100);}return;}if(m(f2,f4)){return;}var f5=cn(f2,f4);window.focus();switch(fC(f4)){case 1:if(f5){ay(f2,f4,f5);}else{if(M(f4)==f3.scroller){cD(f4);}}break;case 2:if(cV){f2.state.lastMiddleDown=+new Date;}if(f5){fI(f2.doc,f5);}setTimeout(cu(eo,f2),20);cD(f4);break;case 3:if(fT){az(f2,f4);}break;}}var df,c8;function ay(f3,f7,f8){setTimeout(cu(s,f3),0);var f4=+new Date,f5;if(c8&&c8.time>f4-400&&ce(c8.pos,f8)==0){f5="triple";}else{if(df&&df.time>f4-400&&ce(df.pos,f8)==0){f5="double";c8={time:f4,pos:f8};}else{f5="single";df={time:f4,pos:f8};}}var f6=f3.doc.sel,f2=b6?f7.metaKey:f7.ctrlKey;if(f3.options.dragDrop&&eA&&!ai(f3)&&f5=="single"&&f6.contains(f8)>-1&&f6.somethingSelected()){a0(f3,f7,f8,f2);}else{n(f3,f7,f8,f5,f2);}}function a0(f4,f6,f7,f3){var f5=f4.display;var f2=cX(f4,function(f8){if(cV){f5.scroller.draggable=false;}f4.state.draggingText=false;d1(document,"mouseup",f2);d1(f5.scroller,"drop",f2);if(Math.abs(f6.clientX-f8.clientX)+Math.abs(f6.clientY-f8.clientY)<10){cD(f8);if(!f3){fI(f4.doc,f7);}eo(f4);if(dA&&l==9){setTimeout(function(){document.body.focus();eo(f4);},20);}}});if(cV){f5.scroller.draggable=true;}f4.state.draggingText=f2;if(f5.scroller.dragDrop){f5.scroller.dragDrop();}bW(document,"mouseup",f2);bW(f5.scroller,"drop",f2);}function n(f5,gj,f4,f2,f7){var gg=f5.display,gl=f5.doc;cD(gj);var f3,gk,f6=gl.sel;if(f7&&!gj.shiftKey){gk=gl.sel.contains(f4);if(gk>-1){f3=gl.sel.ranges[gk];}else{f3=new dN(f4,f4);}}else{f3=gl.sel.primary();}if(gj.altKey){f2="rect";if(!f7){f3=new dN(f4,f4);}f4=cn(f5,gj,true,true);gk=-1;}else{if(f2=="double"){var gh=aw(f5,f4);if(f5.display.shift||gl.extend){f3=fk(gl,f3,gh.anchor,gh.head);}else{f3=gh;}}else{if(f2=="triple"){var ga=new dN(X(f4.line,0),fy(gl,X(f4.line+1,0)));if(f5.display.shift||gl.extend){f3=fk(gl,f3,ga.anchor,ga.head);}else{f3=ga;}}else{f3=fk(gl,f3,f4);}}}if(!f7){gk=0;bT(gl,new fM([f3],0),N);f6=gl.sel;}else{if(gk>-1){e(gl,gk,f3,N);}else{gk=gl.sel.ranges.length;bT(gl,cv(gl.sel.ranges.concat([f3]),gk),{scroll:false,origin:"*mouse"});}}var gf=f4;function ge(gw){if(ce(gf,gw)==0){return;}gf=gw;if(f2=="rect"){var gn=[],gt=f5.options.tabSize;var gm=bS(e3(gl,f4.line).text,f4.ch,gt);var gz=bS(e3(gl,gw.line).text,gw.ch,gt);var go=Math.min(gm,gz),gx=Math.max(gm,gz);for(var gA=Math.min(f4.line,gw.line),gq=Math.min(f5.lastLine(),Math.max(f4.line,gw.line));gA<=gq;gA++){var gy=e3(gl,gA).text,gp=ee(gy,go,gt);if(go==gx){gn.push(new dN(X(gA,gp),X(gA,gp)));}else{if(gy.length>gp){gn.push(new dN(X(gA,gp),X(gA,ee(gy,gx,gt))));}}}if(!gn.length){gn.push(new dN(f4,f4));}bT(gl,cv(f6.ranges.slice(0,gk).concat(gn),gk),{origin:"*mouse",scroll:false});f5.scrollIntoView(gw);}else{var gu=f3;var gr=gu.anchor,gv=gw;if(f2!="single"){if(f2=="double"){var gs=aw(f5,gw);}else{var gs=new dN(X(gw.line,0),fy(gl,X(gw.line+1,0)));}if(ce(gs.anchor,gr)>0){gv=gs.head;gr=aq(gu.from(),gs.anchor);}else{gv=gs.anchor;gr=bw(gu.to(),gs.head);}}var gn=f6.ranges.slice(0);gn[gk]=new dN(fy(gl,gr),gv);bT(gl,cv(gn,gk),N);}}var gc=gg.wrapper.getBoundingClientRect();var f8=0;function gi(go){var gm=++f8;var gq=cn(f5,go,true,f2=="rect");if(!gq){return;}if(ce(gq,gf)!=0){s(f5);ge(gq);var gp=b5(gg,gl);if(gq.line>=gp.to||gq.line<gp.from){setTimeout(cX(f5,function(){if(f8==gm){gi(go);}}),150);}}else{var gn=go.clientY<gc.top?-20:go.clientY>gc.bottom?20:0;if(gn){setTimeout(cX(f5,function(){if(f8!=gm){return;}gg.scroller.scrollTop+=gn;gi(go);}),50);}}}function gb(gm){f8=Infinity;cD(gm);eo(f5);d1(document,"mousemove",gd);d1(document,"mouseup",f9);gl.history.lastSelOrigin=null;}var gd=cX(f5,function(gm){if(!fC(gm)){gb(gm);}else{gi(gm);}});var f9=cX(f5,gb);bW(document,"mousemove",gd);bW(document,"mouseup",f9);}function f0(gd,f9,gb,gc,f5){try{var f3=f9.clientX,f2=f9.clientY;}catch(f9){return false;}if(f3>=Math.floor(gd.display.gutters.getBoundingClientRect().right)){return false;}if(gc){cD(f9);}var ga=gd.display;var f8=ga.lineDiv.getBoundingClientRect();if(f2>f8.bottom||!e6(gd,gb)){return bK(f9);}f2-=f8.top-ga.viewOffset;for(var f6=0;f6<gd.options.gutters.length;++f6){var f7=ga.gutters.childNodes[f6];if(f7&&f7.getBoundingClientRect().right>=f3){var ge=bF(gd.doc,f2);var f4=gd.options.gutters[f6];f5(gd,gb,gd,ge,f4,f9);return bK(f9);}}}function m(f2,f3){return f0(f2,f3,"gutterClick",true,ad);}var af=0;function bg(f8){var ga=this;if(aP(ga,f8)||a7(ga.display,f8)){return;}cD(f8);if(dA){af=+new Date;}var f9=cn(ga,f8,true),f2=f8.dataTransfer.files;if(!f9||ai(ga)){return;}if(f2&&f2.length&&window.FileReader&&window.File){var f4=f2.length,gb=Array(f4),f3=0;var f6=function(ge,gd){var gc=new FileReader;gc.onload=cX(ga,function(){gb[gd]=gc.result;if(++f3==f4){f9=fy(ga.doc,f9);var gf={from:f9,to:f9,text:aX(gb.join("\n")),origin:"paste"};bc(ga.doc,gf);eV(ga.doc,eH(f9,cS(gf)));}});gc.readAsText(ge);};for(var f7=0;f7<f4;++f7){f6(f2[f7],f7);}}else{if(ga.state.draggingText&&ga.doc.sel.contains(f9)>-1){ga.state.draggingText(f8);setTimeout(cu(eo,ga),20);return;}try{var gb=f8.dataTransfer.getData("Text");if(gb){if(ga.state.draggingText&&!(b6?f8.metaKey:f8.ctrlKey)){var f5=ga.listSelections();}ed(ga.doc,eH(f9,f9));if(f5){for(var f7=0;f7<f5.length;++f7){aY(ga.doc,"",f5[f7].anchor,f5[f7].head,"drag");}}ga.replaceSelection(gb,"around","paste");eo(ga);}}catch(f8){}}}function R(f2,f4){if(dA&&(!f2.state.draggingText||+new Date-af<100)){ef(f4);return;}if(aP(f2,f4)||a7(f2.display,f4)){return;}f4.dataTransfer.setData("Text",f2.getSelection());if(f4.dataTransfer.setDragImage&&!aC){var f3=fL("img",null,null,"position: fixed; left: 0; top: 0;");f3.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(dR){f3.width=f3.height=1;f2.display.wrapper.appendChild(f3);f3._top=f3.offsetTop;}f4.dataTransfer.setDragImage(f3,0,0);if(dR){f3.parentNode.removeChild(f3);}}}function O(f2,f3){if(Math.abs(f2.doc.scrollTop-f3)<2){return;}f2.doc.scrollTop=f3;if(!co){dI(f2,{top:f3});}if(f2.display.scroller.scrollTop!=f3){f2.display.scroller.scrollTop=f3;}if(f2.display.scrollbarV.scrollTop!=f3){f2.display.scrollbarV.scrollTop=f3;}if(co){dI(f2);}d3(f2,100);}function bD(f2,f4,f3){if(f3?f4==f2.doc.scrollLeft:Math.abs(f2.doc.scrollLeft-f4)<2){return;}f4=Math.min(f4,f2.display.scroller.scrollWidth-f2.display.scroller.clientWidth);f2.doc.scrollLeft=f4;et(f2);if(f2.display.scroller.scrollLeft!=f4){f2.display.scroller.scrollLeft=f4;}if(f2.display.scrollbarH.scrollLeft!=f4){f2.display.scrollbarH.scrollLeft=f4;}}var fa=0,cf=null;if(dA){cf=-0.53;}else{if(co){cf=15;}else{if(c7){cf=-0.7;}else{if(aC){cf=-1/3;}}}}function b(ga,f4){var gd=f4.wheelDeltaX,gc=f4.wheelDeltaY;if(gd==null&&f4.detail&&f4.axis==f4.HORIZONTAL_AXIS){gd=f4.detail;}if(gc==null&&f4.detail&&f4.axis==f4.VERTICAL_AXIS){gc=f4.detail;}else{if(gc==null){gc=f4.wheelDelta;}}var f6=ga.display,f9=f6.scroller;if(!(gd&&f9.scrollWidth>f9.clientWidth||gc&&f9.scrollHeight>f9.clientHeight)){return;}if(gc&&b6&&cV){outer:for(var gb=f4.target,f8=f6.view;gb!=f9;gb=gb.parentNode){for(var f3=0;f3<f8.length;f3++){if(f8[f3].node==gb){ga.display.currentWheelTarget=gb;break outer;}}}}if(gd&&!co&&!dR&&cf!=null){if(gc){O(ga,Math.max(0,Math.min(f9.scrollTop+gc*cf,f9.scrollHeight-f9.clientHeight)));}bD(ga,Math.max(0,Math.min(f9.scrollLeft+gd*cf,f9.scrollWidth-f9.clientWidth)));cD(f4);f6.wheelStartX=null;return;}if(gc&&cf!=null){var f2=gc*cf;var f7=ga.doc.scrollTop,f5=f7+f6.wrapper.clientHeight;if(f2<0){f7=Math.max(0,f7+f2-50);}else{f5=Math.min(ga.doc.height,f5+f2+50);}dI(ga,{top:f7,bottom:f5});}if(fa<20){if(f6.wheelStartX==null){f6.wheelStartX=f9.scrollLeft;f6.wheelStartY=f9.scrollTop;f6.wheelDX=gd;f6.wheelDY=gc;setTimeout(function(){if(f6.wheelStartX==null){return;}var ge=f9.scrollLeft-f6.wheelStartX;var gg=f9.scrollTop-f6.wheelStartY;var gf=(gg&&f6.wheelDY&&gg/f6.wheelDY)||(ge&&f6.wheelDX&&ge/f6.wheelDX);f6.wheelStartX=f6.wheelStartY=null;if(!gf){return;}cf=(cf*fa+gf)/(fa+1);++fa;},200);}else{f6.wheelDX+=gd;f6.wheelDY+=gc;}}}function fF(f3,f6,f2){if(typeof f6=="string"){f6=es[f6];if(!f6){return false;}}if(f3.display.pollingFast&&cg(f3)){f3.display.pollingFast=false;}var f5=f3.display.shift,f4=false;try{if(ai(f3)){f3.state.suppressEdits=true;}if(f2){f3.display.shift=false;}f4=f6(f3)!=b9;}finally{f3.display.shift=f5;f3.state.suppressEdits=false;}return f4;}function dk(f2){var f3=f2.state.keyMaps.slice(0);if(f2.options.extraKeys){f3.push(f2.options.extraKeys);}f3.push(f2.options.keyMap);return f3;}var ar;function e7(f2,f8){var f3=fJ(f2.options.keyMap),f6=f3.auto;clearTimeout(ar);if(f6&&!er(f8)){ar=setTimeout(function(){if(fJ(f2.options.keyMap)==f3){f2.options.keyMap=(f6.call?f6.call(null,f2):f6);fZ(f2);}},50);}var f5=fg(f8,true),f7=false;if(!f5){return false;}var f4=dk(f2);if(f8.shiftKey){f7=i("Shift-"+f5,f4,function(f9){return fF(f2,f9,true);})||i(f5,f4,function(f9){if(typeof f9=="string"?/^go[A-Z]/.test(f9):f9.motion){return fF(f2,f9);}});}else{f7=i(f5,f4,function(f9){return fF(f2,f9);});}if(f7){cD(f8);p(f2);ad(f2,"keyHandled",f2,f5,f8);}return f7;}function d7(f2,f5,f3){var f4=i("'"+f3+"'",dk(f2),function(f6){return fF(f2,f6,true);});if(f4){cD(f5);p(f2);ad(f2,"keyHandled",f2,"'"+f3+"'",f5);}return f4;}var de=null;function q(f5){var f2=this;s(f2);if(aP(f2,f5)){return;}if(dA&&l<11&&f5.keyCode==27){f5.returnValue=false;}var f3=f5.keyCode;f2.display.shift=f3==16||f5.shiftKey;var f4=e7(f2,f5);if(dR){de=f4?f3:null;if(!f4&&f3==88&&!c5&&(b6?f5.metaKey:f5.ctrlKey)){f2.replaceSelection("",null,"cut");}}if(f3==18&&!/\bCodeMirror-crosshair\b/.test(f2.display.lineDiv.className)){av(f2);}}function av(f3){var f4=f3.display.lineDiv;fp(f4,"CodeMirror-crosshair");function f2(f5){if(f5.keyCode==18||!f5.altKey){f(f4,"CodeMirror-crosshair");d1(document,"keyup",f2);d1(document,"mouseover",f2);}}bW(document,"keyup",f2);bW(document,"mouseover",f2);}function be(f2){if(f2.keyCode==16){this.doc.sel.shift=false;}aP(this,f2);}function cw(f6){var f2=this;if(aP(f2,f6)||f6.ctrlKey&&!f6.altKey||b6&&f6.metaKey){return;}var f5=f6.keyCode,f3=f6.charCode;if(dR&&f5==de){de=null;cD(f6);return;}if(((dR&&(!f6.which||f6.which<10))||a8)&&e7(f2,f6)){return;}var f4=String.fromCharCode(f3==null?f5:f3);if(d7(f2,f6,f4)){return;}if(dA&&l>=9){f2.display.inputHasSelection=null;}C(f2);}function cz(f2){if(f2.options.readOnly=="nocursor"){return;}if(!f2.state.focused){aD(f2,"focus",f2);f2.state.focused=true;fp(f2.display.wrapper,"CodeMirror-focused");if(!f2.curOp&&f2.display.selForContextMenu!=f2.doc.sel){fd(f2);if(cV){setTimeout(cu(fd,f2,true),0);}}}bl(f2);p(f2);}function aS(f2){if(f2.state.focused){aD(f2,"blur",f2);f2.state.focused=false;f(f2.display.wrapper,"CodeMirror-focused");}clearInterval(f2.display.blinker);setTimeout(function(){if(!f2.state.focused){f2.display.shift=false;}},150);}function az(gb,f6){if(aP(gb,f6,"contextmenu")){return;}var f8=gb.display;if(a7(f8,f6)||db(gb,f6)){return;}var ga=cn(gb,f6),f2=f8.scroller.scrollTop;if(!ga||dR){return;}var f5=gb.options.resetSelectionOnContextMenu;if(f5&&gb.doc.sel.contains(ga)==-1){cX(gb,bT)(gb.doc,eH(ga),Z);}var f7=f8.input.style.cssText;f8.inputDiv.style.position="absolute";f8.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(f6.clientY-5)+"px; left: "+(f6.clientX-5)+"px; z-index: 1000; background: "+(dA?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(cV){var gc=window.scrollY;}eo(gb);if(cV){window.scrollTo(null,gc);}fd(gb);if(!gb.somethingSelected()){f8.input.value=f8.prevInput=" ";}f8.selForContextMenu=gb.doc.sel;clearTimeout(f8.detectingSelectAll);function f4(){if(f8.input.selectionStart!=null){var gd=gb.somethingSelected();var ge=f8.input.value="\u200b"+(gd?f8.input.value:"");f8.prevInput=gd?"":"\u200b";f8.input.selectionStart=1;f8.input.selectionEnd=ge.length;f8.selForContextMenu=gb.doc.sel;}}function f9(){f8.inputDiv.style.position="relative";f8.input.style.cssText=f7;if(dA&&l<9){f8.scrollbarV.scrollTop=f8.scroller.scrollTop=f2;}bl(gb);if(f8.input.selectionStart!=null){if(!dA||(dA&&l<9)){f4();}var gd=0,ge=function(){if(f8.selForContextMenu==gb.doc.sel&&f8.input.selectionStart==0){cX(gb,es.selectAll)(gb);}else{if(gd++<10){f8.detectingSelectAll=setTimeout(ge,500);}else{fd(gb);}}};f8.detectingSelectAll=setTimeout(ge,200);}}if(dA&&l>=9){f4();}if(fT){ef(f6);var f3=function(){d1(window,"mouseup",f3);setTimeout(f9,20);};bW(window,"mouseup",f3);}else{setTimeout(f9,50);}}function db(f2,f3){if(!e6(f2,"gutterContextMenu")){return false;}return f0(f2,f3,"gutterContextMenu",false,aD);}var cS=J.changeEnd=function(f2){if(!f2.text){return f2.to;}return X(f2.from.line+f2.text.length-1,fw(f2.text).length+(f2.text.length==1?f2.from.ch:0));};function bY(f5,f4){if(ce(f5,f4.from)<0){return f5;}if(ce(f5,f4.to)<=0){return cS(f4);}var f2=f5.line+f4.text.length-(f4.to.line-f4.from.line)-1,f3=f5.ch;if(f5.line==f4.to.line){f3+=cS(f4).ch-f4.to.ch;}return X(f2,f3);}function e8(f5,f6){var f3=[];for(var f4=0;f4<f5.sel.ranges.length;f4++){var f2=f5.sel.ranges[f4];f3.push(new dN(bY(f2.anchor,f6),bY(f2.head,f6)));}return cv(f3,f5.sel.primIndex);}function bt(f4,f3,f2){if(f4.line==f3.line){return X(f2.line,f4.ch-f3.ch+f2.ch);}else{return X(f2.line+(f4.line-f3.line),f4.ch);}}function ae(gc,f9,f3){var f4=[];var f2=X(gc.first,0),gd=f2;for(var f6=0;f6<f9.length;f6++){var f8=f9[f6];var gb=bt(f8.from,f2,gd);var ga=bt(cS(f8),f2,gd);f2=f8.to;gd=ga;if(f3=="around"){var f7=gc.sel.ranges[f6],f5=ce(f7.head,f7.anchor)<0;f4[f6]=new dN(f5?ga:gb,f5?gb:ga);}else{f4[f6]=new dN(gb,gb);}}return new fM(f4,gc.sel.primIndex);}function dG(f3,f5,f4){var f2={canceled:false,from:f5.from,to:f5.to,text:f5.text,origin:f5.origin,cancel:function(){this.canceled=true;}};if(f4){f2.update=function(f9,f8,f7,f6){if(f9){this.from=fy(f3,f9);}if(f8){this.to=fy(f3,f8);}if(f7){this.text=f7;}if(f6!==undefined){this.origin=f6;}};}aD(f3,"beforeChange",f3,f2);if(f3.cm){aD(f3.cm,"beforeChange",f3.cm,f2);}if(f2.canceled){return null;}return{from:f2.from,to:f2.to,text:f2.text,origin:f2.origin};}function bc(f5,f6,f4){if(f5.cm){if(!f5.cm.curOp){return cX(f5.cm,bc)(f5,f6,f4);}if(f5.cm.state.suppressEdits){return;}}if(e6(f5,"beforeChange")||f5.cm&&e6(f5.cm,"beforeChange")){f6=dG(f5,f6,true);if(!f6){return;}}var f3=fW&&!f4&&cE(f5,f6.from,f6.to);if(f3){for(var f2=f3.length-1;f2>=0;--f2){L(f5,{from:f3[f2].from,to:f3[f2].to,text:f2?[""]:f6.text});}}else{L(f5,f6);}}function L(f4,f5){if(f5.text.length==1&&f5.text[0]==""&&ce(f5.from,f5.to)==0){return;}var f3=e8(f4,f5);fB(f4,f5,f3,f4.cm?f4.cm.curOp.id:NaN);d2(f4,f5,f3,d8(f4,f5));var f2=[];dW(f4,function(f7,f6){if(!f6&&dc(f2,f7.history)==-1){dv(f7.history,f5);f2.push(f7.history);}d2(f7,f5,null,d8(f7,f5));});}function b7(gd,gb,gf){if(gd.cm&&gd.cm.state.suppressEdits){return;}var ga=gd.history,f4,f6=gd.sel;var f2=gb=="undo"?ga.done:ga.undone,ge=gb=="undo"?ga.undone:ga.done;for(var f7=0;f7<f2.length;f7++){f4=f2[f7];if(gf?f4.ranges&&!f4.equals(gd.sel):!f4.ranges){break;}}if(f7==f2.length){return;}ga.lastOrigin=ga.lastSelOrigin=null;for(;;){f4=f2.pop();if(f4.ranges){cK(f4,ge);if(gf&&!f4.equals(gd.sel)){bT(gd,f4,{clearRedo:false});return;}f6=f4;}else{break;}}var f9=[];cK(f6,ge);ge.push({changes:f9,generation:ga.generation});ga.generation=f4.generation||++ga.maxGeneration;var f5=e6(gd,"beforeChange")||gd.cm&&e6(gd.cm,"beforeChange");for(var f7=f4.changes.length-1;f7>=0;--f7){var gc=f4.changes[f7];gc.origin=gb;if(f5&&!dG(gd,gc,false)){f2.length=0;return;}f9.push(dl(gd,gc));var f3=f7?e8(gd,gc):fw(f2);d2(gd,gc,f3,dY(gd,gc));if(!f7&&gd.cm){gd.cm.scrollIntoView({from:gc.from,to:cS(gc)});}var f8=[];dW(gd,function(gh,gg){if(!gg&&dc(f8,gh.history)==-1){dv(gh.history,gc);f8.push(gh.history);}d2(gh,gc,null,dY(gh,gc));});}}function fb(f3,f5){if(f5==0){return;}f3.first+=f5;f3.sel=new fM(bR(f3.sel.ranges,function(f6){return new dN(X(f6.anchor.line+f5,f6.anchor.ch),X(f6.head.line+f5,f6.head.ch));}),f3.sel.primIndex);if(f3.cm){ag(f3.cm,f3.first,f3.first-f5,f5);for(var f4=f3.cm.display,f2=f4.viewFrom;f2<f4.viewTo;f2++){S(f3.cm,f2,"gutter");}}}function d2(f6,f7,f5,f3){if(f6.cm&&!f6.cm.curOp){return cX(f6.cm,d2)(f6,f7,f5,f3);}if(f7.to.line<f6.first){fb(f6,f7.text.length-1-(f7.to.line-f7.from.line));return;}if(f7.from.line>f6.lastLine()){return;}if(f7.from.line<f6.first){var f2=f7.text.length-1-(f6.first-f7.from.line);fb(f6,f2);f7={from:X(f6.first,0),to:X(f7.to.line+f2,f7.to.ch),text:[fw(f7.text)],origin:f7.origin};}var f4=f6.lastLine();if(f7.to.line>f4){f7={from:f7.from,to:X(f4,e3(f6,f4).text.length),text:[f7.text[0]],origin:f7.origin};}f7.removed=fN(f6,f7.from,f7.to);if(!f5){f5=e8(f6,f7);}if(f6.cm){aI(f6.cm,f7,f3);}else{fn(f6,f7,f3);}ed(f6,f5,Z);}function aI(gd,f9,f7){var gc=gd.doc,f8=gd.display,ga=f9.from,gb=f9.to;var f2=false,f6=ga.line;if(!gd.options.lineWrapping){f6=bM(z(e3(gc,ga.line)));gc.iter(f6,gb.line+1,function(gf){if(gf==f8.maxLine){f2=true;return true;}});}if(gc.sel.contains(f9.from,f9.to)>-1){W(gd);}fn(gc,f9,f7,ba(gd));if(!gd.options.lineWrapping){gc.iter(f6,ga.line+f9.text.length,function(gg){var gf=ea(gg);if(gf>f8.maxLineLength){f8.maxLine=gg;f8.maxLineLength=gf;f8.maxLineChanged=true;f2=false;}});if(f2){gd.curOp.updateMaxLine=true;}}gc.frontier=Math.min(gc.frontier,ga.line);d3(gd,400);var ge=f9.text.length-(gb.line-ga.line)-1;if(ga.line==gb.line&&f9.text.length==1&&!dH(gd.doc,f9)){S(gd,ga.line,"text");}else{ag(gd,ga.line,gb.line+1,ge);}var f4=e6(gd,"changes"),f5=e6(gd,"change");if(f5||f4){var f3={from:ga,to:gb,text:f9.text,removed:f9.removed,origin:f9.origin};if(f5){ad(gd,"change",gd,f3);}if(f4){(gd.curOp.changeObjs||(gd.curOp.changeObjs=[])).push(f3);}}gd.display.selForContextMenu=null;}function aY(f5,f4,f7,f6,f2){if(!f6){f6=f7;}if(ce(f6,f7)<0){var f3=f6;f6=f7;f7=f3;}if(typeof f4=="string"){f4=aX(f4);}bc(f5,{from:f7,to:f6,text:f4,origin:f2});}function dV(f3,f6){var f7=f3.display,f4=f7.sizer.getBoundingClientRect(),f2=null;if(f6.top+f4.top<0){f2=true;}else{if(f6.bottom+f4.top>(window.innerHeight||document.documentElement.clientHeight)){f2=false;}}if(f2!=null&&!fj){var f5=fL("div","\u200b",null,"position: absolute; top: "+(f6.top-f7.viewOffset-eW(f3.display))+"px; height: "+(f6.bottom-f6.top+bh)+"px; left: "+f6.left+"px; width: 2px;");f3.display.lineSpace.appendChild(f5);f5.scrollIntoView(f2);f3.display.lineSpace.removeChild(f5);}}function F(gb,f9,f6,f5){if(f5==null){f5=0;}for(;;){var f7=false,ga=dJ(gb,f9);var f2=!f6||f6==f9?ga:dJ(gb,f6);var f4=I(gb,Math.min(ga.left,f2.left),Math.min(ga.top,f2.top)-f5,Math.max(ga.left,f2.left),Math.max(ga.bottom,f2.bottom)+f5);var f8=gb.doc.scrollTop,f3=gb.doc.scrollLeft;if(f4.scrollTop!=null){O(gb,f4.scrollTop);if(Math.abs(gb.doc.scrollTop-f8)>1){f7=true;}}if(f4.scrollLeft!=null){bD(gb,f4.scrollLeft);if(Math.abs(gb.doc.scrollLeft-f3)>1){f7=true;}}if(!f7){return ga;}}}function G(f2,f4,f6,f3,f5){var f7=I(f2,f4,f6,f3,f5);if(f7.scrollTop!=null){O(f2,f7.scrollTop);}if(f7.scrollLeft!=null){bD(f2,f7.scrollLeft);}}function I(ge,f5,gd,f3,gc){var ga=ge.display,f8=aU(ge.display);if(gd<0){gd=0;}var f6=ge.curOp&&ge.curOp.scrollTop!=null?ge.curOp.scrollTop:ga.scroller.scrollTop;var gg=ga.scroller.clientHeight-bh,gi={};if(gc-gd>gg){gc=gd+gg;}var f4=ge.doc.height+bH(ga);var f2=gd<f8,f9=gc>f4-f8;if(gd<f6){gi.scrollTop=f2?0:gd;}else{if(gc>f6+gg){var gb=Math.min(gd,(f9?f4:gc)-gg);if(gb!=f6){gi.scrollTop=gb;}}}var gh=ge.curOp&&ge.curOp.scrollLeft!=null?ge.curOp.scrollLeft:ga.scroller.scrollLeft;var gf=ga.scroller.clientWidth-bh-ga.gutters.offsetWidth;var f7=f3-f5>gf;if(f7){f3=gd+gg;}if(f5<10){gi.scrollLeft=0;}else{if(f5<gh){gi.scrollLeft=Math.max(0,f5-(f7?0:10));}else{if(f3>gf+gh-3){gi.scrollLeft=f3+(f7?0:10)-gf;}}}return gi;}function cI(f2,f4,f3){if(f4!=null||f3!=null){fr(f2);}if(f4!=null){f2.curOp.scrollLeft=(f2.curOp.scrollLeft==null?f2.doc.scrollLeft:f2.curOp.scrollLeft)+f4;}if(f3!=null){f2.curOp.scrollTop=(f2.curOp.scrollTop==null?f2.doc.scrollTop:f2.curOp.scrollTop)+f3;}}function fv(f2){fr(f2);var f3=f2.getCursor(),f5=f3,f4=f3;if(!f2.options.lineWrapping){f5=f3.ch?X(f3.line,f3.ch-1):f3;f4=X(f3.line,f3.ch+1);}f2.curOp.scrollToPos={from:f5,to:f4,margin:f2.options.cursorScrollMargin,isCursor:true};}function fr(f2){var f4=f2.curOp.scrollToPos;if(f4){f2.curOp.scrollToPos=null;var f6=dy(f2,f4.from),f5=dy(f2,f4.to);var f3=I(f2,Math.min(f6.left,f5.left),Math.min(f6.top,f5.top)-f4.margin,Math.max(f6.right,f5.right),Math.max(f6.bottom,f5.bottom)+f4.margin);f2.scrollTo(f3.scrollLeft,f3.scrollTop);}}function ac(gf,f5,ge,f4){var gd=gf.doc,f3;if(ge==null){ge="add";}if(ge=="smart"){if(!gd.mode.indent){ge="prev";}else{f3=ds(gf,f5);}}var f9=gf.options.tabSize;var gg=e3(gd,f5),f8=bS(gg.text,null,f9);if(gg.stateAfter){gg.stateAfter=null;}var f2=gg.text.match(/^\s*/)[0],gb;if(!f4&&!/\S/.test(gg.text)){gb=0;ge="not";}else{if(ge=="smart"){gb=gd.mode.indent(f3,gg.text.slice(f2.length),gg.text);if(gb==b9||gb>150){if(!f4){return;}ge="prev";}}}if(ge=="prev"){if(f5>gd.first){gb=bS(e3(gd,f5-1).text,null,f9);}else{gb=0;}}else{if(ge=="add"){gb=f8+gf.options.indentUnit;}else{if(ge=="subtract"){gb=f8-gf.options.indentUnit;}else{if(typeof ge=="number"){gb=f8+ge;}}}}gb=Math.max(0,gb);var gc="",ga=0;if(gf.options.indentWithTabs){for(var f6=Math.floor(gb/f9);f6;--f6){ga+=f9;gc+="\t";}}if(ga<gb){gc+=cp(gb-ga);}if(gc!=f2){aY(gd,gc,X(f5,0),X(f5,f2.length),"+input");}else{for(var f6=0;f6<gd.sel.ranges.length;f6++){var f7=gd.sel.ranges[f6];if(f7.head.line==f5&&f7.head.ch<f2.length){var ga=X(f5,f2.length);e(gd,f6,new dN(ga,ga));break;}}}gg.stateAfter=null;}function en(f5,f4,f2,f7){var f6=f4,f3=f4;if(typeof f4=="number"){f3=e3(f5,c0(f5,f4));}else{f6=bM(f4);}if(f6==null){return null;}if(f7(f3,f6)&&f5.cm){S(f5.cm,f6,f2);}return f3;}function eM(f2,f8){var f3=f2.doc.sel.ranges,f6=[];for(var f5=0;f5<f3.length;f5++){var f4=f8(f3[f5]);while(f6.length&&ce(f4.from,fw(f6).to)<=0){var f7=f6.pop();if(ce(f7.from,f4.from)<0){f4.from=f7.from;break;}}f6.push(f4);}cJ(f2,function(){for(var f9=f6.length-1;f9>=0;f9--){aY(f2.doc,"",f6[f9].from,f6[f9].to,"+delete");}fv(f2);});}function bv(gk,f6,ge,gd,f8){var gb=f6.line,gc=f6.ch,gj=ge;var f3=e3(gk,gb);var gh=true;function gi(){var gl=gb+ge;if(gl<gk.first||gl>=gk.first+gk.size){return(gh=false);}gb=gl;return f3=e3(gk,gl);}function gg(gm){var gl=(f8?v:ah)(f3,gc,ge,true);if(gl==null){if(!gm&&gi()){if(f8){gc=(ge<0?cP:cC)(f3);}else{gc=ge<0?f3.text.length:0;}}else{return(gh=false);}}else{gc=gl;}return true;}if(gd=="char"){gg();}else{if(gd=="column"){gg(true);}else{if(gd=="word"||gd=="group"){var gf=null,f9=gd=="group";var f2=gk.cm&&gk.cm.getHelper(f6,"wordChars");for(var f7=true;;f7=false){if(ge<0&&!gg(!f7)){break;}var f4=f3.text.charAt(gc)||"\n";var f5=cy(f4,f2)?"w":f9&&f4=="\n"?"n":!f9||/\s/.test(f4)?null:"p";if(f9&&!f7&&!f5){f5="s";}if(gf&&gf!=f5){if(ge<0){ge=1;gg();}break;}if(f5){gf=f5;}if(ge>0&&!gg(!f7)){break;}}}}}var ga=bU(gk,X(gb,gc),gj,true);if(!gh){ga.hitSide=true;}return ga;}function bp(ga,f5,f2,f9){var f8=ga.doc,f7=f5.left,f6;if(f9=="page"){var f4=Math.min(ga.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);f6=f5.top+f2*(f4-(f2<0?1.5:0.5)*aU(ga.display));}else{if(f9=="line"){f6=f2>0?f5.bottom+3:f5.top-3;}}for(;;){var f3=fD(ga,f7,f6);if(!f3.outside){break;}if(f2<0?f6<=0:f6>=f8.height){f3.hitSide=true;break;}f6+=f2*5;}return f3;}function aw(f8,f6){var f7=f8.doc,f9=e3(f7,f6.line).text;var f3=f6.ch,f5=f6.ch;if(f9){var f4=f8.getHelper(f6,"wordChars");if((f6.xRel<0||f5==f9.length)&&f3){--f3;}else{++f5;}var ga=f9.charAt(f3);var f2=cy(ga,f4)?function(gb){return cy(gb,f4);}:/\s/.test(ga)?function(gb){return/\s/.test(gb);}:function(gb){return !/\s/.test(gb)&&!cy(gb);};while(f3>0&&f2(f9.charAt(f3-1))){--f3;}while(f5<f9.length&&f2(f9.charAt(f5))){++f5;}}return new dN(X(f6.line,f3),X(f6.line,f5));}J.prototype={constructor:J,focus:function(){window.focus();eo(this);C(this);},setOption:function(f4,f5){var f3=this.options,f2=f3[f4];if(f3[f4]==f5&&f4!="mode"){return;}f3[f4]=f5;if(bb.hasOwnProperty(f4)){cX(this,bb[f4])(this,f5,f2);}},getOption:function(f2){return this.options[f2];},getDoc:function(){return this.doc;},addKeyMap:function(f3,f2){this.state.keyMaps[f2?"push":"unshift"](f3);},removeKeyMap:function(f3){var f4=this.state.keyMaps;for(var f2=0;f2<f4.length;++f2){if(f4[f2]==f3||(typeof f4[f2]!="string"&&f4[f2].name==f3)){f4.splice(f2,1);return true;}}},addOverlay:c3(function(f2,f3){var f4=f2.token?f2:J.getMode(this.options,f2);if(f4.startState){throw new Error("Overlays may not be stateful.");}this.state.overlays.push({mode:f4,modeSpec:f2,opaque:f3&&f3.opaque});this.state.modeGen++;ag(this);}),removeOverlay:c3(function(f2){var f4=this.state.overlays;for(var f3=0;f3<f4.length;++f3){var f5=f4[f3].modeSpec;if(f5==f2||typeof f2=="string"&&f5.name==f2){f4.splice(f3,1);this.state.modeGen++;ag(this);return;}}}),indentLine:c3(function(f4,f2,f3){if(typeof f2!="string"&&typeof f2!="number"){if(f2==null){f2=this.options.smartIndent?"smart":"prev";}else{f2=f2?"add":"subtract";}}if(b8(this.doc,f4)){ac(this,f4,f2,f3);}}),indentSelection:c3(function(gb){var f2=this.doc.sel.ranges,f5=-1;for(var f7=0;f7<f2.length;f7++){var f8=f2[f7];if(!f8.empty()){var f9=f8.from(),ga=f8.to();var f3=Math.max(f5,f9.line);f5=Math.min(this.lastLine(),ga.line-(ga.ch?0:1))+1;for(var f6=f3;f6<f5;++f6){ac(this,f6,gb);}var f4=this.doc.sel.ranges;if(f9.ch==0&&f2.length==f4.length&&f4[f7].from().ch>0){e(this.doc,f7,new dN(f9,f4[f7].to()),Z);}}else{if(f8.head.line>f5){ac(this,f8.head.line,gb,true);f5=f8.head.line;if(f7==this.doc.sel.primIndex){fv(this);}}}}}),getTokenAt:function(f9,f3){var f6=this.doc;f9=fy(f6,f9);var f5=ds(this,f9.line,f3),f8=this.doc.mode;var f2=e3(f6,f9.line);var f7=new eI(f2.text,this.options.tabSize);while(f7.pos<f9.ch&&!f7.eol()){f7.start=f7.pos;var f4=eq(f8,f7,f5);}return{start:f7.start,end:f7.pos,string:f7.current(),type:f4||null,state:f5};},getTokenTypeAt:function(f9){f9=fy(this.doc,f9);var f5=c1(this,e3(this.doc,f9.line));var f7=0,f8=(f5.length-1)/2,f4=f9.ch;var f3;if(f4==0){f3=f5[2];}else{for(;;){var f2=(f7+f8)>>1;if((f2?f5[f2*2-1]:0)>=f4){f8=f2;}else{if(f5[f2*2+1]<f4){f7=f2+1;}else{f3=f5[f2*2+2];break;}}}}var f6=f3?f3.indexOf("cm-overlay "):-1;return f6<0?f3:f6==0?null:f3.slice(0,f6-1);},getModeAt:function(f3){var f2=this.doc.mode;if(!f2.innerMode){return f2;}return J.innerMode(f2,this.getTokenAt(f3).state).mode;},getHelper:function(f3,f2){return this.getHelpers(f3,f2)[0];},getHelpers:function(f9,f4){var f5=[];if(!fc.hasOwnProperty(f4)){return fc;}var f2=fc[f4],f8=this.getModeAt(f9);if(typeof f8[f4]=="string"){if(f2[f8[f4]]){f5.push(f2[f8[f4]]);}}else{if(f8[f4]){for(var f3=0;f3<f8[f4].length;f3++){var f7=f2[f8[f4][f3]];if(f7){f5.push(f7);}}}else{if(f8.helperType&&f2[f8.helperType]){f5.push(f2[f8.helperType]);}else{if(f2[f8.name]){f5.push(f2[f8.name]);}}}}for(var f3=0;f3<f2._global.length;f3++){var f6=f2._global[f3];if(f6.pred(f8,this)&&dc(f5,f6.val)==-1){f5.push(f6.val);}}return f5;},getStateAfter:function(f3,f2){var f4=this.doc;f3=c0(f4,f3==null?f4.first+f4.size-1:f3);return ds(this,f3+1,f2);},cursorCoords:function(f5,f3){var f4,f2=this.doc.sel.primary();if(f5==null){f4=f2.head;}else{if(typeof f5=="object"){f4=fy(this.doc,f5);}else{f4=f5?f2.from():f2.to();}}return dJ(this,f4,f3||"page");},charCoords:function(f3,f2){return cG(this,fy(this.doc,f3),f2||"page");},coordsChar:function(f2,f3){f2=fY(this,f2,f3||"page");return fD(this,f2.left,f2.top);},lineAtHeight:function(f2,f3){f2=fY(this,{top:f2,left:0},f3||"page").top;return bF(this.doc,f2+this.display.viewOffset);},heightAtLine:function(f3,f6){var f2=false,f5=this.doc.first+this.doc.size-1;if(f3<this.doc.first){f3=this.doc.first;}else{if(f3>f5){f3=f5;f2=true;}}var f4=e3(this.doc,f3);return eF(this,f4,{top:0,left:0},f6||"page").top+(f2?this.doc.height-bL(f4):0);},defaultTextHeight:function(){return aU(this.display);},defaultCharWidth:function(){return du(this.display);},setGutterMarker:c3(function(f2,f3,f4){return en(this.doc,f2,"gutter",function(f5){var f6=f5.gutterMarkers||(f5.gutterMarkers={});f6[f3]=f4;if(!f4&&eJ(f6)){f5.gutterMarkers=null;}return true;});}),clearGutter:c3(function(f4){var f2=this,f5=f2.doc,f3=f5.first;f5.iter(function(f6){if(f6.gutterMarkers&&f6.gutterMarkers[f4]){f6.gutterMarkers[f4]=null;S(f2,f3,"gutter");if(eJ(f6.gutterMarkers)){f6.gutterMarkers=null;}}++f3;});}),addLineWidget:c3(function(f4,f3,f2){return bG(this,f4,f3,f2);}),removeLineWidget:function(f2){f2.clear();},lineInfo:function(f2){if(typeof f2=="number"){if(!b8(this.doc,f2)){return null;}var f3=f2;f2=e3(this.doc,f2);if(!f2){return null;}}else{var f3=bM(f2);if(f3==null){return null;}}return{line:f3,handle:f2,text:f2.text,gutterMarkers:f2.gutterMarkers,textClass:f2.textClass,bgClass:f2.bgClass,wrapClass:f2.wrapClass,widgets:f2.widgets};},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo};},addWidget:function(f7,f4,f9,f5,gb){var f6=this.display;f7=dJ(this,fy(this.doc,f7));var f8=f7.bottom,f3=f7.left;f4.style.position="absolute";f6.sizer.appendChild(f4);if(f5=="over"){f8=f7.top;}else{if(f5=="above"||f5=="near"){var f2=Math.max(f6.wrapper.clientHeight,this.doc.height),ga=Math.max(f6.sizer.clientWidth,f6.lineSpace.clientWidth);if((f5=="above"||f7.bottom+f4.offsetHeight>f2)&&f7.top>f4.offsetHeight){f8=f7.top-f4.offsetHeight;}else{if(f7.bottom+f4.offsetHeight<=f2){f8=f7.bottom;}}if(f3+f4.offsetWidth>ga){f3=ga-f4.offsetWidth;}}}f4.style.top=f8+"px";f4.style.left=f4.style.right="";if(gb=="right"){f3=f6.sizer.clientWidth-f4.offsetWidth;f4.style.right="0px";}else{if(gb=="left"){f3=0;}else{if(gb=="middle"){f3=(f6.sizer.clientWidth-f4.offsetWidth)/2;}}f4.style.left=f3+"px";}if(f9){G(this,f3,f8,f3+f4.offsetWidth,f8+f4.offsetHeight);}},triggerOnKeyDown:c3(q),triggerOnKeyPress:c3(cw),triggerOnKeyUp:be,execCommand:function(f2){if(es.hasOwnProperty(f2)){return es[f2](this);}},findPosH:function(f8,f5,f6,f3){var f2=1;if(f5<0){f2=-1;f5=-f5;}for(var f4=0,f7=fy(this.doc,f8);f4<f5;++f4){f7=bv(this.doc,f7,f2,f6,f3);if(f7.hitSide){break;}}return f7;},moveH:c3(function(f3,f4){var f2=this;f2.extendSelectionsBy(function(f5){if(f2.display.shift||f2.doc.extend||f5.empty()){return bv(f2.doc,f5.head,f3,f4,f2.options.rtlMoveVisually);}else{return f3<0?f5.from():f5.to();}},cR);}),deleteH:c3(function(f2,f3){var f4=this.doc.sel,f5=this.doc;if(f4.somethingSelected()){f5.replaceSelection("",null,"+delete");}else{eM(this,function(f7){var f6=bv(f5,f7.head,f2,f3,false);return f2<0?{from:f6,to:f7.head}:{from:f7.head,to:f6};});}}),findPosV:function(f7,f4,f8,ga){var f2=1,f6=ga;if(f4<0){f2=-1;f4=-f4;}for(var f3=0,f9=fy(this.doc,f7);f3<f4;++f3){var f5=dJ(this,f9,"div");if(f6==null){f6=f5.left;}else{f5.left=f6;}f9=bp(this,f5,f2,f8);if(f9.hitSide){break;}}return f9;},moveV:c3(function(f3,f5){var f2=this,f7=this.doc,f6=[];var f8=!f2.display.shift&&!f7.extend&&f7.sel.somethingSelected();f7.extendSelectionsBy(function(f9){if(f8){return f3<0?f9.from():f9.to();}var gb=dJ(f2,f9.head,"div");if(f9.goalColumn!=null){gb.left=f9.goalColumn;}f6.push(gb.left);var ga=bp(f2,gb,f3,f5);if(f5=="page"&&f9==f7.sel.primary()){cI(f2,null,cG(f2,ga,"div").top-gb.top);}return ga;},cR);if(f6.length){for(var f4=0;f4<f7.sel.ranges.length;f4++){f7.sel.ranges[f4].goalColumn=f6[f4];}}}),toggleOverwrite:function(f2){if(f2!=null&&f2==this.state.overwrite){return;}if(this.state.overwrite=!this.state.overwrite){fp(this.display.cursorDiv,"CodeMirror-overwrite");}else{f(this.display.cursorDiv,"CodeMirror-overwrite");}aD(this,"overwriteToggle",this,this.state.overwrite);},hasFocus:function(){return dD()==this.display.input;},scrollTo:c3(function(f2,f3){if(f2!=null||f3!=null){fr(this);}if(f2!=null){this.curOp.scrollLeft=f2;}if(f3!=null){this.curOp.scrollTop=f3;}}),getScrollInfo:function(){var f2=this.display.scroller,f3=bh;return{left:f2.scrollLeft,top:f2.scrollTop,height:f2.scrollHeight-f3,width:f2.scrollWidth-f3,clientHeight:f2.clientHeight-f3,clientWidth:f2.clientWidth-f3};},scrollIntoView:c3(function(f3,f4){if(f3==null){f3={from:this.doc.sel.primary().head,to:null};if(f4==null){f4=this.options.cursorScrollMargin;}}else{if(typeof f3=="number"){f3={from:X(f3,0),to:null};}else{if(f3.from==null){f3={from:f3,to:null};}}}if(!f3.to){f3.to=f3.from;}f3.margin=f4||0;if(f3.from.line!=null){fr(this);this.curOp.scrollToPos=f3;}else{var f2=I(this,Math.min(f3.from.left,f3.to.left),Math.min(f3.from.top,f3.to.top)-f3.margin,Math.max(f3.from.right,f3.to.right),Math.max(f3.from.bottom,f3.to.bottom)+f3.margin);this.scrollTo(f2.scrollLeft,f2.scrollTop);}}),setSize:c3(function(f5,f3){var f2=this;function f4(f7){return typeof f7=="number"||/^\d+$/.test(String(f7))?f7+"px":f7;}if(f5!=null){f2.display.wrapper.style.width=f4(f5);}if(f3!=null){f2.display.wrapper.style.height=f4(f3);}if(f2.options.lineWrapping){aM(this);}var f6=f2.display.viewFrom;f2.doc.iter(f6,f2.display.viewTo,function(f7){if(f7.widgets){for(var f8=0;f8<f7.widgets.length;f8++){if(f7.widgets[f8].noHScroll){S(f2,f6,"widget");break;}}}++f6;});f2.curOp.forceUpdate=true;aD(f2,"refresh",this);}),operation:function(f2){return cJ(this,f2);},refresh:c3(function(){var f2=this.display.cachedTextHeight;ag(this);this.curOp.forceUpdate=true;aj(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);cZ(this);if(f2==null||Math.abs(f2-aU(this.display))>0.5){Y(this);}aD(this,"refresh",this);}),swapDoc:c3(function(f3){var f2=this.doc;f2.cm=null;dZ(this,f3);aj(this);fd(this);this.scrollTo(f3.scrollLeft,f3.scrollTop);ad(this,"swapDoc",this,f2);return f2;}),getInputField:function(){return this.display.input;},getWrapperElement:function(){return this.display.wrapper;},getScrollerElement:function(){return this.display.scroller;},getGutterElement:function(){return this.display.gutters;}};bx(J);var eS=J.defaults={};var bb=J.optionHandlers={};function t(f2,f5,f4,f3){J.defaults[f2]=f5;if(f4){bb[f2]=f3?function(f6,f8,f7){if(f7!=cb){f4(f6,f8,f7);}}:f4;}}var cb=J.Init={toString:function(){return"CodeMirror.Init";}};t("value","",function(f2,f3){f2.setValue(f3);},true);t("mode",null,function(f2,f3){f2.doc.modeOption=f3;bq(f2);},true);t("indentUnit",2,bq,true);t("indentWithTabs",false);t("smartIndent",true);t("tabSize",4,function(f2){d9(f2);aj(f2);ag(f2);},true);t("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(f2,f3){f2.options.specialChars=new RegExp(f3.source+(f3.test("\t")?"":"|\t"),"g");f2.refresh();},true);t("specialCharPlaceholder",e0,function(f2){f2.refresh();},true);t("electricChars",true);t("rtlMoveVisually",!aN);t("wholeLineUpdateBefore",true);t("theme","default",function(f2){cL(f2);dm(f2);},true);t("keyMap","default",fZ);t("extraKeys",null);t("lineWrapping",false,ev,true);t("gutters",[],function(f2){cd(f2.options);dm(f2);},true);t("fixedGutter",true,function(f2,f3){f2.display.gutters.style.left=f3?dM(f2.display)+"px":"0";f2.refresh();},true);t("coverGutterNextToScrollbar",false,eN,true);t("lineNumbers",false,function(f2){cd(f2.options);dm(f2);},true);t("firstLineNumber",1,dm,true);t("lineNumberFormatter",function(f2){return f2;},dm,true);t("showCursorWhenSelecting",false,bB,true);t("resetSelectionOnContextMenu",true);t("readOnly",false,function(f2,f3){if(f3=="nocursor"){aS(f2);f2.display.input.blur();f2.display.disabled=true;}else{f2.display.disabled=false;if(!f3){fd(f2);}}});t("disableInput",false,function(f2,f3){if(!f3){fd(f2);}},true);t("dragDrop",true);t("cursorBlinkRate",530);t("cursorScrollMargin",0);t("cursorHeight",1,bB,true);t("singleCursorHeightPerLine",true,bB,true);t("workTime",100);t("workDelay",100);t("flattenSpans",true,d9,true);t("addModeClass",false,d9,true);t("pollInterval",100);t("undoDepth",200,function(f2,f3){f2.doc.history.undoDepth=f3;});t("historyEventDelay",1250);t("viewportMargin",10,function(f2){f2.refresh();},true);t("maxHighlightLength",10000,d9,true);t("moveInputWithCursor",true,function(f2,f3){if(!f3){f2.display.inputDiv.style.top=f2.display.inputDiv.style.left=0;}});t("tabindex",null,function(f2,f3){f2.display.input.tabIndex=f3||"";});t("autofocus",null);var dj=J.modes={},aQ=J.mimeModes={};J.defineMode=function(f2,f4){if(!J.defaults.mode&&f2!="null"){J.defaults.mode=f2;}if(arguments.length>2){f4.dependencies=[];for(var f3=2;f3<arguments.length;++f3){f4.dependencies.push(arguments[f3]);}}dj[f2]=f4;};J.defineMIME=function(f3,f2){aQ[f3]=f2;};J.resolveMode=function(f2){if(typeof f2=="string"&&aQ.hasOwnProperty(f2)){f2=aQ[f2];}else{if(f2&&typeof f2.name=="string"&&aQ.hasOwnProperty(f2.name)){var f3=aQ[f2.name];if(typeof f3=="string"){f3={name:f3};}f2=ck(f3,f2);f2.name=f3.name;}else{if(typeof f2=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(f2)){return J.resolveMode("application/xml");}}}if(typeof f2=="string"){return{name:f2};}else{return f2||{name:"null"};}};J.getMode=function(f3,f2){var f2=J.resolveMode(f2);var f5=dj[f2.name];if(!f5){return J.getMode(f3,"text/plain");}var f6=f5(f3,f2);if(dg.hasOwnProperty(f2.name)){var f4=dg[f2.name];for(var f7 in f4){if(!f4.hasOwnProperty(f7)){continue;}if(f6.hasOwnProperty(f7)){f6["_"+f7]=f6[f7];}f6[f7]=f4[f7];}}f6.name=f2.name;if(f2.helperType){f6.helperType=f2.helperType;}if(f2.modeProps){for(var f7 in f2.modeProps){f6[f7]=f2.modeProps[f7];}}return f6;};J.defineMode("null",function(){return{token:function(f2){f2.skipToEnd();}};});J.defineMIME("text/plain","null");var dg=J.modeExtensions={};J.extendMode=function(f4,f3){var f2=dg.hasOwnProperty(f4)?dg[f4]:(dg[f4]={});aL(f3,f2);};J.defineExtension=function(f2,f3){J.prototype[f2]=f3;};J.defineDocExtension=function(f2,f3){at.prototype[f2]=f3;};J.defineOption=t;var a5=[];J.defineInitHook=function(f2){a5.push(f2);};var fc=J.helpers={};J.registerHelper=function(f3,f2,f4){if(!fc.hasOwnProperty(f3)){fc[f3]=J[f3]={_global:[]};}fc[f3][f2]=f4;};J.registerGlobalHelper=function(f4,f3,f2,f5){J.registerHelper(f4,f3,f5);fc[f4]._global.push({pred:f2,val:f5});};var b2=J.copyState=function(f5,f2){if(f2===true){return f2;}if(f5.copyState){return f5.copyState(f2);}var f4={};for(var f6 in f2){var f3=f2[f6];if(f3 instanceof Array){f3=f3.concat([]);}f4[f6]=f3;}return f4;};var bZ=J.startState=function(f4,f3,f2){return f4.startState?f4.startState(f3,f2):true;};J.innerMode=function(f4,f2){while(f4.innerMode){var f3=f4.innerMode(f2);if(!f3||f3.mode==f4){break;}f2=f3.state;f4=f3.mode;}return f3||{mode:f4,state:f2};};var es=J.commands={selectAll:function(f2){f2.setSelection(X(f2.firstLine(),0),X(f2.lastLine()),Z);},singleSelection:function(f2){f2.setSelection(f2.getCursor("anchor"),f2.getCursor("head"),Z);},killLine:function(f2){eM(f2,function(f4){if(f4.empty()){var f3=e3(f2.doc,f4.head.line).text.length;if(f4.head.ch==f3&&f4.head.line<f2.lastLine()){return{from:f4.head,to:X(f4.head.line+1,0)};}else{return{from:f4.head,to:X(f4.head.line,f3)};}}else{return{from:f4.from(),to:f4.to()};}});},deleteLine:function(f2){eM(f2,function(f3){return{from:X(f3.from().line,0),to:fy(f2.doc,X(f3.to().line+1,0))};});},delLineLeft:function(f2){eM(f2,function(f3){return{from:X(f3.from().line,0),to:f3.from()};});},delWrappedLineLeft:function(f2){eM(f2,function(f3){var f5=f2.charCoords(f3.head,"div").top+5;var f4=f2.coordsChar({left:0,top:f5},"div");return{from:f4,to:f3.from()};});},delWrappedLineRight:function(f2){eM(f2,function(f3){var f5=f2.charCoords(f3.head,"div").top+5;var f4=f2.coordsChar({left:f2.display.lineDiv.offsetWidth+100,top:f5},"div");return{from:f3.from(),to:f4};});},undo:function(f2){f2.undo();},redo:function(f2){f2.redo();},undoSelection:function(f2){f2.undoSelection();},redoSelection:function(f2){f2.redoSelection();},goDocStart:function(f2){f2.extendSelection(X(f2.firstLine(),0));},goDocEnd:function(f2){f2.extendSelection(X(f2.lastLine()));},goLineStart:function(f2){f2.extendSelectionsBy(function(f3){return bs(f2,f3.head.line);},{origin:"+move",bias:1});},goLineStartSmart:function(f2){f2.extendSelectionsBy(function(f3){return dz(f2,f3.head);},{origin:"+move",bias:1});},goLineEnd:function(f2){f2.extendSelectionsBy(function(f3){return dE(f2,f3.head.line);},{origin:"+move",bias:-1});},goLineRight:function(f2){f2.extendSelectionsBy(function(f3){var f4=f2.charCoords(f3.head,"div").top+5;return f2.coordsChar({left:f2.display.lineDiv.offsetWidth+100,top:f4},"div");},cR);},goLineLeft:function(f2){f2.extendSelectionsBy(function(f3){var f4=f2.charCoords(f3.head,"div").top+5;return f2.coordsChar({left:0,top:f4},"div");},cR);},goLineLeftSmart:function(f2){f2.extendSelectionsBy(function(f3){var f4=f2.charCoords(f3.head,"div").top+5;var f5=f2.coordsChar({left:0,top:f4},"div");if(f5.ch<f2.getLine(f5.line).search(/\S/)){return dz(f2,f3.head);}return f5;},cR);},goLineUp:function(f2){f2.moveV(-1,"line");},goLineDown:function(f2){f2.moveV(1,"line");},goPageUp:function(f2){f2.moveV(-1,"page");},goPageDown:function(f2){f2.moveV(1,"page");},goCharLeft:function(f2){f2.moveH(-1,"char");},goCharRight:function(f2){f2.moveH(1,"char");},goColumnLeft:function(f2){f2.moveH(-1,"column");},goColumnRight:function(f2){f2.moveH(1,"column");},goWordLeft:function(f2){f2.moveH(-1,"word");},goGroupRight:function(f2){f2.moveH(1,"group");},goGroupLeft:function(f2){f2.moveH(-1,"group");},goWordRight:function(f2){f2.moveH(1,"word");},delCharBefore:function(f2){f2.deleteH(-1,"char");},delCharAfter:function(f2){f2.deleteH(1,"char");},delWordBefore:function(f2){f2.deleteH(-1,"word");},delWordAfter:function(f2){f2.deleteH(1,"word");},delGroupBefore:function(f2){f2.deleteH(-1,"group");},delGroupAfter:function(f2){f2.deleteH(1,"group");},indentAuto:function(f2){f2.indentSelection("smart");},indentMore:function(f2){f2.indentSelection("add");},indentLess:function(f2){f2.indentSelection("subtract");},insertTab:function(f2){f2.replaceSelection("\t");},insertSoftTab:function(f2){var f4=[],f3=f2.listSelections(),f7=f2.options.tabSize;for(var f6=0;f6<f3.length;f6++){var f8=f3[f6].from();var f5=bS(f2.getLine(f8.line),f8.ch,f7);f4.push(new Array(f7-f5%f7+1).join(" "));}f2.replaceSelections(f4);},defaultTab:function(f2){if(f2.somethingSelected()){f2.indentSelection("add");}else{f2.execCommand("insertTab");}},transposeChars:function(f2){cJ(f2,function(){var f5=f2.listSelections(),f4=[];for(var f6=0;f6<f5.length;f6++){var f8=f5[f6].head,f3=e3(f2.doc,f8.line).text;if(f3){if(f8.ch==f3.length){f8=new X(f8.line,f8.ch-1);}if(f8.ch>0){f8=new X(f8.line,f8.ch+1);f2.replaceRange(f3.charAt(f8.ch-1)+f3.charAt(f8.ch-2),X(f8.line,f8.ch-2),f8,"+transpose");}else{if(f8.line>f2.doc.first){var f7=e3(f2.doc,f8.line-1).text;if(f7){f2.replaceRange(f3.charAt(0)+"\n"+f7.charAt(f7.length-1),X(f8.line-1,f7.length-1),X(f8.line,1),"+transpose");}}}}f4.push(new dN(f8,f8));}f2.setSelections(f4);});},newlineAndIndent:function(f2){cJ(f2,function(){var f3=f2.listSelections().length;for(var f5=0;f5<f3;f5++){var f4=f2.listSelections()[f5];f2.replaceRange("\n",f4.anchor,f4.head,"+input");f2.indentLine(f4.from().line+1,null,true);fv(f2);}});},toggleOverwrite:function(f2){f2.toggleOverwrite();}};var eY=J.keyMap={};eY.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};eY.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};eY.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};eY.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};eY["default"]=b6?eY.macDefault:eY.pcDefault;function fJ(f2){if(typeof f2=="string"){return eY[f2];}else{return f2;}}var i=J.lookupKey=function(f3,f7,f5){function f6(gc){gc=fJ(gc);var gb=gc[f3];if(gb===false){return"stop";}if(gb!=null&&f5(gb)){return true;}if(gc.nofallthrough){return"stop";}var ga=gc.fallthrough;if(ga==null){return false;}if(Object.prototype.toString.call(ga)!="[object Array]"){return f6(ga);}for(var f9=0;f9<ga.length;++f9){var f8=f6(ga[f9]);if(f8){return f8;}}return false;}for(var f4=0;f4<f7.length;++f4){var f2=f6(f7[f4]);if(f2){return f2!="stop";}}};var er=J.isModifierKey=function(f3){var f2=e4[f3.keyCode];return f2=="Ctrl"||f2=="Alt"||f2=="Shift"||f2=="Mod";};var fg=J.keyName=function(f3,f4){if(dR&&f3.keyCode==34&&f3["char"]){return false;}var f2=e4[f3.keyCode];if(f2==null||f3.altGraphKey){return false;}if(f3.altKey){f2="Alt-"+f2;}if(bP?f3.metaKey:f3.ctrlKey){f2="Ctrl-"+f2;}if(bP?f3.ctrlKey:f3.metaKey){f2="Cmd-"+f2;}if(!f4&&f3.shiftKey){f2="Shift-"+f2;}return f2;};J.fromTextArea=function(f9,ga){if(!ga){ga={};}ga.value=f9.value;if(!ga.tabindex&&f9.tabindex){ga.tabindex=f9.tabindex;}if(!ga.placeholder&&f9.placeholder){ga.placeholder=f9.placeholder;}if(ga.autofocus==null){var f2=dD();ga.autofocus=f2==f9||f9.getAttribute("autofocus")!=null&&f2==document.body;}function f6(){f9.value=f8.getValue();}if(f9.form){bW(f9.form,"submit",f6);if(!ga.leaveSubmitMethodAlone){var f3=f9.form,f7=f3.submit;try{var f5=f3.submit=function(){f6();f3.submit=f7;f3.submit();f3.submit=f5;};}catch(f4){}}}f9.style.display="none";var f8=J(function(gb){f9.parentNode.insertBefore(gb,f9.nextSibling);},ga);f8.save=f6;f8.getTextArea=function(){return f9;};f8.toTextArea=function(){f6();f9.parentNode.removeChild(f8.getWrapperElement());f9.style.display="";if(f9.form){d1(f9.form,"submit",f6);if(typeof f9.form.submit=="function"){f9.form.submit=f7;}}};return f8;};var eI=J.StringStream=function(f2,f3){this.pos=this.start=0;this.string=f2;this.tabSize=f3||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;};eI.prototype={eol:function(){return this.pos>=this.string.length;},sol:function(){return this.pos==this.lineStart;},peek:function(){return this.string.charAt(this.pos)||undefined;},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++);}},eat:function(f2){var f4=this.string.charAt(this.pos);if(typeof f2=="string"){var f3=f4==f2;}else{var f3=f4&&(f2.test?f2.test(f4):f2(f4));}if(f3){++this.pos;return f4;}},eatWhile:function(f2){var f3=this.pos;while(this.eat(f2)){}return this.pos>f3;},eatSpace:function(){var f2=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos;}return this.pos>f2;},skipToEnd:function(){this.pos=this.string.length;},skipTo:function(f2){var f3=this.string.indexOf(f2,this.pos);if(f3>-1){this.pos=f3;return true;}},backUp:function(f2){this.pos-=f2;},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bS(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start;}return this.lastColumnValue-(this.lineStart?bS(this.string,this.lineStart,this.tabSize):0);},indentation:function(){return bS(this.string,null,this.tabSize)-(this.lineStart?bS(this.string,this.lineStart,this.tabSize):0);},match:function(f6,f3,f2){if(typeof f6=="string"){var f7=function(f8){return f2?f8.toLowerCase():f8;};var f5=this.string.substr(this.pos,f6.length);if(f7(f5)==f7(f6)){if(f3!==false){this.pos+=f6.length;}return true;}}else{var f4=this.string.slice(this.pos).match(f6);if(f4&&f4.index>0){return null;}if(f4&&f3!==false){this.pos+=f4[0].length;}return f4;}},current:function(){return this.string.slice(this.start,this.pos);},hideFirstChars:function(f3,f2){this.lineStart+=f3;try{return f2();}finally{this.lineStart-=f3;}}};var Q=J.TextMarker=function(f3,f2){this.lines=[];this.type=f2;this.doc=f3;};bx(Q);Q.prototype.clear=function(){if(this.explicitlyCleared){return;}var f9=this.doc.cm,f3=f9&&!f9.curOp;if(f3){cF(f9);}if(e6(this,"clear")){var ga=this.find();if(ga){ad(this,"clear",ga.from,ga.to);}}var f4=null,f7=null;for(var f5=0;f5<this.lines.length;++f5){var gb=this.lines[f5];var f8=eX(gb.markedSpans,this);if(f9&&!this.collapsed){S(f9,bM(gb),"text");}else{if(f9){if(f8.to!=null){f7=bM(gb);}if(f8.from!=null){f4=bM(gb);}}}gb.markedSpans=ew(gb.markedSpans,f8);if(f8.from==null&&this.collapsed&&!fl(this.doc,gb)&&f9){fP(gb,aU(f9.display));}}if(f9&&this.collapsed&&!f9.options.lineWrapping){for(var f5=0;f5<this.lines.length;++f5){var f2=z(this.lines[f5]),f6=ea(f2);if(f6>f9.display.maxLineLength){f9.display.maxLine=f2;f9.display.maxLineLength=f6;f9.display.maxLineChanged=true;}}}if(f4!=null&&f9&&this.collapsed){ag(f9,f4,f7+1);}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(f9){em(f9.doc);}}if(f9){ad(f9,"markerCleared",f9,this);}if(f3){al(f9);}if(this.parent){this.parent.clear();}};Q.prototype.find=function(f5,f3){if(f5==null&&this.type=="bookmark"){f5=1;}var f8,f7;for(var f4=0;f4<this.lines.length;++f4){var f2=this.lines[f4];var f6=eX(f2.markedSpans,this);if(f6.from!=null){f8=X(f3?f2:bM(f2),f6.from);if(f5==-1){return f8;}}if(f6.to!=null){f7=X(f3?f2:bM(f2),f6.to);if(f5==1){return f7;}}}return f8&&{from:f8,to:f7};};Q.prototype.changed=function(){var f4=this.find(-1,true),f3=this,f2=this.doc.cm;if(!f4||!f2){return;}cJ(f2,function(){var f6=f4.line,f7=bM(f4.line);var f5=eZ(f2,f7);if(f5){au(f5);f2.curOp.selectionChanged=f2.curOp.forceUpdate=true;}f2.curOp.updateMaxLine=true;if(!fl(f3.doc,f6)&&f3.height!=null){var f9=f3.height;f3.height=null;var f8=cT(f3)-f9;if(f8){fP(f6,f6.height+f8);}}});};Q.prototype.attachLine=function(f2){if(!this.lines.length&&this.doc.cm){var f3=this.doc.cm.curOp;if(!f3.maybeHiddenMarkers||dc(f3.maybeHiddenMarkers,this)==-1){(f3.maybeUnhiddenMarkers||(f3.maybeUnhiddenMarkers=[])).push(this);}}this.lines.push(f2);};Q.prototype.detachLine=function(f2){this.lines.splice(dc(this.lines,f2),1);if(!this.lines.length&&this.doc.cm){var f3=this.doc.cm.curOp;(f3.maybeHiddenMarkers||(f3.maybeHiddenMarkers=[])).push(this);}};var a2=0;function eu(ga,f8,f9,gc,f6){if(gc&&gc.shared){return P(ga,f8,f9,gc,f6);}if(ga.cm&&!ga.cm.curOp){return cX(ga.cm,eu)(ga,f8,f9,gc,f6);}var f5=new Q(ga,f6),gb=ce(f8,f9);if(gc){aL(gc,f5,false);}if(gb>0||gb==0&&f5.clearWhenEmpty!==false){return f5;}if(f5.replacedWith){f5.collapsed=true;f5.widgetNode=fL("span",[f5.replacedWith],"CodeMirror-widget");if(!gc.handleMouseEvents){f5.widgetNode.ignoreEvents=true;}if(gc.insertLeft){f5.widgetNode.insertLeft=true;}}if(f5.collapsed){if(A(ga,f8.line,f8,f9,f5)||f8.line!=f9.line&&A(ga,f9.line,f8,f9,f5)){throw new Error("Inserting collapsed marker partially overlapping an existing one");}a4=true;}if(f5.addToHistory){fB(ga,{from:f8,to:f9,origin:"markText"},ga.sel,NaN);}var f3=f8.line,f7=ga.cm,f2;ga.iter(f3,f9.line+1,function(gd){if(f7&&f5.collapsed&&!f7.options.lineWrapping&&z(gd)==f7.display.maxLine){f2=true;}if(f5.collapsed&&f3!=f8.line){fP(gd,0);}cc(gd,new d6(f5,f3==f8.line?f8.ch:null,f3==f9.line?f9.ch:null));++f3;});if(f5.collapsed){ga.iter(f8.line,f9.line+1,function(gd){if(fl(ga,gd)){fP(gd,0);}});}if(f5.clearOnEnter){bW(f5,"beforeCursorEnter",function(){f5.clear();});}if(f5.readOnly){fW=true;if(ga.history.done.length||ga.history.undone.length){ga.clearHistory();}}if(f5.collapsed){f5.id=++a2;f5.atomic=true;}if(f7){if(f2){f7.curOp.updateMaxLine=true;}if(f5.collapsed){ag(f7,f8.line,f9.line+1);}else{if(f5.className||f5.title||f5.startStyle||f5.endStyle){for(var f4=f8.line;f4<=f9.line;f4++){S(f7,f4,"text");}}}if(f5.atomic){em(f7.doc);}ad(f7,"markerAdded",f7,f5);}return f5;}var y=J.SharedTextMarker=function(f4,f3){this.markers=f4;this.primary=f3;for(var f2=0;f2<f4.length;++f2){f4[f2].parent=this;}};bx(y);y.prototype.clear=function(){if(this.explicitlyCleared){return;}this.explicitlyCleared=true;for(var f2=0;f2<this.markers.length;++f2){this.markers[f2].clear();}ad(this,"clear");};y.prototype.find=function(f3,f2){return this.primary.find(f3,f2);};function P(f6,f9,f8,f2,f4){f2=aL(f2);f2.shared=false;var f7=[eu(f6,f9,f8,f2,f4)],f3=f7[0];var f5=f2.widgetNode;dW(f6,function(gb){if(f5){f2.widgetNode=f5.cloneNode(true);}f7.push(eu(gb,fy(gb,f9),fy(gb,f8),f2,f4));for(var ga=0;ga<gb.linked.length;++ga){if(gb.linked[ga].isParent){return;}}f3=fw(f7);});return new y(f7,f3);}function eE(f2){return f2.findMarks(X(f2.first,0),f2.clipPos(X(f2.lastLine())),function(f3){return f3.parent;});}function dw(f7,f8){for(var f5=0;f5<f8.length;f5++){var f3=f8[f5],f9=f3.find();var f2=f7.clipPos(f9.from),f6=f7.clipPos(f9.to);if(ce(f2,f6)){var f4=eu(f7,f2,f6,f3.primary,f3.primary.type);f3.markers.push(f4);f4.parent=f3;}}}function ec(f5){for(var f4=0;f4<f5.length;f4++){var f2=f5[f4],f7=[f2.primary.doc];dW(f2.primary.doc,function(f8){f7.push(f8);});for(var f3=0;f3<f2.markers.length;f3++){var f6=f2.markers[f3];if(dc(f7,f6.doc)==-1){f6.parent=null;f2.markers.splice(f3--,1);}}}}function d6(f2,f4,f3){this.marker=f2;this.from=f4;this.to=f3;}function eX(f4,f2){if(f4){for(var f3=0;f3<f4.length;++f3){var f5=f4[f3];if(f5.marker==f2){return f5;}}}}function ew(f3,f4){for(var f5,f2=0;f2<f3.length;++f2){if(f3[f2]!=f4){(f5||(f5=[])).push(f3[f2]);}}return f5;}function cc(f2,f3){f2.markedSpans=f2.markedSpans?f2.markedSpans.concat([f3]):[f3];f3.marker.attachLine(f2);}function aO(f3,f4,f8){if(f3){for(var f6=0,f9;f6<f3.length;++f6){var ga=f3[f6],f7=ga.marker;var f2=ga.from==null||(f7.inclusiveLeft?ga.from<=f4:ga.from<f4);if(f2||ga.from==f4&&f7.type=="bookmark"&&(!f8||!ga.marker.insertLeft)){var f5=ga.to==null||(f7.inclusiveRight?ga.to>=f4:ga.to>f4);(f9||(f9=[])).push(new d6(f7,ga.from,f5?null:ga.to));}}}return f9;}function aB(f3,f5,f8){if(f3){for(var f6=0,f9;f6<f3.length;++f6){var ga=f3[f6],f7=ga.marker;var f4=ga.to==null||(f7.inclusiveRight?ga.to>=f5:ga.to>f5);if(f4||ga.from==f5&&f7.type=="bookmark"&&(!f8||ga.marker.insertLeft)){var f2=ga.from==null||(f7.inclusiveLeft?ga.from<=f5:ga.from<f5);(f9||(f9=[])).push(new d6(f7,f2?null:ga.from-f5,ga.to==null?null:ga.to-f5));}}}return f9;}function d8(ge,gb){var ga=b8(ge,gb.from.line)&&e3(ge,gb.from.line).markedSpans;var gh=b8(ge,gb.to.line)&&e3(ge,gb.to.line).markedSpans;if(!ga&&!gh){return null;}var f3=gb.from.ch,f6=gb.to.ch,f9=ce(gb.from,gb.to)==0;var f8=aO(ga,f3,f9);var gg=aB(gh,f6,f9);var gf=gb.text.length==1,f4=fw(gb.text).length+(gf?f3:0);if(f8){for(var f5=0;f5<f8.length;++f5){var gd=f8[f5];if(gd.to==null){var gi=eX(gg,gd.marker);if(!gi){gd.to=f3;}else{if(gf){gd.to=gi.to==null?null:gi.to+f4;}}}}}if(gg){for(var f5=0;f5<gg.length;++f5){var gd=gg[f5];if(gd.to!=null){gd.to+=f4;}if(gd.from==null){var gi=eX(f8,gd.marker);if(!gi){gd.from=f4;if(gf){(f8||(f8=[])).push(gd);}}}else{gd.from+=f4;if(gf){(f8||(f8=[])).push(gd);}}}}if(f8){f8=r(f8);}if(gg&&gg!=f8){gg=r(gg);}var f7=[f8];if(!gf){var gc=gb.text.length-2,f2;if(gc>0&&f8){for(var f5=0;f5<f8.length;++f5){if(f8[f5].to==null){(f2||(f2=[])).push(new d6(f8[f5].marker,null,null));}}}for(var f5=0;f5<gc;++f5){f7.push(f2);}f7.push(gg);}return f7;}function r(f3){for(var f2=0;f2<f3.length;++f2){var f4=f3[f2];if(f4.from!=null&&f4.from==f4.to&&f4.marker.clearWhenEmpty!==false){f3.splice(f2--,1);}}if(!f3.length){return null;}return f3;}function dY(ga,f8){var f2=b3(ga,f8);var gb=d8(ga,f8);if(!f2){return gb;}if(!gb){return f2;}for(var f5=0;f5<f2.length;++f5){var f6=f2[f5],f7=gb[f5];if(f6&&f7){spans:for(var f4=0;f4<f7.length;++f4){var f9=f7[f4];for(var f3=0;f3<f6.length;++f3){if(f6[f3].marker==f9.marker){continue spans;}}f6.push(f9);}}else{if(f7){f2[f5]=f7;}}}return f2;}function cE(ge,gc,gd){var f6=null;ge.iter(gc.line,gd.line+1,function(gf){if(gf.markedSpans){for(var gg=0;gg<gf.markedSpans.length;++gg){var gh=gf.markedSpans[gg].marker;if(gh.readOnly&&(!f6||dc(f6,gh)==-1)){(f6||(f6=[])).push(gh);}}}});if(!f6){return null;}var f7=[{from:gc,to:gd}];for(var f8=0;f8<f6.length;++f8){var f9=f6[f8],f4=f9.find(0);for(var f5=0;f5<f7.length;++f5){var f3=f7[f5];if(ce(f3.to,f4.from)<0||ce(f3.from,f4.to)>0){continue;}var gb=[f5,1],f2=ce(f3.from,f4.from),ga=ce(f3.to,f4.to);if(f2<0||!f9.inclusiveLeft&&!f2){gb.push({from:f3.from,to:f4.from});}if(ga>0||!f9.inclusiveRight&&!ga){gb.push({from:f4.to,to:f3.to});}f7.splice.apply(f7,gb);f5+=gb.length-1;}}return f7;}function fS(f2){var f4=f2.markedSpans;if(!f4){return;}for(var f3=0;f3<f4.length;++f3){f4[f3].marker.detachLine(f2);}f2.markedSpans=null;}function cY(f2,f4){if(!f4){return;}for(var f3=0;f3<f4.length;++f3){f4[f3].marker.attachLine(f2);}f2.markedSpans=f4;}function w(f2){return f2.inclusiveLeft?-1:0;}function bV(f2){return f2.inclusiveRight?1:0;}function dF(f5,f3){var f7=f5.lines.length-f3.lines.length;if(f7!=0){return f7;}var f4=f5.find(),f8=f3.find();var f2=ce(f4.from,f8.from)||w(f5)-w(f3);if(f2){return -f2;}var f6=ce(f4.to,f8.to)||bV(f5)-bV(f3);if(f6){return f6;}return f3.id-f5.id;}function a3(f3,f7){var f2=a4&&f3.markedSpans,f6;if(f2){for(var f5,f4=0;f4<f2.length;++f4){f5=f2[f4];if(f5.marker.collapsed&&(f7?f5.from:f5.to)==null&&(!f6||dF(f6,f5.marker)<0)){f6=f5.marker;}}}return f6;}function eD(f2){return a3(f2,true);}function ej(f2){return a3(f2,false);}function A(ga,f4,f8,f9,f6){var gd=e3(ga,f4);var f2=a4&&gd.markedSpans;if(f2){for(var f5=0;f5<f2.length;++f5){var f3=f2[f5];if(!f3.marker.collapsed){continue;}var gc=f3.marker.find(0);var gb=ce(gc.from,f8)||w(f3.marker)-w(f6);var f7=ce(gc.to,f9)||bV(f3.marker)-bV(f6);if(gb>=0&&f7<=0||gb<=0&&f7>=0){continue;}if(gb<=0&&(ce(gc.to,f8)>0||(f3.marker.inclusiveRight&&f6.inclusiveLeft))||gb>=0&&(ce(gc.from,f9)<0||(f3.marker.inclusiveLeft&&f6.inclusiveRight))){return true;}}}}function z(f3){var f2;while(f2=eD(f3)){f3=f2.find(-1,true).line;}return f3;}function h(f4){var f2,f3;while(f2=ej(f4)){f4=f2.find(1,true).line;(f3||(f3=[])).push(f4);}return f3;}function aT(f5,f3){var f2=e3(f5,f3),f4=z(f2);if(f2==f4){return f3;}return bM(f4);}function dS(f5,f4){if(f4>f5.lastLine()){return f4;}var f3=e3(f5,f4),f2;if(!fl(f5,f3)){return f4;}while(f2=ej(f3)){f3=f2.find(1,true).line;}return bM(f3)+1;}function fl(f6,f3){var f2=a4&&f3.markedSpans;if(f2){for(var f5,f4=0;f4<f2.length;++f4){f5=f2[f4];if(!f5.marker.collapsed){continue;}if(f5.from==null){return true;}if(f5.marker.widgetNode){continue;}if(f5.from==0&&f5.marker.inclusiveLeft&&U(f6,f3,f5)){return true;}}}}function U(f7,f3,f5){if(f5.to==null){var f2=f5.marker.find(1,true);return U(f7,f2.line,eX(f2.line.markedSpans,f5.marker));}if(f5.marker.inclusiveRight&&f5.to==f3.text.length){return true;}for(var f6,f4=0;f4<f3.markedSpans.length;++f4){f6=f3.markedSpans[f4];if(f6.marker.collapsed&&!f6.marker.widgetNode&&f6.from==f5.to&&(f6.to==null||f6.to!=f5.from)&&(f6.marker.inclusiveLeft||f5.marker.inclusiveRight)&&U(f7,f3,f6)){return true;}}}var dt=J.LineWidget=function(f2,f5,f3){if(f3){for(var f4 in f3){if(f3.hasOwnProperty(f4)){this[f4]=f3[f4];}}}this.cm=f2;this.node=f5;};bx(dt);function dP(f2,f3,f4){if(bL(f3)<((f2.curOp&&f2.curOp.scrollTop)||f2.doc.scrollTop)){cI(f2,null,f4);}}dt.prototype.clear=function(){var f3=this.cm,f5=this.line.widgets,f4=this.line,f7=bM(f4);if(f7==null||!f5){return;}for(var f6=0;f6<f5.length;++f6){if(f5[f6]==this){f5.splice(f6--,1);}}if(!f5.length){f4.widgets=null;}var f2=cT(this);cJ(f3,function(){dP(f3,f4,-f2);S(f3,f7,"widget");fP(f4,Math.max(0,f4.height-f2));});};dt.prototype.changed=function(){var f3=this.height,f2=this.cm,f4=this.line;this.height=null;var f5=cT(this)-f3;if(!f5){return;}cJ(f2,function(){f2.curOp.forceUpdate=true;dP(f2,f4,f5);fP(f4,f4.height+f5);});};function cT(f3){if(f3.height!=null){return f3.height;}if(!fU(document.body,f3.node)){var f2="position: relative;";if(f3.coverGutter){f2+="margin-left: -"+f3.cm.getGutterElement().offsetWidth+"px;";}bQ(f3.cm.display.measure,fL("div",[f3.node],null,f2));}return f3.height=f3.node.offsetHeight;}function bG(f2,f6,f4,f3){var f5=new dt(f2,f4,f3);if(f5.noHScroll){f2.display.alignWidgets=true;}en(f2.doc,f6,"widget",function(f8){var f9=f8.widgets||(f8.widgets=[]);if(f5.insertAt==null){f9.push(f5);}else{f9.splice(Math.min(f9.length-1,Math.max(0,f5.insertAt)),0,f5);}f5.line=f8;if(!fl(f2.doc,f8)){var f7=bL(f8)<f2.doc.scrollTop;fP(f8,f8.height+cT(f5));if(f7){cI(f2,null,f5.height);}f2.curOp.forceUpdate=true;}return true;});return f5;}var fR=J.Line=function(f4,f3,f2){this.text=f4;cY(this,f3);this.height=f2?f2(this):1;};bx(fR);fR.prototype.lineNo=function(){return bM(this);};function eb(f3,f6,f4,f2){f3.text=f6;if(f3.stateAfter){f3.stateAfter=null;}if(f3.styles){f3.styles=null;}if(f3.order!=null){f3.order=null;}fS(f3);cY(f3,f4);var f5=f2?f2(f3):1;if(f5!=f3.height){fP(f3,f5);}}function bA(f2){f2.parent=null;fS(f2);}function dd(f4,f3){if(f4){for(;;){var f2=f4.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f2){break;}f4=f4.slice(0,f2.index)+f4.slice(f2.index+f2[0].length);var f5=f2[1]?"bgClass":"textClass";if(f3[f5]==null){f3[f5]=f2[2];}else{if(!(new RegExp("(?:^|s)"+f2[2]+"(?:$|s)")).test(f3[f5])){f3[f5]+=" "+f2[2];}}}}return f4;}function ff(f4,f3){if(f4.blankLine){return f4.blankLine(f3);}if(!f4.innerMode){return;}var f2=J.innerMode(f4,f3);if(f2.mode.blankLine){return f2.mode.blankLine(f2.state);}}function eq(f6,f5,f4){for(var f2=0;f2<10;f2++){var f3=f6.token(f5,f4);if(f5.pos>f5.start){return f3;}}throw new Error("Mode "+f6.name+" failed to advance stream.");}function x(gc,ge,f7,f3,f8,f5,f6){var f4=f7.flattenSpans;if(f4==null){f4=gc.options.flattenSpans;}var ga=0,f9=null;var gd=new eI(ge,gc.options.tabSize),f2;if(ge==""){dd(ff(f7,f3),f5);}while(!gd.eol()){if(gd.pos>gc.options.maxHighlightLength){f4=false;if(f6){dn(gc,ge,f3,gd.pos);}gd.pos=ge.length;f2=null;}else{f2=dd(eq(f7,gd,f3),f5);}if(gc.options.addModeClass){var gf=J.innerMode(f7,f3).mode.name;if(gf){f2="m-"+(f2?gf+" "+f2:gf);}}if(!f4||f9!=f2){if(ga<gd.start){f8(gd.start,f9);}ga=gd.start;f9=f2;}gd.start=gd.pos;}while(ga<gd.pos){var gb=Math.min(gd.pos,ga+50000);f8(gb,f9);ga=gb;}}function fo(f9,gb,f2,f6){var ga=[f9.state.modeGen],f5={};x(f9,gb.text,f9.doc.mode,f2,function(gc,gd){ga.push(gc,gd);},f5,f6);for(var f3=0;f3<f9.state.overlays.length;++f3){var f7=f9.state.overlays[f3],f8=1,f4=0;x(f9,gb.text,f7.mode,true,function(gc,ge){var gg=f8;while(f4<gc){var gd=ga[f8];if(gd>gc){ga.splice(f8,1,gc,ga[f8+1],gd);}f8+=2;f4=Math.min(gc,gd);}if(!ge){return;}if(f7.opaque){ga.splice(gg,f8-gg,gc,"cm-overlay "+ge);f8=gg+2;}else{for(;gg<f8;gg+=2){var gf=ga[gg+1];ga[gg+1]=(gf?gf+" ":"")+"cm-overlay "+ge;}}},f5);}return{styles:ga,classes:f5.bgClass||f5.textClass?f5:null};}function c1(f3,f4){if(!f4.styles||f4.styles[0]!=f3.state.modeGen){var f2=fo(f3,f4,f4.stateAfter=ds(f3,bM(f4)));f4.styles=f2.styles;if(f2.classes){f4.styleClasses=f2.classes;}else{if(f4.styleClasses){f4.styleClasses=null;}}}return f4.styles;}function dn(f2,f7,f4,f3){var f6=f2.doc.mode;var f5=new eI(f7,f2.options.tabSize);f5.start=f5.pos=f3||0;if(f7==""){ff(f6,f4);}while(!f5.eol()&&f5.pos<=f2.options.maxHighlightLength){eq(f6,f5,f4);f5.start=f5.pos;}}var dL={},b0={};function eL(f4,f3){if(!f4||/^\s*$/.test(f4)){return null;}var f2=f3.addModeClass?b0:dL;return f2[f4]||(f2[f4]=f4.replace(/\S+/g,"cm-$&"));}function eG(f3,f7){var f8=fL("span",null,null,cV?"padding-right: .1px":null);var f5={pre:fL("pre",[f8]),content:f8,col:0,pos:0,cm:f3};f7.measure={};for(var f6=0;f6<=(f7.rest?f7.rest.length:0);f6++){var f4=f6?f7.rest[f6-1]:f7.line,f2;f5.pos=0;f5.addToken=u;if((dA||cV)&&f3.getOption("lineWrapping")){f5.addToken=fu(f5.addToken);}if(bN(f3.display.measure)&&(f2=a(f4))){f5.addToken=V(f5.addToken,f2);}f5.map=[];bn(f4,f5,c1(f3,f4));if(f4.styleClasses){if(f4.styleClasses.bgClass){f5.bgClass=fG(f4.styleClasses.bgClass,f5.bgClass||"");}if(f4.styleClasses.textClass){f5.textClass=fG(f4.styleClasses.textClass,f5.textClass||"");}}if(f5.map.length==0){f5.map.push(0,0,f5.content.appendChild(bm(f3.display.measure)));}if(f6==0){f7.measure.map=f5.map;f7.measure.cache={};}else{(f7.measure.maps||(f7.measure.maps=[])).push(f5.map);(f7.measure.caches||(f7.measure.caches=[])).push({});}}aD(f3,"renderLine",f3,f7.line,f5.pre);if(f5.pre.className){f5.textClass=fG(f5.pre.className,f5.textClass||"");}return f5;}function e0(f3){var f2=fL("span","\u2022","cm-invalidchar");f2.title="\\u"+f3.charCodeAt(0).toString(16);return f2;}function u(f7,gh,f2,f5,gi,gg){if(!gh){return;}var gc=f7.cm.options.specialChars,gb=false;if(!gc.test(gh)){f7.col+=gh.length;var ga=document.createTextNode(gh);f7.map.push(f7.pos,f7.pos+gh.length,ga);if(dA&&l<9){gb=true;}f7.pos+=gh.length;}else{var ga=document.createDocumentFragment(),ge=0;while(true){gc.lastIndex=ge;var f3=gc.exec(gh);var f9=f3?f3.index-ge:gh.length-ge;if(f9){var f6=document.createTextNode(gh.slice(ge,ge+f9));if(dA&&l<9){ga.appendChild(fL("span",[f6]));}else{ga.appendChild(f6);}f7.map.push(f7.pos,f7.pos+f9,f6);f7.col+=f9;f7.pos+=f9;}if(!f3){break;}ge+=f9+1;if(f3[0]=="\t"){var f8=f7.cm.options.tabSize,gd=f8-f7.col%f8;var f6=ga.appendChild(fL("span",cp(gd),"cm-tab"));f7.col+=gd;}else{var f6=f7.cm.options.specialCharPlaceholder(f3[0]);if(dA&&l<9){ga.appendChild(fL("span",[f6]));}else{ga.appendChild(f6);}f7.col+=1;}f7.map.push(f7.pos,f7.pos+1,f6);f7.pos++;}}if(f2||f5||gi||gb){var gf=f2||"";if(f5){gf+=f5;}if(gi){gf+=gi;}var f4=fL("span",[ga],gf);if(gg){f4.title=gg;}return f7.content.appendChild(f4);}f7.content.appendChild(ga);}function fu(f2){function f3(f4){var f5=" ";for(var f6=0;f6<f4.length-2;++f6){f5+=f6%2?" ":"\u00a0";}f5+=" ";return f5;}return function(f5,f9,f6,f4,f8,f7){f2(f5,f9.replace(/ {3,}/g,f3),f6,f4,f8,f7);};}function V(f3,f2){return function(ga,gc,f4,f8,gd,gb){f4=f4?f4+" cm-force-border":"cm-force-border";var f5=ga.pos,f7=f5+gc.length;for(;;){for(var f9=0;f9<f2.length;f9++){var f6=f2[f9];if(f6.to>f5&&f6.from<=f5){break;}}if(f6.to>=f7){return f3(ga,gc,f4,f8,gd,gb);}f3(ga,gc.slice(0,f6.to-f5),f4,f8,null,gb);f8=null;gc=gc.slice(f6.to-f5);f5=f6.to;}};}function ab(f3,f5,f2,f4){var f6=!f4&&f2.widgetNode;if(f6){f3.map.push(f3.pos,f3.pos+f5,f6);f3.content.appendChild(f6);}f3.pos+=f5;}function bn(gb,gh,ga){var f7=gb.markedSpans,f9=gb.text,gf=0;if(!f7){for(var gk=1;gk<ga.length;gk+=2){gh.addToken(gh,f9.slice(gf,gf=ga[gk]),eL(ga[gk+1],gh.cm.options));}return;}var gl=f9.length,f6=0,gk=1,gd="",gm;var go=0,f2,gn,ge,gp,f4;for(;;){if(go==f6){f2=gn=ge=gp="";f4=null;go=Infinity;var f8=[];for(var gi=0;gi<f7.length;++gi){var gj=f7[gi],gg=gj.marker;if(gj.from<=f6&&(gj.to==null||gj.to>f6)){if(gj.to!=null&&go>gj.to){go=gj.to;gn="";}if(gg.className){f2+=" "+gg.className;}if(gg.startStyle&&gj.from==f6){ge+=" "+gg.startStyle;}if(gg.endStyle&&gj.to==go){gn+=" "+gg.endStyle;}if(gg.title&&!gp){gp=gg.title;}if(gg.collapsed&&(!f4||dF(f4.marker,gg)<0)){f4=gj;}}else{if(gj.from>f6&&go>gj.from){go=gj.from;}}if(gg.type=="bookmark"&&gj.from==f6&&gg.widgetNode){f8.push(gg);}}if(f4&&(f4.from||0)==f6){ab(gh,(f4.to==null?gl+1:f4.to)-f6,f4.marker,f4.from==null);if(f4.to==null){return;}}if(!f4&&f8.length){for(var gi=0;gi<f8.length;++gi){ab(gh,0,f8[gi]);}}}if(f6>=gl){break;}var gc=Math.min(gl,go);while(true){if(gd){var f3=f6+gd.length;if(!f4){var f5=f3>gc?gd.slice(0,gc-f6):gd;gh.addToken(gh,f5,gm?gm+f2:f2,ge,f6+f5.length==go?gn:"",gp);}if(f3>=gc){gd=gd.slice(gc-f6);f6=gc;break;}f6=f3;ge="";}gd=f9.slice(gf,gf=ga[gk++]);gm=eL(ga[gk++],gh.cm.options);}}}function dH(f2,f3){return f3.from.ch==0&&f3.to.ch==0&&fw(f3.text)==""&&(!f2.cm||f2.cm.options.wholeLineUpdateBefore);}function fn(gf,ga,f2,f6){function gg(gi){return f2?f2[gi]:null;}function f3(gi,gk,gj){eb(gi,gk,gj,f6);ad(gi,"change",gi,ga);}var gd=ga.from,ge=ga.to,gh=ga.text;var gb=e3(gf,gd.line),gc=e3(gf,ge.line);var f9=fw(gh),f5=gg(gh.length-1),f8=ge.line-gd.line;if(dH(gf,ga)){for(var f4=0,f7=[];f4<gh.length-1;++f4){f7.push(new fR(gh[f4],gg(f4),f6));}f3(gc,gc.text,f5);if(f8){gf.remove(gd.line,f8);}if(f7.length){gf.insert(gd.line,f7);}}else{if(gb==gc){if(gh.length==1){f3(gb,gb.text.slice(0,gd.ch)+f9+gb.text.slice(ge.ch),f5);}else{for(var f7=[],f4=1;f4<gh.length-1;++f4){f7.push(new fR(gh[f4],gg(f4),f6));}f7.push(new fR(f9+gb.text.slice(ge.ch),f5,f6));f3(gb,gb.text.slice(0,gd.ch)+gh[0],gg(0));gf.insert(gd.line+1,f7);}}else{if(gh.length==1){f3(gb,gb.text.slice(0,gd.ch)+gh[0]+gc.text.slice(ge.ch),gg(0));gf.remove(gd.line+1,f8);}else{f3(gb,gb.text.slice(0,gd.ch)+gh[0],gg(0));f3(gc,f9+gc.text.slice(ge.ch),f5);for(var f4=1,f7=[];f4<gh.length-1;++f4){f7.push(new fR(gh[f4],gg(f4),f6));}if(f8>1){gf.remove(gd.line+1,f8-1);}gf.insert(gd.line+1,f7);}}}ad(gf,"change",gf,ga);}function eO(f3){this.lines=f3;this.parent=null;for(var f4=0,f2=0;f4<f3.length;++f4){f3[f4].parent=this;f2+=f3[f4].height;}this.height=f2;}eO.prototype={chunkSize:function(){return this.lines.length;},removeInner:function(f2,f6){for(var f4=f2,f5=f2+f6;f4<f5;++f4){var f3=this.lines[f4];this.height-=f3.height;bA(f3);ad(f3,"delete");}this.lines.splice(f2,f6);},collapse:function(f2){f2.push.apply(f2,this.lines);},insertInner:function(f3,f4,f2){this.height+=f2;this.lines=this.lines.slice(0,f3).concat(f4).concat(this.lines.slice(f3));for(var f5=0;f5<f4.length;++f5){f4[f5].parent=this;}},iterN:function(f2,f5,f4){for(var f3=f2+f5;f2<f3;++f2){if(f4(this.lines[f2])){return true;}}}};function fm(f5){this.children=f5;var f4=0,f2=0;for(var f3=0;f3<f5.length;++f3){var f6=f5[f3];f4+=f6.chunkSize();f2+=f6.height;f6.parent=this;}this.size=f4;this.height=f2;this.parent=null;}fm.prototype={chunkSize:function(){return this.size;},removeInner:function(f2,f9){this.size-=f9;for(var f4=0;f4<this.children.length;++f4){var f8=this.children[f4],f6=f8.chunkSize();if(f2<f6){var f5=Math.min(f9,f6-f2),f7=f8.height;f8.removeInner(f2,f5);this.height-=f7-f8.height;if(f6==f5){this.children.splice(f4--,1);f8.parent=null;}if((f9-=f5)==0){break;}f2=0;}else{f2-=f6;}}if(this.size-f9<25&&(this.children.length>1||!(this.children[0] instanceof eO))){var f3=[];this.collapse(f3);this.children=[new eO(f3)];this.children[0].parent=this;}},collapse:function(f2){for(var f3=0;f3<this.children.length;++f3){this.children[f3].collapse(f2);}},insertInner:function(f3,f4,f2){this.size+=f4.length;this.height+=f2;for(var f7=0;f7<this.children.length;++f7){var f9=this.children[f7],f8=f9.chunkSize();if(f3<=f8){f9.insertInner(f3,f4,f2);if(f9.lines&&f9.lines.length>50){while(f9.lines.length>50){var f6=f9.lines.splice(f9.lines.length-25,25);var f5=new eO(f6);f9.height-=f5.height;this.children.splice(f7+1,0,f5);f5.parent=this;}this.maybeSpill();}break;}f3-=f8;}},maybeSpill:function(){if(this.children.length<=10){return;}var f5=this;do{var f3=f5.children.splice(f5.children.length-5,5);var f4=new fm(f3);if(!f5.parent){var f6=new fm(f5.children);f6.parent=f5;f5.children=[f6,f4];f5=f6;}else{f5.size-=f4.size;f5.height-=f4.height;var f2=dc(f5.parent.children,f5);f5.parent.children.splice(f2+1,0,f4);}f4.parent=f5.parent;}while(f5.children.length>10);f5.parent.maybeSpill();},iterN:function(f2,f8,f7){for(var f3=0;f3<this.children.length;++f3){var f6=this.children[f3],f5=f6.chunkSize();if(f2<f5){var f4=Math.min(f8,f5-f2);if(f6.iterN(f2,f4,f7)){return true;}if((f8-=f4)==0){break;}f2=0;}else{f2-=f5;}}}};var cq=0;var at=J.Doc=function(f4,f3,f2){if(!(this instanceof at)){return new at(f4,f3,f2);}if(f2==null){f2=0;}fm.call(this,[new eO([new fR("",null)])]);this.first=f2;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=f2;var f5=X(f2,0);this.sel=eH(f5);this.history=new fH(null);this.id=++cq;this.modeOption=f3;if(typeof f4=="string"){f4=aX(f4);}fn(this,{from:f5,to:f5,text:f4});bT(this,eH(f5),Z);};at.prototype=ck(fm.prototype,{constructor:at,iter:function(f4,f3,f2){if(f2){this.iterN(f4-this.first,f3-f4,f2);}else{this.iterN(this.first,this.first+this.size,f4);}},insert:function(f3,f4){var f2=0;for(var f5=0;f5<f4.length;++f5){f2+=f4[f5].height;}this.insertInner(f3-this.first,f4,f2);},remove:function(f2,f3){this.removeInner(f2-this.first,f3);},getValue:function(f3){var f2=aZ(this,this.first,this.first+this.size);if(f3===false){return f2;}return f2.join(f3||"\n");},setValue:cB(function(f3){var f4=X(this.first,0),f2=this.first+this.size-1;bc(this,{from:f4,to:X(f2,e3(this,f2).text.length),text:aX(f3),origin:"setValue"},true);bT(this,eH(f4));}),replaceRange:function(f3,f5,f4,f2){f5=fy(this,f5);f4=f4?fy(this,f4):f5;aY(this,f3,f5,f4,f2);},getRange:function(f5,f4,f3){var f2=fN(this,fy(this,f5),fy(this,f4));if(f3===false){return f2;}return f2.join(f3||"\n");},getLine:function(f3){var f2=this.getLineHandle(f3);return f2&&f2.text;},getLineHandle:function(f2){if(b8(this,f2)){return e3(this,f2);}},getLineNumber:function(f2){return bM(f2);},getLineHandleVisualStart:function(f2){if(typeof f2=="number"){f2=e3(this,f2);}return z(f2);},lineCount:function(){return this.size;},firstLine:function(){return this.first;},lastLine:function(){return this.first+this.size-1;},clipPos:function(f2){return fy(this,f2);},getCursor:function(f4){var f2=this.sel.primary(),f3;if(f4==null||f4=="head"){f3=f2.head;}else{if(f4=="anchor"){f3=f2.anchor;}else{if(f4=="end"||f4=="to"||f4===false){f3=f2.to();}else{f3=f2.from();}}}return f3;},listSelections:function(){return this.sel.ranges;},somethingSelected:function(){return this.sel.somethingSelected();},setCursor:cB(function(f2,f4,f3){H(this,fy(this,typeof f2=="number"?X(f2,f4||0):f2),null,f3);}),setSelection:cB(function(f3,f4,f2){H(this,fy(this,f3),fy(this,f4||f3),f2);}),extendSelection:cB(function(f4,f2,f3){fI(this,fy(this,f4),f2&&fy(this,f2),f3);}),extendSelections:cB(function(f3,f2){ax(this,dO(this,f3,f2));}),extendSelectionsBy:cB(function(f3,f2){ax(this,bR(this.sel.ranges,f3),f2);}),setSelections:cB(function(f2,f6,f4){if(!f2.length){return;}for(var f5=0,f3=[];f5<f2.length;f5++){f3[f5]=new dN(fy(this,f2[f5].anchor),fy(this,f2[f5].head));}if(f6==null){f6=Math.min(f2.length-1,this.sel.primIndex);}bT(this,cv(f3,f6),f4);}),addSelection:cB(function(f4,f5,f3){var f2=this.sel.ranges.slice(0);f2.push(new dN(fy(this,f4),fy(this,f5||f4)));bT(this,cv(f2,f2.length-1),f3);}),getSelection:function(f6){var f3=this.sel.ranges,f2;for(var f4=0;f4<f3.length;f4++){var f5=fN(this,f3[f4].from(),f3[f4].to());f2=f2?f2.concat(f5):f5;}if(f6===false){return f2;}else{return f2.join(f6||"\n");}},getSelections:function(f6){var f5=[],f2=this.sel.ranges;for(var f3=0;f3<f2.length;f3++){var f4=fN(this,f2[f3].from(),f2[f3].to());if(f6!==false){f4=f4.join(f6||"\n");}f5[f3]=f4;}return f5;},replaceSelection:function(f4,f6,f2){var f5=[];for(var f3=0;f3<this.sel.ranges.length;f3++){f5[f3]=f4;}this.replaceSelections(f5,f6,f2||"+input");},replaceSelections:cB(function(f7,f9,f4){var f6=[],f8=this.sel;for(var f5=0;f5<f8.ranges.length;f5++){var f3=f8.ranges[f5];f6[f5]={from:f3.from(),to:f3.to(),text:aX(f7[f5]),origin:f4};}var f2=f9&&f9!="end"&&ae(this,f6,f9);for(var f5=f6.length-1;f5>=0;f5--){bc(this,f6[f5]);}if(f2){eV(this,f2);}else{if(this.cm){fv(this.cm);}}}),undo:cB(function(){b7(this,"undo");}),redo:cB(function(){b7(this,"redo");}),undoSelection:cB(function(){b7(this,"undo",true);}),redoSelection:cB(function(){b7(this,"redo",true);}),setExtending:function(f2){this.extend=f2;},getExtending:function(){return this.extend;},historySize:function(){var f5=this.history,f2=0,f4=0;for(var f3=0;f3<f5.done.length;f3++){if(!f5.done[f3].ranges){++f2;}}for(var f3=0;f3<f5.undone.length;f3++){if(!f5.undone[f3].ranges){++f4;}}return{undo:f2,redo:f4};},clearHistory:function(){this.history=new fH(this.history.maxGeneration);},markClean:function(){this.cleanGeneration=this.changeGeneration(true);},changeGeneration:function(f2){if(f2){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;}return this.history.generation;},isClean:function(f2){return this.history.generation==(f2||this.cleanGeneration);},getHistory:function(){return{done:bO(this.history.done),undone:bO(this.history.undone)};},setHistory:function(f3){var f2=this.history=new fH(this.history.maxGeneration);f2.done=bO(f3.done.slice(0),null,true);f2.undone=bO(f3.undone.slice(0),null,true);},addLineClass:cB(function(f4,f3,f2){return en(this,f4,"class",function(f5){var f6=f3=="text"?"textClass":f3=="background"?"bgClass":"wrapClass";if(!f5[f6]){f5[f6]=f2;}else{if(new RegExp("(?:^|\\s)"+f2+"(?:$|\\s)").test(f5[f6])){return false;}else{f5[f6]+=" "+f2;}}return true;});}),removeLineClass:cB(function(f4,f3,f2){return en(this,f4,"class",function(f6){var f9=f3=="text"?"textClass":f3=="background"?"bgClass":"wrapClass";var f8=f6[f9];if(!f8){return false;}else{if(f2==null){f6[f9]=null;}else{var f7=f8.match(new RegExp("(?:^|\\s+)"+f2+"(?:$|\\s+)"));if(!f7){return false;}var f5=f7.index+f7[0].length;f6[f9]=f8.slice(0,f7.index)+(!f7.index||f5==f8.length?"":" ")+f8.slice(f5)||null;}}return true;});}),markText:function(f4,f3,f2){return eu(this,fy(this,f4),fy(this,f3),f2,"range");},setBookmark:function(f4,f2){var f3={replacedWith:f2&&(f2.nodeType==null?f2.widget:f2),insertLeft:f2&&f2.insertLeft,clearWhenEmpty:false,shared:f2&&f2.shared};f4=fy(this,f4);return eu(this,f4,f4,f3,"bookmark");},findMarksAt:function(f6){f6=fy(this,f6);var f5=[],f3=e3(this,f6.line).markedSpans;if(f3){for(var f2=0;f2<f3.length;++f2){var f4=f3[f2];if((f4.from==null||f4.from<=f6.ch)&&(f4.to==null||f4.to>=f6.ch)){f5.push(f4.marker.parent||f4.marker);}}}return f5;},findMarks:function(f6,f5,f2){f6=fy(this,f6);f5=fy(this,f5);var f3=[],f4=f6.line;this.iter(f6.line,f5.line+1,function(f7){var f9=f7.markedSpans;if(f9){for(var f8=0;f8<f9.length;f8++){var ga=f9[f8];if(!(f4==f6.line&&f6.ch>ga.to||ga.from==null&&f4!=f6.line||f4==f5.line&&ga.from>f5.ch)&&(!f2||f2(ga.marker))){f3.push(ga.marker.parent||ga.marker);}}}++f4;});return f3;},getAllMarks:function(){var f2=[];this.iter(function(f4){var f3=f4.markedSpans;if(f3){for(var f5=0;f5<f3.length;++f5){if(f3[f5].from!=null){f2.push(f3[f5].marker);}}}});return f2;},posFromIndex:function(f3){var f2,f4=this.first;this.iter(function(f5){var f6=f5.text.length+1;if(f6>f3){f2=f3;return true;}f3-=f6;++f4;});return fy(this,X(f4,f2));},indexFromPos:function(f3){f3=fy(this,f3);var f2=f3.ch;if(f3.line<this.first||f3.ch<0){return 0;}this.iter(this.first,f3.line,function(f4){f2+=f4.text.length+1;});return f2;},copy:function(f2){var f3=new at(aZ(this,this.first,this.first+this.size),this.modeOption,this.first);f3.scrollTop=this.scrollTop;f3.scrollLeft=this.scrollLeft;f3.sel=this.sel;f3.extend=false;if(f2){f3.history.undoDepth=this.history.undoDepth;f3.setHistory(this.getHistory());}return f3;},linkedDoc:function(f2){if(!f2){f2={};}var f5=this.first,f4=this.first+this.size;if(f2.from!=null&&f2.from>f5){f5=f2.from;}if(f2.to!=null&&f2.to<f4){f4=f2.to;}var f3=new at(aZ(this,f5,f4),f2.mode||this.modeOption,f5);if(f2.sharedHist){f3.history=this.history;}(this.linked||(this.linked=[])).push({doc:f3,sharedHist:f2.sharedHist});f3.linked=[{doc:this,isParent:true,sharedHist:f2.sharedHist}];dw(f3,eE(this));return f3;},unlinkDoc:function(f3){if(f3 instanceof J){f3=f3.doc;}if(this.linked){for(var f4=0;f4<this.linked.length;++f4){var f5=this.linked[f4];if(f5.doc!=f3){continue;}this.linked.splice(f4,1);f3.unlinkDoc(this);ec(eE(this));break;}}if(f3.history==this.history){var f2=[f3.id];dW(f3,function(f6){f2.push(f6.id);},true);f3.history=new fH(null);f3.history.done=bO(this.history.done,f2);f3.history.undone=bO(this.history.undone,f2);}},iterLinkedDocs:function(f2){dW(this,f2);},getMode:function(){return this.mode;},getEditor:function(){return this.cm;}});at.prototype.eachLine=at.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var bJ in at.prototype){if(at.prototype.hasOwnProperty(bJ)&&dc(d,bJ)<0){J.prototype[bJ]=(function(f2){return function(){return f2.apply(this.doc,arguments);};})(at.prototype[bJ]);}}bx(at);function dW(f5,f4,f3){function f2(gb,f9,f7){if(gb.linked){for(var f8=0;f8<gb.linked.length;++f8){var f6=gb.linked[f8];if(f6.doc==f9){continue;}var ga=f7&&f6.sharedHist;if(f3&&!ga){continue;}f4(f6.doc,ga);f2(f6.doc,gb,ga);}}}f2(f5,null,true);}function dZ(f2,f3){if(f3.cm){throw new Error("This document is already in use.");}f2.doc=f3;f3.cm=f2;Y(f2);bq(f2);if(!f2.options.lineWrapping){g(f2);}f2.options.mode=f3.modeOption;ag(f2);}function e3(f5,f7){f7-=f5.first;if(f7<0||f7>=f5.size){throw new Error("There is no line "+(f7+f5.first)+" in the document.");}for(var f2=f5;!f2.lines;){for(var f3=0;;++f3){var f6=f2.children[f3],f4=f6.chunkSize();if(f7<f4){f2=f6;break;}f7-=f4;}}return f2.lines[f7];}function fN(f4,f6,f2){var f3=[],f5=f6.line;f4.iter(f6.line,f2.line+1,function(f7){var f8=f7.text;if(f5==f2.line){f8=f8.slice(0,f2.ch);}if(f5==f6.line){f8=f8.slice(f6.ch);}f3.push(f8);++f5;});return f3;}function aZ(f3,f5,f4){var f2=[];f3.iter(f5,f4,function(f6){f2.push(f6.text);});return f2;}function fP(f3,f2){var f4=f2-f3.height;if(f4){for(var f5=f3;f5;f5=f5.parent){f5.height+=f4;}}}function bM(f2){if(f2.parent==null){return null;}var f6=f2.parent,f5=dc(f6.lines,f2);for(var f3=f6.parent;f3;f6=f3,f3=f3.parent){for(var f4=0;;++f4){if(f3.children[f4]==f6){break;}f5+=f3.children[f4].chunkSize();}}return f5+f6.first;}function bF(f4,f7){var f9=f4.first;outer:do{for(var f5=0;f5<f4.children.length;++f5){var f8=f4.children[f5],f6=f8.height;if(f7<f6){f4=f8;continue outer;}f7-=f6;f9+=f8.chunkSize();}return f9;}while(!f4.lines);for(var f5=0;f5<f4.lines.length;++f5){var f3=f4.lines[f5],f2=f3.height;if(f7<f2){break;}f7-=f2;}return f9+f5;}function bL(f4){f4=z(f4);var f6=0,f3=f4.parent;for(var f5=0;f5<f3.lines.length;++f5){var f2=f3.lines[f5];if(f2==f4){break;}else{f6+=f2.height;}}for(var f7=f3.parent;f7;f3=f7,f7=f3.parent){for(var f5=0;f5<f7.children.length;++f5){var f8=f7.children[f5];if(f8==f3){break;}else{f6+=f8.height;}}}return f6;}function a(f3){var f2=f3.order;if(f2==null){f2=f3.order=bd(f3.text);}return f2;}function fH(f2){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=f2||1;}function dl(f2,f4){var f3={from:ci(f4.from),to:cS(f4),text:fN(f2,f4.from,f4.to)};bX(f2,f3,f4.from.line,f4.to.line+1);dW(f2,function(f5){bX(f5,f3,f4.from.line,f4.to.line+1);},true);return f3;}function fq(f3){while(f3.length){var f2=fw(f3);if(f2.ranges){f3.pop();}else{break;}}}function eB(f3,f2){if(f2){fq(f3.done);return fw(f3.done);}else{if(f3.done.length&&!fw(f3.done).ranges){return fw(f3.done);}else{if(f3.done.length>1&&!f3.done[f3.done.length-2].ranges){f3.done.pop();return fw(f3.done);}}}}function fB(f8,f6,f2,f5){var f4=f8.history;f4.undone.length=0;var f3=+new Date,f9;if((f4.lastOp==f5||f4.lastOrigin==f6.origin&&f6.origin&&((f6.origin.charAt(0)=="+"&&f8.cm&&f4.lastModTime>f3-f8.cm.options.historyEventDelay)||f6.origin.charAt(0)=="*"))&&(f9=eB(f4,f4.lastOp==f5))){var ga=fw(f9.changes);if(ce(f6.from,f6.to)==0&&ce(f6.from,ga.to)==0){ga.to=cS(f6);}else{f9.changes.push(dl(f8,f6));}}else{var f7=fw(f4.done);if(!f7||!f7.ranges){cK(f8.sel,f4.done);}f9={changes:[dl(f8,f6)],generation:f4.generation};f4.done.push(f9);while(f4.done.length>f4.undoDepth){f4.done.shift();if(!f4.done[0].ranges){f4.done.shift();}}}f4.done.push(f2);f4.generation=++f4.maxGeneration;f4.lastModTime=f4.lastSelTime=f3;f4.lastOp=f4.lastSelOp=f5;f4.lastOrigin=f4.lastSelOrigin=f6.origin;if(!ga){aD(f8,"historyAdded");}}function bz(f6,f2,f4,f5){var f3=f2.charAt(0);return f3=="*"||f3=="+"&&f4.ranges.length==f5.ranges.length&&f4.somethingSelected()==f5.somethingSelected()&&new Date-f6.history.lastSelTime<=(f6.cm?f6.cm.options.historyEventDelay:500);}function fV(f7,f5,f2,f4){var f6=f7.history,f3=f4&&f4.origin;if(f2==f6.lastSelOp||(f3&&f6.lastSelOrigin==f3&&(f6.lastModTime==f6.lastSelTime&&f6.lastOrigin==f3||bz(f7,f3,fw(f6.done),f5)))){f6.done[f6.done.length-1]=f5;}else{cK(f5,f6.done);}f6.lastSelTime=+new Date;f6.lastSelOrigin=f3;f6.lastSelOp=f2;if(f4&&f4.clearRedo!==false){fq(f6.undone);}}function cK(f3,f2){var f4=fw(f2);if(!(f4&&f4.ranges&&f4.equals(f3))){f2.push(f3);}}function bX(f3,f7,f6,f5){var f2=f7["spans_"+f3.id],f4=0;f3.iter(Math.max(f3.first,f6),Math.min(f3.first+f3.size,f5),function(f8){if(f8.markedSpans){(f2||(f2=f7["spans_"+f3.id]={}))[f4]=f8.markedSpans;}++f4;});}function bi(f4){if(!f4){return null;}for(var f3=0,f2;f3<f4.length;++f3){if(f4[f3].marker.explicitlyCleared){if(!f2){f2=f4.slice(0,f3);}}else{if(f2){f2.push(f4[f3]);}}}return !f2?f4:f2.length?f2:null;}function b3(f5,f6){var f4=f6["spans_"+f5.id];if(!f4){return null;}for(var f3=0,f2=[];f3<f6.text.length;++f3){f2.push(bi(f4[f3]));}return f2;}function bO(gd,f5,gc){for(var f8=0,f3=[];f8<gd.length;++f8){var f4=gd[f8];if(f4.ranges){f3.push(gc?fM.prototype.deepCopy.call(f4):f4);continue;}var ga=f4.changes,gb=[];f3.push({changes:gb});for(var f7=0;f7<ga.length;++f7){var f9=ga[f7],f6;gb.push({from:f9.from,to:f9.to,text:f9.text});if(f5){for(var f2 in f9){if(f6=f2.match(/^spans_(\d+)$/)){if(dc(f5,Number(f6[1]))>-1){fw(gb)[f2]=f9[f2];delete f9[f2];}}}}}}return f3;}function K(f5,f4,f3,f2){if(f3<f5.line){f5.line+=f2;}else{if(f4<f5.line){f5.line=f4;f5.ch=0;}}}function e5(f5,f7,f8,f9){for(var f4=0;f4<f5.length;++f4){var f2=f5[f4],f6=true;if(f2.ranges){if(!f2.copied){f2=f5[f4]=f2.deepCopy();f2.copied=true;}for(var f3=0;f3<f2.ranges.length;f3++){K(f2.ranges[f3].anchor,f7,f8,f9);K(f2.ranges[f3].head,f7,f8,f9);}continue;}for(var f3=0;f3<f2.changes.length;++f3){var ga=f2.changes[f3];if(f8<ga.from.line){ga.from=X(ga.from.line+f9,ga.from.ch);ga.to=X(ga.to.line+f9,ga.to.ch);}else{if(f7<=ga.to.line){f6=false;break;}}}if(!f6){f5.splice(0,f4+1);f4=0;}}}function dv(f3,f6){var f5=f6.from.line,f4=f6.to.line,f2=f6.text.length-(f4-f5)-1;e5(f3.done,f5,f4,f2);e5(f3.undone,f5,f4,f2);}var cD=J.e_preventDefault=function(f2){if(f2.preventDefault){f2.preventDefault();}else{f2.returnValue=false;}};var dh=J.e_stopPropagation=function(f2){if(f2.stopPropagation){f2.stopPropagation();}else{f2.cancelBubble=true;}};function bK(f2){return f2.defaultPrevented!=null?f2.defaultPrevented:f2.returnValue==false;}var ef=J.e_stop=function(f2){cD(f2);dh(f2);};function M(f2){return f2.target||f2.srcElement;}function fC(f3){var f2=f3.which;if(f2==null){if(f3.button&1){f2=1;}else{if(f3.button&2){f2=3;}else{if(f3.button&4){f2=2;}}}}if(b6&&f3.ctrlKey&&f2==1){f2=3;}return f2;}var bW=J.on=function(f5,f3,f4){if(f5.addEventListener){f5.addEventListener(f3,f4,false);}else{if(f5.attachEvent){f5.attachEvent("on"+f3,f4);}else{var f6=f5._handlers||(f5._handlers={});var f2=f6[f3]||(f6[f3]=[]);f2.push(f4);}}};var d1=J.off=function(f6,f4,f5){if(f6.removeEventListener){f6.removeEventListener(f4,f5,false);}else{if(f6.detachEvent){f6.detachEvent("on"+f4,f5);}else{var f2=f6._handlers&&f6._handlers[f4];if(!f2){return;}for(var f3=0;f3<f2.length;++f3){if(f2[f3]==f5){f2.splice(f3,1);break;}}}}};var aD=J.signal=function(f6,f5){var f2=f6._handlers&&f6._handlers[f5];if(!f2){return;}var f3=Array.prototype.slice.call(arguments,2);for(var f4=0;f4<f2.length;++f4){f2[f4].apply(null,f3);}};var by=null;function ad(f8,f6){var f2=f8._handlers&&f8._handlers[f6];if(!f2){return;}var f4=Array.prototype.slice.call(arguments,2),f7;if(bo){f7=bo.delayedCallbacks;}else{if(by){f7=by;}else{f7=by=[];setTimeout(aK,0);}}function f3(f9){return function(){f9.apply(null,f4);};}for(var f5=0;f5<f2.length;++f5){f7.push(f3(f2[f5]));}}function aK(){var f2=by;by=null;for(var f3=0;f3<f2.length;++f3){f2[f3]();}}function aP(f2,f4,f3){aD(f2,f3||f4.type,f2,f4);return bK(f4)||f4.codemirrorIgnore;}function W(f3){var f2=f3._handlers&&f3._handlers.cursorActivity;if(!f2){return;}var f5=f3.curOp.cursorActivityHandlers||(f3.curOp.cursorActivityHandlers=[]);for(var f4=0;f4<f2.length;++f4){if(dc(f5,f2[f4])==-1){f5.push(f2[f4]);}}}function e6(f4,f3){var f2=f4._handlers&&f4._handlers[f3];return f2&&f2.length>0;}function bx(f2){f2.prototype.on=function(f3,f4){bW(this,f3,f4);};f2.prototype.off=function(f3,f4){d1(this,f3,f4);};}var bh=30;var b9=J.Pass={toString:function(){return"CodeMirror.Pass";}};var Z={scroll:false},N={origin:"*mouse"},cR={origin:"+move"};function f1(){this.id=null;}f1.prototype.set=function(f2,f3){clearTimeout(this.id);this.id=setTimeout(f3,f2);};var bS=J.countColumn=function(f5,f3,f7,f8,f4){if(f3==null){f3=f5.search(/[^\s\u00a0]/);if(f3==-1){f3=f5.length;}}for(var f6=f8||0,f9=f4||0;;){var f2=f5.indexOf("\t",f6);if(f2<0||f2>=f3){return f9+(f3-f6);}f9+=f2-f6;f9+=f7-(f9%f7);f6=f2+1;}};function ee(f6,f5,f7){for(var f8=0,f4=0;;){var f3=f6.indexOf("\t",f8);if(f3==-1){f3=f6.length;}var f2=f3-f8;if(f3==f6.length||f4+f2>=f5){return f8+Math.min(f2,f5-f4);}f4+=f3-f8;f4+=f7-(f4%f7);f8=f3+1;if(f4>=f5){return f8;}}}var aW=[""];function cp(f2){while(aW.length<=f2){aW.push(fw(aW)+" ");}return aW[f2];}function fw(f2){return f2[f2.length-1];}var dB=function(f2){f2.select();};if(eQ){dB=function(f2){f2.selectionStart=0;f2.selectionEnd=f2.value.length;};}else{if(dA){dB=function(f3){try{f3.select();}catch(f2){}};}}function dc(f4,f2){for(var f3=0;f3<f4.length;++f3){if(f4[f3]==f2){return f3;}}return -1;}if([].indexOf){dc=function(f3,f2){return f3.indexOf(f2);};}function bR(f5,f4){var f2=[];for(var f3=0;f3<f5.length;f3++){f2[f3]=f4(f5[f3],f3);}return f2;}if([].map){bR=function(f3,f2){return f3.map(f2);};}function ck(f5,f2){var f4;if(Object.create){f4=Object.create(f5);}else{var f3=function(){};f3.prototype=f5;f4=new f3();}if(f2){aL(f2,f4);}return f4;}function aL(f4,f3,f2){if(!f3){f3={};}for(var f5 in f4){if(f4.hasOwnProperty(f5)&&(f2!==false||!f3.hasOwnProperty(f5))){f3[f5]=f4[f5];}}return f3;}function cu(f3){var f2=Array.prototype.slice.call(arguments,1);return function(){return f3.apply(null,f2);};}var a9=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var fs=J.isWordChar=function(f2){return/\w/.test(f2)||f2>"\x80"&&(f2.toUpperCase()!=f2.toLowerCase()||a9.test(f2));};function cy(f2,f3){if(!f3){return fs(f2);}if(f3.source.indexOf("\\w")>-1&&fs(f2)){return true;}return f3.test(f2);}function eJ(f2){for(var f3 in f2){if(f2.hasOwnProperty(f3)&&f2[f3]){return false;}}return true;}var ey=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function fe(f2){return f2.charCodeAt(0)>=768&&ey.test(f2);}function fL(f2,f6,f5,f4){var f7=document.createElement(f2);if(f5){f7.className=f5;}if(f4){f7.style.cssText=f4;}if(typeof f6=="string"){f7.appendChild(document.createTextNode(f6));}else{if(f6){for(var f3=0;f3<f6.length;++f3){f7.appendChild(f6[f3]);}}}return f7;}var cl;if(document.createRange){cl=function(f4,f5,f2){var f3=document.createRange();f3.setEnd(f4,f2);f3.setStart(f4,f5);return f3;};}else{cl=function(f4,f5,f2){var f3=document.body.createTextRange();f3.moveToElementText(f4.parentNode);f3.collapse(true);f3.moveEnd("character",f2);f3.moveStart("character",f5);return f3;};}function dQ(f3){for(var f2=f3.childNodes.length;f2>0;--f2){f3.removeChild(f3.firstChild);}return f3;}function bQ(f2,f3){return dQ(f2).appendChild(f3);}function fU(f2,f3){if(f2.contains){return f2.contains(f3);}while(f3=f3.parentNode){if(f3==f2){return true;}}}function dD(){return document.activeElement;}if(dA&&l<11){dD=function(){try{return document.activeElement;}catch(f2){return document.body;}};}function T(f2){return new RegExp("\\b"+f2+"\\b\\s*");}function f(f3,f2){var f4=T(f2);if(f4.test(f3.className)){f3.className=f3.className.replace(f4,"");}}function fp(f3,f2){if(!T(f2).test(f3.className)){f3.className+=" "+f2;}}function fG(f4,f2){var f3=f4.split(" ");for(var f5=0;f5<f3.length;f5++){if(f3[f5]&&!T(f3[f5]).test(f2)){f2+=" "+f3[f5];}}return f2;}function aA(f5){if(!document.body.getElementsByClassName){return;}var f4=document.body.getElementsByClassName("CodeMirror");for(var f3=0;f3<f4.length;f3++){var f2=f4[f3].CodeMirror;if(f2){f5(f2);}}}var cA=false;function bf(){if(cA){return;}ft();cA=true;}function ft(){var f2;bW(window,"resize",function(){if(f2==null){f2=setTimeout(function(){f2=null;ek=null;aA(aR);},100);}});bW(window,"blur",function(){aA(aS);});}var eA=function(){if(dA&&l<9){return false;}var f2=fL("div");return"draggable" in f2||"dragDrop" in f2;}();var ek;function k(f2){if(ek!=null){return ek;}var f3=fL("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");bQ(f2,f3);if(f3.offsetWidth){ek=f3.offsetHeight-f3.clientHeight;}return ek||0;}var fA;function bm(f2){if(fA==null){var f3=fL("span","\u200b");bQ(f2,fL("span",[f3,document.createTextNode("x")]));if(f2.firstChild.offsetHeight!=0){fA=f3.offsetWidth<=1&&f3.offsetHeight>2&&!(dA&&l<8);}}if(fA){return fL("span","\u200b");}else{return fL("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");}}var fz;function bN(f5){if(fz!=null){return fz;}var f2=bQ(f5,document.createTextNode("A\u062eA"));var f4=cl(f2,0,1).getBoundingClientRect();if(f4.left==f4.right){return false;}var f3=cl(f2,1,2).getBoundingClientRect();return fz=(f3.right-f4.right<3);}var aX=J.splitLines="\n\nb".split(/\n/).length!=3?function(f7){var f8=0,f2=[],f6=f7.length;while(f8<=f6){var f5=f7.indexOf("\n",f8);if(f5==-1){f5=f7.length;}var f4=f7.slice(f8,f7.charAt(f5-1)=="\r"?f5-1:f5);var f3=f4.indexOf("\r");if(f3!=-1){f2.push(f4.slice(0,f3));f8+=f3+1;}else{f2.push(f4);f8=f5+1;}}return f2;}:function(f2){return f2.split(/\r\n?|\n/);};var br=window.getSelection?function(f3){try{return f3.selectionStart!=f3.selectionEnd;}catch(f2){return false;}}:function(f4){try{var f2=f4.ownerDocument.selection.createRange();}catch(f3){}if(!f2||f2.parentElement()!=f4){return false;}return f2.compareEndPoints("StartToEnd",f2)!=0;};var c5=(function(){var f2=fL("div");if("oncopy" in f2){return true;}f2.setAttribute("oncopy","return;");return typeof f2.oncopy=="function";})();var eU=null;function aJ(f3){if(eU!=null){return eU;}var f4=bQ(f3,fL("span","x"));var f5=f4.getBoundingClientRect();var f2=cl(f4,0,1).getBoundingClientRect();return eU=Math.abs(f5.left-f2.left)>1;}var e4={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};J.keyNames=e4;(function(){for(var f2=0;f2<10;f2++){e4[f2+48]=e4[f2+96]=String(f2);}for(var f2=65;f2<=90;f2++){e4[f2]=String.fromCharCode(f2);}for(var f2=1;f2<=12;f2++){e4[f2+111]=e4[f2+63235]="F"+f2;}})();function dT(f2,f8,f7,f6){if(!f2){return f6(f8,f7,"ltr");}var f5=false;for(var f4=0;f4<f2.length;++f4){var f3=f2[f4];if(f3.from<f7&&f3.to>f8||f8==f7&&f3.to==f8){f6(Math.max(f3.from,f8),Math.min(f3.to,f7),f3.level==1?"rtl":"ltr");f5=true;}}if(!f5){f6(f8,f7,"ltr");}}function dp(f2){return f2.level%2?f2.to:f2.from;}function fX(f2){return f2.level%2?f2.from:f2.to;}function cC(f3){var f2=a(f3);return f2?dp(f2[0]):0;}function cP(f3){var f2=a(f3);if(!f2){return f3.text.length;}return fX(fw(f2));}function bs(f3,f6){var f4=e3(f3.doc,f6);var f7=z(f4);if(f7!=f4){f6=bM(f7);}var f2=a(f7);var f5=!f2?0:f2[0].level%2?cP(f7):cC(f7);return X(f6,f5);}function dE(f4,f7){var f3,f5=e3(f4.doc,f7);while(f3=ej(f5)){f5=f3.find(1,true).line;f7=null;}var f2=a(f5);var f6=!f2?f5.text.length:f2[0].level%2?cC(f5):cP(f5);return X(f7==null?bM(f5):f7,f6);}function dz(f3,f8){var f7=bs(f3,f8.line);var f4=e3(f3.doc,f7.line);var f2=a(f4);if(!f2||f2[0].level==0){var f6=Math.max(0,f4.text.search(/\S/));var f5=f8.line==f7.line&&f8.ch<=f6&&f8.ch;return X(f7.line,f5?0:f6);}return f7;}function am(f3,f4,f2){var f5=f3[0].level;if(f4==f5){return true;}if(f2==f5){return false;}return f4<f2;}var eR;function aF(f2,f6){eR=null;for(var f3=0,f4;f3<f2.length;++f3){var f5=f2[f3];if(f5.from<f6&&f5.to>f6){return f3;}if((f5.from==f6||f5.to==f6)){if(f4==null){f4=f3;}else{if(am(f2,f5.level,f2[f4].level)){if(f5.from!=f5.to){eR=f4;}return f3;}else{if(f5.from!=f5.to){eR=f3;}return f4;}}}}return f4;}function e2(f2,f5,f3,f4){if(!f4){return f5+f3;}do{f5+=f3;}while(f5>0&&fe(f2.text.charAt(f5)));return f5;}function v(f2,f9,f4,f5){var f6=a(f2);if(!f6){return ah(f2,f9,f4,f5);}var f8=aF(f6,f9),f3=f6[f8];var f7=e2(f2,f9,f3.level%2?-f4:f4,f5);for(;;){if(f7>f3.from&&f7<f3.to){return f7;}if(f7==f3.from||f7==f3.to){if(aF(f6,f7)==f8){return f7;}f3=f6[f8+=f4];return(f4>0)==f3.level%2?f3.to:f3.from;}else{f3=f6[f8+=f4];if(!f3){return null;}if((f4>0)==f3.level%2){f7=e2(f2,f3.to,-1,f5);}else{f7=e2(f2,f3.from,1,f5);}}}}function ah(f2,f6,f3,f4){var f5=f6+f3;if(f4){while(f5>0&&fe(f2.text.charAt(f5))){f5+=f3;}}return f5<0||f5>f2.text.length?null:f5;}var bd=(function(){var f8="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var f6="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function f5(gc){if(gc<=247){return f8.charAt(gc);}else{if(1424<=gc&&gc<=1524){return"R";}else{if(1536<=gc&&gc<=1773){return f6.charAt(gc-1536);}else{if(1774<=gc&&gc<=2220){return"r";}else{if(8192<=gc&&gc<=8203){return"w";}else{if(gc==8204){return"b";}else{return"L";}}}}}}}var f2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var gb=/[stwN]/,f4=/[LRr]/,f3=/[Lb1n]/,f7=/[1n]/;var ga="L";function f9(ge,gd,gc){this.level=ge;this.from=gd;this.to=gc;}return function(gm){if(!f2.test(gm)){return false;}var gs=gm.length,gi=[];for(var gr=0,ge;gr<gs;++gr){gi.push(ge=f5(gm.charCodeAt(gr)));}for(var gr=0,gl=ga;gr<gs;++gr){var ge=gi[gr];if(ge=="m"){gi[gr]=gl;}else{gl=ge;}}for(var gr=0,gc=ga;gr<gs;++gr){var ge=gi[gr];if(ge=="1"&&gc=="r"){gi[gr]="n";}else{if(f4.test(ge)){gc=ge;if(ge=="r"){gi[gr]="R";}}}}for(var gr=1,gl=gi[0];gr<gs-1;++gr){var ge=gi[gr];if(ge=="+"&&gl=="1"&&gi[gr+1]=="1"){gi[gr]="1";}else{if(ge==","&&gl==gi[gr+1]&&(gl=="1"||gl=="n")){gi[gr]=gl;}}gl=ge;}for(var gr=0;gr<gs;++gr){var ge=gi[gr];if(ge==","){gi[gr]="N";}else{if(ge=="%"){for(var gf=gr+1;gf<gs&&gi[gf]=="%";++gf){}var gt=(gr&&gi[gr-1]=="!")||(gf<gs&&gi[gf]=="1")?"1":"N";for(var gp=gr;gp<gf;++gp){gi[gp]=gt;}gr=gf-1;}}}for(var gr=0,gc=ga;gr<gs;++gr){var ge=gi[gr];if(gc=="L"&&ge=="1"){gi[gr]="L";}else{if(f4.test(ge)){gc=ge;}}}for(var gr=0;gr<gs;++gr){if(gb.test(gi[gr])){for(var gf=gr+1;gf<gs&&gb.test(gi[gf]);++gf){}var gj=(gr?gi[gr-1]:ga)=="L";var gd=(gf<gs?gi[gf]:ga)=="L";var gt=gj||gd?"L":"R";for(var gp=gr;gp<gf;++gp){gi[gp]=gt;}gr=gf-1;}}var gq=[],gn;for(var gr=0;gr<gs;){if(f3.test(gi[gr])){var gg=gr;for(++gr;gr<gs&&f3.test(gi[gr]);++gr){}gq.push(new f9(0,gg,gr));}else{var gh=gr,gk=gq.length;for(++gr;gr<gs&&gi[gr]!="L";++gr){}for(var gp=gh;gp<gr;){if(f7.test(gi[gp])){if(gh<gp){gq.splice(gk,0,new f9(1,gh,gp));}var go=gp;for(++gp;gp<gr&&f7.test(gi[gp]);++gp){}gq.splice(gk,0,new f9(2,go,gp));gh=gp;}else{++gp;}}if(gh<gr){gq.splice(gk,0,new f9(1,gh,gr));}}}if(gq[0].level==1&&(gn=gm.match(/^\s+/))){gq[0].from=gn[0].length;gq.unshift(new f9(0,0,gn[0].length));}if(fw(gq).level==1&&(gn=gm.match(/\s+$/))){fw(gq).to-=gn[0].length;gq.push(new f9(0,gs-gn[0].length,gs));}if(gq[0].level!=fw(gq).level){gq.push(new f9(gq[0].level,gs,gs));}return gq;};})();J.version="4.5.0";return J;});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(d){var f="CodeMirror-hint";var e="CodeMirror-hint-active";d.showHint=function(j,k,l){if(!k){return j.showHint(l);}if(l&&l.async){k.async=true;}var m={hint:k};if(l){for(var n in l){m[n]=l[n];}}return j.showHint(m);};d.defineExtension("showHint",function(l){if(this.listSelections().length>1||this.somethingSelected()){return;}if(this.state.completionActive){this.state.completionActive.close();}var k=this.state.completionActive=new a(this,l);var j=k.options.hint;if(!j){return;}d.signal(this,"startCompletion",this);if(j.async){j(this,function(m){k.showHints(m);},k.options);}else{return k.showHints(j(this,k.options));}});function a(j,k){this.cm=j;this.options=this.buildOptions(k);this.widget=this.onClose=null;}a.prototype={close:function(){if(!this.active()){return;}this.cm.state.completionActive=null;if(this.widget){this.widget.close();}if(this.onClose){this.onClose();}d.signal(this.cm,"endCompletion",this.cm);},active:function(){return this.cm.state.completionActive==this;},pick:function(l,k){var j=l.list[k];if(j.hint){j.hint(this.cm,l,j);}else{this.cm.replaceRange(i(j),j.from||l.from,j.to||l.to,"complete");}d.signal(l,"pick",j);this.close();},showHints:function(j){if(!j||!j.list.length||!this.active()){return this.close();}if(this.options.completeSingle&&j.list.length==1){this.pick(j,0);}else{this.showWidget(j);}},showWidget:function(o){this.widget=new h(this,o);d.signal(o,"shown");var v=0,l=this,k;var w=this.options.closeCharacters;var s=this.cm.getCursor(),p=this.cm.getLine(s.line).length;var t=window.requestAnimationFrame||function(x){return setTimeout(x,1000/60);};var q=window.cancelAnimationFrame||clearTimeout;function n(){if(k){return;}k=true;l.close();l.cm.off("cursorActivity",j);if(o){d.signal(o,"close");}}function m(){if(k){return;}d.signal(o,"update");var x=l.options.hint;if(x.async){x(l.cm,u,l.options);}else{u(x(l.cm,l.options));}}function u(x){o=x;if(k){return;}if(!o||!o.list.length){return n();}if(l.widget){l.widget.close();}l.widget=new h(l,o);}function r(){if(v){q(v);v=0;}}function j(){r();var y=l.cm.getCursor(),x=l.cm.getLine(y.line);if(y.line!=s.line||x.length-y.ch!=p-s.ch||y.ch<s.ch||l.cm.somethingSelected()||(y.ch&&w.test(x.charAt(y.ch-1)))){l.close();}else{v=t(m);if(l.widget){l.widget.close();}}}this.cm.on("cursorActivity",j);this.onClose=n;},buildOptions:function(k){var l=this.cm.options.hintOptions;var j={};for(var m in b){j[m]=b[m];}if(l){for(var m in l){if(l[m]!==undefined){j[m]=l[m];}}}if(k){for(var m in k){if(k[m]!==undefined){j[m]=k[m];}}}return j;}};function i(j){if(typeof j=="string"){return j;}else{return j.text;}}function c(n,q){var k={Up:function(){q.moveFocus(-1);},Down:function(){q.moveFocus(1);},PageUp:function(){q.moveFocus(-q.menuSize()+1,true);},PageDown:function(){q.moveFocus(q.menuSize()-1,true);},Home:function(){q.setFocus(0);},End:function(){q.setFocus(q.length-1);},Enter:q.pick,Tab:q.pick,Esc:q.close};var p=n.options.customKeys;var m=p?{}:k;function l(r,t){var s;if(typeof t!="string"){s=function(u){return t(u,q);};}else{if(k.hasOwnProperty(t)){s=k[t];}else{s=t;}}m[r]=s;}if(p){for(var o in p){if(p.hasOwnProperty(o)){l(o,p[o]);}}}var j=n.options.extraKeys;if(j){for(var o in j){if(j.hasOwnProperty(o)){l(o,j[o]);}}}return m;}function g(k,j){while(j&&j!=k){if(j.nodeName.toUpperCase()==="LI"&&j.parentNode==k){return j;}j=j.parentNode;}}function h(w,G){this.completion=w;this.data=G;var n=this,s=w.cm;var D=this.hints=document.createElement("ul");D.className="CodeMirror-hints";this.selectedHint=G.selectedHint||0;var r=G.list;for(var F=0;F<r.length;++F){var m=D.appendChild(document.createElement("li")),l=r[F];var k=f+(F!=this.selectedHint?"":" "+e);if(l.className!=null){k=l.className+" "+k;}m.className=k;if(l.render){l.render(m,G,l);}else{m.appendChild(document.createTextNode(l.displayText||i(l)));}m.hintId=F;}var q=s.cursorCoords(w.options.alignWithWord?G.from:null);var o=q.left,A=q.bottom,y=true;D.style.left=o+"px";D.style.top=A+"px";var t=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);var E=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(w.options.container||document.body).appendChild(D);var u=D.getBoundingClientRect(),v=u.bottom-E;if(v>0){var B=u.bottom-u.top,j=q.top-(q.bottom-u.top);if(j-B>0){D.style.top=(A=q.top-B)+"px";y=false;}else{if(B>E){D.style.height=(E-5)+"px";D.style.top=(A=q.bottom-u.top)+"px";var p=s.getCursor();if(G.from.ch!=p.ch){q=s.cursorCoords(p);D.style.left=(o=q.left)+"px";u=D.getBoundingClientRect();}}}}var x=u.left-t;if(x>0){if(u.right-u.left>t){D.style.width=(t-5)+"px";x-=(u.right-u.left)-t;}D.style.left=(o=q.left-x)+"px";}s.addKeyMap(this.keyMap=c(w,{moveFocus:function(I,H){n.changeActive(n.selectedHint+I,H);},setFocus:function(H){n.changeActive(H);},menuSize:function(){return n.screenAmount();},length:r.length,close:function(){w.close();},pick:function(){n.pick();},data:G}));if(w.options.closeOnUnfocus){var C;s.on("blur",this.onBlur=function(){C=setTimeout(function(){w.close();},100);});s.on("focus",this.onFocus=function(){clearTimeout(C);});}var z=s.getScrollInfo();s.on("scroll",this.onScroll=function(){var K=s.getScrollInfo(),J=s.getWrapperElement().getBoundingClientRect();var I=A+z.top-K.top;var H=I-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(!y){H+=D.offsetHeight;}if(H<=J.top||H>=J.bottom){return w.close();}D.style.top=I+"px";D.style.left=(o+z.left-K.left)+"px";});d.on(D,"dblclick",function(I){var H=g(D,I.target||I.srcElement);if(H&&H.hintId!=null){n.changeActive(H.hintId);n.pick();}});d.on(D,"click",function(I){var H=g(D,I.target||I.srcElement);if(H&&H.hintId!=null){n.changeActive(H.hintId);if(w.options.completeOnSingleClick){n.pick();}}});d.on(D,"mousedown",function(){setTimeout(function(){s.focus();},20);});d.signal(G,"select",r[0],D.firstChild);return true;}h.prototype={close:function(){if(this.completion.widget!=this){return;}this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var j=this.completion.cm;if(this.completion.options.closeOnUnfocus){j.off("blur",this.onBlur);j.off("focus",this.onFocus);}j.off("scroll",this.onScroll);},pick:function(){this.completion.pick(this.data,this.selectedHint);},changeActive:function(j,l){if(j>=this.data.list.length){j=l?this.data.list.length-1:0;}else{if(j<0){j=l?0:this.data.list.length-1;}}if(this.selectedHint==j){return;}var k=this.hints.childNodes[this.selectedHint];k.className=k.className.replace(" "+e,"");k=this.hints.childNodes[this.selectedHint=j];k.className+=" "+e;if(k.offsetTop<this.hints.scrollTop){this.hints.scrollTop=k.offsetTop-3;}else{if(k.offsetTop+k.offsetHeight>this.hints.scrollTop+this.hints.clientHeight){this.hints.scrollTop=k.offsetTop+k.offsetHeight-this.hints.clientHeight+3;}}d.signal(this.data,"select",this.data.list[this.selectedHint],k);},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1;}};d.registerHelper("hint","auto",function(j,k){var m=j.getHelpers(j.getCursor(),"hint"),o;if(m.length){for(var l=0;l<m.length;l++){var n=m[l](j,k);if(n&&n.list.length){return n;}}}else{if(o=j.getHelper(j.getCursor(),"hintWords")){if(o){return d.hint.fromList(j,{words:o});}}else{if(d.hint.anyword){return d.hint.anyword(j,k);}}}});d.registerHelper("hint","fromList",function(j,k){var p=j.getCursor(),m=j.getTokenAt(p);var n=[];for(var l=0;l<k.words.length;l++){var o=k.words[l];if(o.slice(0,m.string.length)==m.string){n.push(o);}}if(n.length){return{list:n,from:d.Pos(p.line,m.start),to:d.Pos(p.line,m.end)};}});d.commands.autocomplete=d.showHint;var b={hint:d.hint.auto,completeSingle:true,alignWithWord:true,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:true,completeOnSingleClick:false,container:null,customKeys:null,extraKeys:null};d.defineOption("hintOptions",null);});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(b){var c=b.Pos;function a(o,h){var t=h&&h.schemaInfo;var E=(h&&h.quoteChar)||'"';if(!t){return;}var g=o.getCursor(),m=o.getTokenAt(g);var F=b.innerMode(o.getMode(),m.state);if(F.mode.name!="xml"){return;}var p=[],z=false,A;var H=/\btag\b/.test(m.type),e=H&&/^\w/.test(m.string),C;if(e){var s=o.getLine(g.line).slice(Math.max(0,m.start-2),m.start);var l=/<\/$/.test(s)?"close":/<$/.test(s)?"open":null;if(l){C=m.start-(l=="close"?2:1);}}else{if(H&&m.string=="<"){l="open";}else{if(H&&m.string=="</"){l="close";}}}if(!H&&!F.state.tagName||l){if(e){A=m.string;}z=l;var f=F.state.context,u=f&&t[f.tagName];var k=f?u&&u.children:t["!top"];if(k&&l!="close"){for(var B=0;B<k.length;++B){if(!A||k[B].lastIndexOf(A,0)==0){p.push("<"+k[B]);}}}else{if(l!="close"){for(var G in t){if(t.hasOwnProperty(G)&&G!="!top"&&G!="!attrs"&&(!A||G.lastIndexOf(A,0)==0)){p.push("<"+G);}}}}if(f&&(!A||l=="close"&&f.tagName.lastIndexOf(A,0)==0)){p.push("</"+f.tagName+">");}}else{var u=t[F.state.tagName],x=u&&u.attrs;var j=t["!attrs"];if(!x&&!j){return;}if(!x){x=j;}else{if(j){var r={};for(var d in j){if(j.hasOwnProperty(d)){r[d]=j[d];}}for(var d in x){if(x.hasOwnProperty(d)){r[d]=x[d];}}x=r;}}if(m.type=="string"||m.string=="="){var s=o.getRange(c(g.line,Math.max(0,g.ch-60)),c(g.line,m.type=="string"?m.start:m.end));var v=s.match(/([^\s\u00a0=<>\"\']+)=$/),q;if(!v||!x.hasOwnProperty(v[1])||!(q=x[v[1]])){return;}if(typeof q=="function"){q=q.call(this,o);}if(m.type=="string"){A=m.string;var w=0;if(/['"]/.test(m.string.charAt(0))){E=m.string.charAt(0);A=m.string.slice(1);w++;}var D=m.string.length;if(/['"]/.test(m.string.charAt(D-1))){E=m.string.charAt(D-1);A=m.string.substr(w,D-2);}z=true;}for(var B=0;B<q.length;++B){if(!A||q[B].lastIndexOf(A,0)==0){p.push(E+q[B]+E);}}}else{if(m.type=="attribute"){A=m.string;z=true;}for(var y in x){if(x.hasOwnProperty(y)&&(!A||y.lastIndexOf(A,0)==0)){p.push(y);}}}}return{list:p,from:z?c(g.line,C==null?m.start:C):g,to:z?c(g.line,m.end):g};}b.registerHelper("hint","xml",a);});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(f){var g="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" ");var j=["_blank","_self","_top","_parent"];var a=["ascii","utf-8","utf-16","latin1","latin1"];var e=["get","post","put","delete"];var b=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];var c=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"];var m={attrs:{}};var h={a:{attrs:{href:null,ping:null,type:null,media:c,target:j,hreflang:g}},abbr:m,acronym:m,address:m,applet:m,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:c,hreflang:g,type:null,shape:["default","rect","circle","poly"]}},article:m,aside:m,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:m,base:{attrs:{href:null,target:j}},basefont:m,bdi:m,bdo:m,big:m,blockquote:{attrs:{cite:null}},body:m,br:m,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:b,formmethod:e,formnovalidate:["","novalidate"],formtarget:j,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:m,center:m,cite:m,code:m,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:m,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:m,dir:m,div:m,dl:m,dt:m,em:m,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:m,figure:m,font:m,footer:m,form:{attrs:{action:null,name:null,"accept-charset":a,autocomplete:["on","off"],enctype:b,method:e,novalidate:["","novalidate"],target:j}},frame:m,frameset:m,h1:m,h2:m,h3:m,h4:m,h5:m,h6:m,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:m,hgroup:m,hr:m,html:{attrs:{manifest:null},children:["head","body"]},i:m,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:b,formmethod:e,formnovalidate:["","novalidate"],formtarget:j,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:m,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:m,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:g,media:c,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:m,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:a,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:m,noframes:m,noscript:m,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:m,param:{attrs:{name:null,value:null}},pre:m,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:m,rt:m,ruby:m,s:m,samp:m,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:a}},section:m,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:m,source:{attrs:{src:null,type:null,media:null}},span:m,strike:m,strong:m,style:{attrs:{type:["text/css"],media:c,scoped:null}},sub:m,summary:m,sup:m,table:m,tbody:m,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:m,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:m,time:{attrs:{datetime:null}},title:m,tr:m,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:g}},tt:m,u:m,ul:m,"var":m,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:m};var d={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};function i(o){for(var n in d){if(d.hasOwnProperty(n)){o.attrs[n]=d[n];}}}i(m);for(var l in h){if(h.hasOwnProperty(l)&&h[l]!=m){i(h[l]);}}f.htmlSchema=h;function k(n,o){var q={schemaInfo:h};if(o){for(var p in o){q[p]=o[p];}}return f.hint.xml(n,q);}f.registerHelper("hint","html",k);});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../../mode/css/css"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../../mode/css/css"],a);}else{a(CodeMirror);}}})(function(a){var b={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1};a.registerHelper("hint","css",function(g){var h=g.getCursor(),e=g.getTokenAt(h);var m=a.innerMode(g.getMode(),e.state);if(m.mode.name!="css"){return;}var c=e.string,d=e.start,f=e.end;if(/[^\w$_-]/.test(c)){c="";d=f=h.ch;}var i=a.resolveMode("text/css");var l=[];function k(o){for(var n in o){if(!c||n.lastIndexOf(c,0)==0){l.push(n);}}}var j=m.state.state;if(j=="pseudo"||e.type=="variable-3"){k(b);}else{if(j=="block"||j=="maybeprop"){k(i.propertyKeywords);}else{if(j=="prop"||j=="parens"||j=="at"||j=="params"){k(i.valueKeywords);k(i.colorKeywords);}else{if(j=="media"||j=="media_parens"){k(i.mediaTypes);k(i.mediaFeatures);}}}}if(l.length){return{list:l,from:a.Pos(h.line,d),to:a.Pos(h.line,f)};}});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(d){var k=d.Pos;function g(o,q){for(var p=0,r=o.length;p<r;++p){q(o[p]);}}function e(o,q){if(!Array.prototype.indexOf){var p=o.length;while(p--){if(o[p]===q){return true;}}return false;}return o.indexOf(q)!=-1;}function h(t,s,v,p){var u=t.getCursor(),r=v(t,u),o=r;if(/\b(?:string|comment)\b/.test(r.type)){return;}r.state=d.innerMode(t.getMode(),r.state).state;if(!/^[\w$_]*$/.test(r.string)){r=o={start:u.ch,end:u.ch,string:"",state:r.state,type:r.string=="."?"property":null};}while(o.type=="property"){o=v(t,k(u.line,o.start));if(o.string!="."){return;}o=v(t,k(u.line,o.start));if(!q){var q=[];}q.push(o);}return{list:i(r,q,s,p),from:k(u.line,r.start),to:k(u.line,r.end)};}function a(p,o){return h(p,c,function(q,r){return q.getTokenAt(r);},o);}d.registerHelper("hint","javascript",a);function b(p,q){var o=p.getTokenAt(q);if(q.ch==o.start+1&&o.string.charAt(0)=="."){o.end=o.start;o.string=".";o.type="property";}else{if(/^\.[\w$_]*$/.test(o.string)){o.type="property";o.start++;o.string=o.string.replace(/\./,"");}}return o;}function j(p,o){return h(p,m,b,o);}d.registerHelper("hint","coffeescript",j);var l=("charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search").split(" ");var n=("length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ").split(" ");var f="prototype apply call bind".split(" ");var c=("break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with").split(" ");var m=("and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes").split(" ");function i(s,q,w,z){var y=[],p=s.string;function t(v){if(v.lastIndexOf(p,0)==0&&!e(y,v)){y.push(v);}}function r(A){if(typeof A=="string"){g(l,t);}else{if(A instanceof Array){g(n,t);}else{if(A instanceof Function){g(f,t);}}}for(var v in A){t(v);}}if(q&&q.length){var u=q.pop(),o;if(u.type&&u.type.indexOf("variable")===0){if(z&&z.additionalContext){o=z.additionalContext[u.string];}if(!z||z.useGlobalScope!==false){o=o||window[u.string];}}else{if(u.type=="string"){o="";}else{if(u.type=="atom"){o=1;}else{if(u.type=="function"){if(window.jQuery!=null&&(u.string=="$"||u.string=="jQuery")&&(typeof window.jQuery=="function")){o=window.jQuery();}else{if(window._!=null&&(u.string=="_")&&(typeof window._=="function")){o=window._();}}}}}}while(o!=null&&q.length){o=o[q.pop().string];}if(o!=null){r(o);}}else{for(var x=s.state.localVars;x;x=x.next){t(x.name);}for(var x=s.state.globalVars;x;x=x.next){t(x.name);}if(!z||z.useGlobalScope!==false){r(window);}g(w,t);}return y;}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../../mode/sql/sql"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../../mode/sql/sql"],a);}else{a(CodeMirror);}}})(function(d){var j;var e;var l={QUERY_DIV:";",ALIAS_KEYWORD:"AS"};var h=d.Pos;function k(n){var o=n.doc.modeOption;if(o==="sql"){o="text/x-sql";}return d.resolveMode(o).keywords;}function f(o,q){var n=o.length;var p=q.substr(0,n);return o.toUpperCase()===p.toUpperCase();}function c(n,p,q,o){for(var r in q){if(!q.hasOwnProperty(r)){continue;}if(Array.isArray(q)){r=q[r];}if(f(p,r)){n.push(o(r));}}}function a(n,r){var t=r.getCursor();var q=r.getTokenAt(t);var o=q.string.substr(1);var u=h(t.line,q.start);var s=r.getTokenAt(u).string;if(!j.hasOwnProperty(s)){s=m(s,r);}var p=j[s];if(!p){return;}c(n,o,p,function(v){return"."+v;});}function b(o,q){if(!o){return;}var n=/[,;]/g;var r=o.split(" ");for(var p=0;p<r.length;p++){q(r[p]?r[p].replace(n,""):"");}}function g(n){return n.line+n.ch/Math.pow(10,6);}function i(n){return h(Math.floor(n),+n.toString().split(".").pop());}function m(s,t){var B=t.doc;var o=B.getValue();var n=s.toUpperCase();var u="";var C="";var r=[];var A={start:h(0,0),end:h(t.lastLine(),t.getLineHandle(t.lastLine()).length)};var q=o.indexOf(l.QUERY_DIV);while(q!=-1){r.push(B.posFromIndex(q));q=o.indexOf(l.QUERY_DIV,q+1);}r.unshift(h(0,0));r.push(h(t.lastLine(),t.getLineHandle(t.lastLine()).text.length));var y=0;var v=g(t.getCursor());for(var p=0;p<r.length;p++){var z=g(r[p]);if(v>y&&v<=z){A={start:i(y),end:i(z)};break;}y=z;}var w=B.getRange(A.start,A.end,false);for(var p=0;p<w.length;p++){var x=w[p];b(x,function(E){var D=E.toUpperCase();if(D===n&&j.hasOwnProperty(u)){C=u;}if(D!==l.ALIAS_KEYWORD){u=E;}});if(C){break;}}return C;}d.registerHelper("hint","sql",function(s,p){j=(p&&p.tables)||{};e=e||k(s);var t=s.getCursor();var n=[];var r=s.getTokenAt(t),u,o,q;if(r.string.match(/^[.\w@]\w*$/)){q=r.string;u=r.start;o=r.end;}else{u=o=t.ch;q="";}if(q.charAt(0)=="."){a(n,s);if(!n.length){while(u&&q.charAt(0)=="."){r=s.getTokenAt(h(t.line,r.start-1));u=r.start;q=r.string+q;}c(n,q,j,function(v){return v;});}}else{c(n,q,j,function(v){return v;});c(n,q,e,function(v){return v.toUpperCase();});}return{list:n,from:h(t.line,u),to:h(t.line,o)};});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(c){var h="()[]{}''\"\"";var g="[]{}";var i=/\s/;var f=c.Pos;c.defineOption("autoCloseBrackets",false,function(j,o,k){if(k!=c.Init&&k){j.removeKeyMap("autoCloseBrackets");}if(!o){return;}var m=h,l=g;if(typeof o=="string"){m=o;}else{if(typeof o=="object"){if(o.pairs!=null){m=o.pairs;}if(o.explode!=null){l=o.explode;}}}var n=b(m);if(l){n.Enter=a(l);}j.addKeyMap(n);});function d(j,l){var k=j.getRange(f(l.line,l.ch-1),f(l.line,l.ch+1));return k.length==2?k:null;}function e(j,p,n){var k=j.getLine(p.line);var m=j.getTokenAt(p);if(/\bstring2?\b/.test(m.type)){return false;}var o=new c.StringStream(k.slice(0,p.ch)+n+k.slice(p.ch),4);o.pos=o.start=m.start;for(;;){var l=j.getMode().token(o,m.state);if(o.pos>=p.ch+1){return/\bstring2?\b/.test(l);}o.start=o.pos;}}function b(l){var m={name:"autoCloseBrackets",Backspace:function(n){if(n.getOption("disableInput")){return c.Pass;}var o=n.listSelections();for(var p=0;p<o.length;p++){if(!o[p].empty()){return c.Pass;}var q=d(n,o[p].head);if(!q||l.indexOf(q)%2!=0){return c.Pass;}}for(var p=o.length-1;p>=0;p--){var r=o[p].head;n.replaceRange("",f(r.line,r.ch-1),f(r.line,r.ch+1));}}};var k="";for(var j=0;j<l.length;j+=2){(function(o,n){if(o!=n){k+=n;}m["'"+o+"'"]=function(p){if(p.getOption("disableInput")){return c.Pass;}var q=p.listSelections(),v,u;for(var t=0;t<q.length;t++){var r=q[t],w=r.head,s;var u=p.getRange(w,f(w.line,w.ch+1));if(!r.empty()){s="surround";}else{if(o==n&&u==n){if(p.getRange(w,f(w.line,w.ch+3))==o+o+o){s="skipThree";}else{s="skip";}}else{if(o==n&&w.ch>1&&p.getRange(f(w.line,w.ch-2),w)==o+o&&(w.ch<=2||p.getRange(f(w.line,w.ch-3),f(w.line,w.ch-2))!=o)){s="addFour";}else{if(o=='"'||o=="'"){if(!c.isWordChar(u)&&e(p,w,o)){s="both";}else{return c.Pass;}}else{if(p.getLine(w.line).length==w.ch||k.indexOf(u)>=0||i.test(u)){s="both";}else{return c.Pass;}}}}}if(!v){v=s;}else{if(v!=s){return c.Pass;}}}p.operation(function(){if(v=="skip"){p.execCommand("goCharRight");}else{if(v=="skipThree"){for(var y=0;y<3;y++){p.execCommand("goCharRight");}}else{if(v=="surround"){var x=p.getSelections();for(var y=0;y<x.length;y++){x[y]=o+x[y]+n;}p.replaceSelections(x,"around");}else{if(v=="both"){p.replaceSelection(o+n,null);p.execCommand("goCharLeft");}else{if(v=="addFour"){p.replaceSelection(o+o+o+o,"before");p.execCommand("goCharRight");}}}}}});};if(o!=n){m["'"+n+"'"]=function(p){var q=p.listSelections();for(var s=0;s<q.length;s++){var r=q[s];if(!r.empty()||p.getRange(r.head,f(r.head.line,r.head.ch+1))!=n){return c.Pass;}}p.execCommand("goCharRight");};}})(l.charAt(j),l.charAt(j+1));}return m;}function a(j){return function(k){if(k.getOption("disableInput")){return c.Pass;}var l=k.listSelections();for(var m=0;m<l.length;m++){if(!l[m].empty()){return c.Pass;}var n=d(k,l[m].head);if(!n||j.indexOf(n)%2!=0){return c.Pass;}}k.operation(function(){k.replaceSelection("\n\n",null);k.execCommand("goCharLeft");l=k.listSelections();for(var p=0;p<l.length;p++){var o=l[p].head.line;k.indentLine(o,null,true);k.indentLine(o+1,null,true);}});};}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(e){var d=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var i=e.Pos;var a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function f(q,m,p,k){var s=q.getLineHandle(m.line),o=m.ch-1;var n=(o>=0&&a[s.text.charAt(o)]);if(!n){return null;}var l=n.charAt(1)==">"?1:-1;if(p&&(l>0)!=(o==m.ch)){return null;}var j=q.getTokenTypeAt(i(m.line,o+1));var r=g(q,i(m.line,o+(l>0?1:0)),l,j||null,k);if(r==null){return null;}return{from:i(m.line,o),to:r&&r.pos,match:r&&r.ch==n.charAt(0),forward:l>0};}function g(w,r,n,k,m){var l=(m&&m.maxScanLineLength)||10000;var t=(m&&m.maxScanLines)||1000;var v=[];var x=m&&m.bracketRegex?m.bracketRegex:/[(){}[\]]/;var q=n>0?Math.min(r.line+t,w.lastLine()+1):Math.max(w.firstLine()-1,r.line-t);for(var o=r.line;o!=q;o+=n){var y=w.getLine(o);if(!y){continue;}var u=n>0?0:y.length-1,p=n>0?y.length:-1;if(y.length>l){continue;}if(o==r.line){u=r.ch-(n<0?1:0);}for(;u!=p;u+=n){var j=y.charAt(u);if(x.test(j)&&(k===undefined||w.getTokenTypeAt(i(o,u+1))==k)){var s=a[j];if((s.charAt(1)==">")==(n>0)){v.push(j);}else{if(!v.length){return{pos:i(o,u),ch:j};}else{v.pop();}}}}}return o-n==(n>0?w.lastLine():w.firstLine())?false:null;}function b(s,n,m){var k=s.state.matchBrackets.maxHighlightLineLength||1000;var r=[],l=s.listSelections();for(var o=0;o<l.length;o++){var q=l[o].empty()&&f(s,l[o].head,false,m);if(q&&s.getLine(q.from.line).length<=k){var j=q.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";if(q.to&&s.getLine(q.to.line).length<=k){r.push(s.markText(q.to,i(q.to.line,q.to.ch+1),{className:j}));}}}if(r.length){if(d&&s.state.focused){s.display.input.focus();}var p=function(){s.operation(function(){for(var t=0;t<r.length;t++){r[t].clear();}});};if(n){setTimeout(p,800);}else{return p;}}}var c=null;function h(j){j.operation(function(){if(c){c();c=null;}c=b(j,false,j.state.matchBrackets);});}e.defineOption("matchBrackets",false,function(j,l,k){if(k&&k!=e.Init){j.off("cursorActivity",h);}if(l){j.state.matchBrackets=typeof l=="object"?l:{};j.on("cursorActivity",h);}});e.defineExtension("matchBrackets",function(){b(this,true);});e.defineExtension("findMatchingBracket",function(l,j,k){return f(this,l,j,k);});e.defineExtension("scanForBracket",function(m,k,l,j){return g(this,m,k,l,j);});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../fold/xml-fold"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../fold/xml-fold"],a);}else{a(CodeMirror);}}})(function(b){b.defineOption("autoCloseTags",false,function(h,k,i){if(i!=b.Init&&i){h.removeKeyMap("autoCloseTags");}if(!k){return;}var j={name:"autoCloseTags"};if(typeof k!="object"||k.whenClosing){j["'/'"]=function(l){return e(l);};}if(typeof k!="object"||k.whenOpening){j["'>'"]=function(l){return a(l);};}h.addKeyMap(j);});var d=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var c=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function a(w){if(w.getOption("disableInput")){return b.Pass;}var j=w.listSelections(),q=[];for(var r=0;r<j.length;r++){if(!j[r].empty()){return b.Pass;}var v=j[r].head,x=w.getTokenAt(v);var y=b.innerMode(w.getMode(),x.state),h=y.state;if(y.mode.name!="xml"||!h.tagName){return b.Pass;}var k=w.getOption("autoCloseTags"),s=y.mode.configuration=="html";var m=(typeof k=="object"&&k.dontCloseTags)||(s&&d);var u=(typeof k=="object"&&k.indentTags)||(s&&c);var p=h.tagName;if(x.end>v.ch){p=p.slice(0,p.length-x.end+v.ch);}var t=p.toLowerCase();if(!p||x.type=="string"&&(x.end!=v.ch||!/[\"\']/.test(x.string.charAt(x.string.length-1))||x.string.length==1)||x.type=="tag"&&h.type=="closeTag"||x.string.indexOf("/")==(x.string.length-1)||m&&g(m,t)>-1||f(w,p,v,h,true)){return b.Pass;}var o=u&&g(u,t)>-1;q[r]={indent:o,text:">"+(o?"\n\n":"")+"</"+p+">",newPos:o?b.Pos(v.line+1,0):b.Pos(v.line,v.ch+1)};}for(var r=j.length-1;r>=0;r--){var n=q[r];w.replaceRange(n.text,j[r].head,j[r].anchor,"+insert");var l=w.listSelections().slice(0);l[r]={head:n.newPos,anchor:n.newPos};w.setSelections(l);if(n.indent){w.indentLine(n.newPos.line,null,true);w.indentLine(n.newPos.line+1,null,true);}}}function e(h){if(h.getOption("disableInput")){return b.Pass;}var j=h.listSelections(),n=[];for(var m=0;m<j.length;m++){if(!j[m].empty()){return b.Pass;}var p=j[m].head,l=h.getTokenAt(p);var k=b.innerMode(h.getMode(),l.state),o=k.state;if(l.type=="string"||l.string.charAt(0)!="<"||l.start!=p.ch-1||k.mode.name!="xml"||!o.context||!o.context.tagName||f(h,o.context.tagName,p,o)){return b.Pass;}n[m]="/"+o.context.tagName+">";}h.replaceSelections(n);j=h.listSelections();for(var m=0;m<j.length;m++){if(m==j.length-1||j[m].head.line<j[m+1].head.line){h.indentLine(j[m].head.line);}}}function g(l,h){if(l.indexOf){return l.indexOf(h);}for(var j=0,k=l.length;j<k;++j){if(l[j]==h){return j;}}return -1;}function f(q,j,p,h,s){if(!b.scanForClosingTag){return false;}var k=Math.min(q.lastLine()+1,p.line+500);var r=b.scanForClosingTag(q,p,null,k);if(!r||r.tag!=j){return false;}var l=h.context;for(var n=s?1:0;l&&l.tagName==j;l=l.prev){++n;}p=r.to;for(var m=1;m<n;m++){var o=b.scanForClosingTag(q,p,null,k);if(!o||o.tag!=j){return false;}p=o.to;}return true;}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(a){a.defineOption("fullScreen",false,function(d,f,e){if(e==a.Init){e=false;}if(!e==!f){return;}if(f){b(d);}else{c(d);}});function b(d){var e=d.getWrapperElement();d.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:e.style.width,height:e.style.height};e.style.width="";e.style.height="auto";e.className+=" CodeMirror-fullscreen";document.documentElement.style.overflow="hidden";d.refresh();}function c(d){var e=d.getWrapperElement();e.className=e.className.replace(/\s*CodeMirror-fullscreen\b/,"");document.documentElement.style.overflow="";var f=d.state.fullScreenRestore;e.style.width=f.width;e.style.height=f.height;window.scrollTo(f.scrollLeft,f.scrollTop);d.refresh();}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(c){var g="CodeMirror-activeline";var f="CodeMirror-activeline-background";c.defineOption("styleActiveLine",false,function(h,k,i){var j=i&&i!=c.Init;if(k&&!j){h.state.activeLines=[];e(h,h.listSelections());h.on("beforeSelectionChange",b);}else{if(!k&&j){h.off("beforeSelectionChange",b);d(h);delete h.state.activeLines;}}});function d(h){for(var j=0;j<h.state.activeLines.length;j++){h.removeLineClass(h.state.activeLines[j],"wrap",g);h.removeLineClass(h.state.activeLines[j],"background",f);}}function a(j,h){if(j.length!=h.length){return false;}for(var k=0;k<j.length;k++){if(j[k]!=h[k]){return false;}}return true;}function e(h,k){var n=[];for(var m=0;m<k.length;m++){var l=k[m];if(!l.empty()){continue;}var j=h.getLineHandleVisualStart(l.head.line);if(n[n.length-1]!=j){n.push(j);}}if(a(h.state.activeLines,n)){return;}h.operation(function(){d(h);for(var o=0;o<n.length;o++){h.addLineClass(n[o],"wrap",g);h.addLineClass(n[o],"background",f);}h.state.activeLines=n;});}function b(h,i){e(h,i.ranges);}});(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(a,b){return/^[;{}]$/.test(b);}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(b,c,a,d){if(this.jsonMode){return/^[\[,{]$/.test(c)||/^}/.test(a);}else{if(c==";"&&d.lexical&&d.lexical.type==")"){return false;}return/^[;{}]$/.test(c)&&!/^;/.test(a);}}});CodeMirror.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(b,c,a){return b=="tag"&&/>$/.test(c)||/^</.test(a);}});CodeMirror.defineExtension("commentRange",function(b,e,d){var a=this,c=CodeMirror.innerMode(a.getMode(),a.getTokenAt(e).state).mode;a.operation(function(){if(b){a.replaceRange(c.commentEnd,d);a.replaceRange(c.commentStart,e);if(e.line==d.line&&e.ch==d.ch){a.setCursor(e.line,e.ch+c.commentStart.length);}}else{var h=a.getRange(e,d);var g=h.indexOf(c.commentStart);var f=h.lastIndexOf(c.commentEnd);if(g>-1&&f>-1&&f>g){h=h.substr(0,g)+h.substring(g+c.commentStart.length,f)+h.substr(f+c.commentEnd.length);}a.replaceRange(h,e,d);}});});CodeMirror.defineExtension("autoIndentRange",function(c,b){var a=this;this.operation(function(){for(var d=c.line;d<=b.line;d++){a.indentLine(d,"smart");}});});CodeMirror.defineExtension("autoFormatRange",function(h,j){var k=this;var o=k.getMode(),n=k.getRange(h,j).split("\n");var c=CodeMirror.copyState(o,k.getTokenAt(h).state);var g=k.getOption("tabSize");var e="",q=0,a=h.ch==0;function d(){e+="\n";a=true;++q;}for(var f=0;f<n.length;++f){var m=new CodeMirror.StringStream(n[f],g);while(!m.eol()){var p=CodeMirror.innerMode(o,c);var b=o.token(m,c),l=m.current();m.start=m.pos;if(!a||/\S/.test(l)){e+=l;a=false;}if(!a&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(b,l,m.string.slice(m.pos)||n[f+1]||"",p.state)){d();}}if(!m.pos&&o.blankLine){o.blankLine(c);}if(!a){d();}}k.operation(function(){k.replaceRange(e,h,j);for(var r=h.line+1,i=h.line+q;r<=i;++r){k.indentLine(r,"smart");}k.setSelection(h,k.getCursor(false));});});})();(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(a){a.registerHelper("fold","brace",function(m,h){var o=h.line,g=m.getLine(o);var n,t;function d(u){for(var i=h.ch,v=0;;){var w=i<=0?-1:g.lastIndexOf(u,i-1);if(w==-1){if(v==1){break;}v=1;i=g.length;continue;}if(v==1&&w<h.ch){break;}t=m.getTokenTypeAt(a.Pos(o,w+1));if(!/^(comment|string)/.test(t)){return w+1;}i=w-1;}}var j="{",e="}",n=d("{");if(n==null){j="[",e="]";n=d("[");}if(n==null){return;}var l=1,c=m.lastLine(),f,q;outer:for(var s=o;s<=c;++s){var p=m.getLine(s),k=s==o?n:0;for(;;){var b=p.indexOf(j,k),r=p.indexOf(e,k);if(b<0){b=p.length;}if(r<0){r=p.length;}k=Math.min(b,r);if(k==p.length){break;}if(m.getTokenTypeAt(a.Pos(s,k+1))==t){if(k==b){++l;}else{if(!--l){f=s;q=k;break outer;}}}++k;}}if(f==null||o==f&&q==n){return;}return{from:a.Pos(o,n),to:a.Pos(f,q)};});a.registerHelper("fold","import",function(b,h){function g(k){if(k<b.firstLine()||k>b.lastLine()){return null;}var o=b.getTokenAt(a.Pos(k,1));if(!/\S/.test(o.string)){o=b.getTokenAt(a.Pos(k,o.end+1));}if(o.type!="keyword"||o.string!="import"){return null;}for(var l=k,m=Math.min(b.lastLine(),k+10);l<=m;++l){var n=b.getLine(l),j=n.indexOf(";");if(j!=-1){return{startCh:o.end,end:a.Pos(l,j)};}}}var h=h.line,d=g(h),f;if(!d||g(h-1)||((f=g(h-2))&&f.end.line==h-1)){return null;}for(var c=d.end;;){var e=g(c.line+1);if(e==null){break;}c=e.end;}return{from:b.clipPos(a.Pos(h,d.startCh+1)),to:c};});a.registerHelper("fold","include",function(b,g){function f(h){if(h<b.firstLine()||h>b.lastLine()){return null;}var i=b.getTokenAt(a.Pos(h,1));if(!/\S/.test(i.string)){i=b.getTokenAt(a.Pos(h,i.end+1));}if(i.type=="meta"&&i.string.slice(0,8)=="#include"){return i.start+8;}}var g=g.line,d=f(g);if(d==null||f(g-1)!=null){return null;}for(var c=g;;){var e=f(c+1);if(e==null){break;}++c;}return{from:a.Pos(g,d+1),to:b.clipPos(a.Pos(c))};});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(a){a.registerGlobalHelper("fold","comment",function(b){return b.blockCommentStart&&b.blockCommentEnd;},function(l,h){var q=l.getModeAt(h),j=q.blockCommentStart,e=q.blockCommentEnd;if(!j||!e){return;}var n=h.line,g=l.getLine(n);var m;for(var r=h.ch,c=0;;){var o=r<=0?-1:g.lastIndexOf(j,r-1);if(o==-1){if(c==1){return;}c=1;r=g.length;continue;}if(c==1&&o<h.ch){return;}if(/comment/.test(l.getTokenTypeAt(a.Pos(n,o+1)))){m=o+j.length;break;}r=o-1;}var v=1,d=l.lastLine(),f,s;outer:for(var u=n;u<=d;++u){var p=l.getLine(u),k=u==n?m:0;for(;;){var b=p.indexOf(j,k),t=p.indexOf(e,k);if(b<0){b=p.length;}if(t<0){t=p.length;}k=Math.min(b,t);if(k==p.length){break;}if(k==b){++v;}else{if(!--v){f=u;s=k;break outer;}}++k;}}if(f==null||n==f&&s==m){return;}return{from:a.Pos(n,m),to:a.Pos(f,s)};});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(b){function d(n,m,o,i){if(o&&o.call){var g=o;o=null;}else{var g=c(n,o,"rangeFinder");}if(typeof m=="number"){m=b.Pos(m,0);}var h=c(n,o,"minFoldSize");function f(p){var q=g(n,m);if(!q||q.to.line-q.from.line<h){return null;}var s=n.findMarksAt(q.from);for(var r=0;r<s.length;++r){if(s[r].__isFold&&i!=="fold"){if(!p){return null;}q.cleared=true;s[r].clear();}}return q;}var k=f(true);if(c(n,o,"scanUp")){while(!k&&m.line>n.firstLine()){m=b.Pos(m.line-1,0);k=f(false);}}if(!k||k.cleared||i==="unfold"){return;}var l=e(n,o);b.on(l,"mousedown",function(p){j.clear();b.e_preventDefault(p);});var j=n.markText(k.from,k.to,{replacedWith:l,clearOnEnter:true,__isFold:true});j.on("clear",function(q,p){b.signal(n,"unfold",n,q,p);});b.signal(n,"fold",n,k.from,k.to);}function e(f,g){var h=c(f,g,"widget");if(typeof h=="string"){var i=document.createTextNode(h);h=document.createElement("span");h.appendChild(i);h.className="CodeMirror-foldmarker";}return h;}b.newFoldFunction=function(g,f){return function(h,i){d(h,i,{rangeFinder:g,widget:f});};};b.defineExtension("foldCode",function(h,f,g){d(this,h,f,g);});b.defineExtension("isFolded",function(h){var g=this.findMarksAt(h);for(var f=0;f<g.length;++f){if(g[f].__isFold){return true;}}});b.commands.toggleFold=function(f){f.foldCode(f.getCursor());};b.commands.fold=function(f){f.foldCode(f.getCursor(),null,"fold");};b.commands.unfold=function(f){f.foldCode(f.getCursor(),null,"unfold");};b.commands.foldAll=function(f){f.operation(function(){for(var g=f.firstLine(),h=f.lastLine();g<=h;g++){f.foldCode(b.Pos(g,0),null,"fold");}});};b.commands.unfoldAll=function(f){f.operation(function(){for(var g=f.firstLine(),h=f.lastLine();g<=h;g++){f.foldCode(b.Pos(g,0),null,"unfold");}});};b.registerHelper("fold","combine",function(){var f=Array.prototype.slice.call(arguments,0);return function(g,k){for(var h=0;h<f.length;++h){var j=f[h](g,k);if(j){return j;}}};});b.registerHelper("fold","auto",function(f,k){var h=f.getHelpers(k,"fold");for(var g=0;g<h.length;g++){var j=h[g](f,k);if(j){return j;}}});var a={rangeFinder:b.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:false};b.defineOption("foldOptions",null);function c(f,h,g){if(h&&h[g]!==undefined){return h[g];}var i=f.options.foldOptions;if(i&&i[g]!==undefined){return i[g];}return a[g];}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("./foldcode"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","./foldcode"],a);}else{a(CodeMirror);}}})(function(d){d.defineOption("foldGutter",false,function(m,o,n){if(n&&n!=d.Init){m.clearGutter(m.state.foldGutter.options.gutter);m.state.foldGutter=null;m.off("gutterClick",k);m.off("change",g);m.off("viewportChange",l);m.off("fold",e);m.off("unfold",e);m.off("swapDoc",b);}if(o){m.state.foldGutter=new j(i(o));b(m);m.on("gutterClick",k);m.on("change",g);m.on("viewportChange",l);m.on("fold",e);m.on("unfold",e);m.on("swapDoc",b);}});var h=d.Pos;function j(m){this.options=m;this.from=this.to=0;}function i(m){if(m===true){m={};}if(m.gutter==null){m.gutter="CodeMirror-foldgutter";}if(m.indicatorOpen==null){m.indicatorOpen="CodeMirror-foldgutter-open";}if(m.indicatorFolded==null){m.indicatorFolded="CodeMirror-foldgutter-folded";}return m;}function c(m,n){var p=m.findMarksAt(h(n));for(var o=0;o<p.length;++o){if(p[o].__isFold&&p[o].find().from.line==n){return true;}}}function f(m){if(typeof m=="string"){var n=document.createElement("div");n.className=m+" CodeMirror-guttermarker-subtle";return n;}else{return m.cloneNode(true);}}function a(m,q,p){var n=m.state.foldGutter.options,o=q;m.eachLine(q,p,function(r){var v=null;if(c(m,o)){v=f(n.indicatorFolded);}else{var u=h(o,0),t=n.rangeFinder||d.fold.auto;var s=t&&t(m,u);if(s&&s.from.line+1<s.to.line){v=f(n.indicatorOpen);}}m.setGutterMarker(r,n.gutter,v);++o;});}function b(m){var n=m.getViewport(),o=m.state.foldGutter;if(!o){return;}m.operation(function(){a(m,n.from,n.to);});o.from=n.from;o.to=n.to;}function k(m,n,p){var o=m.state.foldGutter.options;if(p!=o.gutter){return;}m.foldCode(h(n,0),o.rangeFinder);}function g(m){var o=m.state.foldGutter,n=m.state.foldGutter.options;o.from=o.to=0;clearTimeout(o.changeUpdate);o.changeUpdate=setTimeout(function(){b(m);},n.foldOnChangeTimeSpan||600);}function l(m){var o=m.state.foldGutter,n=m.state.foldGutter.options;clearTimeout(o.changeUpdate);o.changeUpdate=setTimeout(function(){var p=m.getViewport();if(o.from==o.to||p.from-o.to>20||o.from-p.to>20){b(m);}else{m.operation(function(){if(p.from<o.from){a(m,p.from,o.from);o.from=p.from;}if(p.to>o.to){a(m,o.to,p.to);o.to=p.to;}});}},n.updateViewportTimeSpan||400);}function e(m,p){var o=m.state.foldGutter,n=p.line;if(n>=o.from&&n<o.to){a(m,n,n+1);}}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(a){a.registerHelper("fold","indent",function(l,c){var g=l.getOption("tabSize"),k=l.getLine(c.line);if(!/\S/.test(k)){return;}var j=function(i){return a.countColumn(i,null,g);};var f=j(k);var h=null;for(var e=c.line+1,d=l.lastLine();e<=d;++e){var b=l.getLine(e);var m=j(b);if(m>f){h=e;}else{if(!/\S/.test(b)){}else{break;}}}if(h){return{from:a.Pos(c.line,k.length),to:a.Pos(h,l.getLine(h).length)};}});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(a){a.registerHelper("fold","markdown",function(j,e){var f=100;function c(n){var m=j.getTokenTypeAt(a.Pos(n,0));return m&&/\bheader\b/.test(m);}function k(p,m,o){var n=m&&m.match(/^#+/);if(n&&c(p)){return n[0].length;}n=o&&o.match(/^[=\-]+\s*$/);if(n&&c(p+1)){return o[0]=="="?1:2;}return f;}var i=j.getLine(e.line),d=j.getLine(e.line+1);var b=k(e.line,i,d);if(b===f){return undefined;}var l=j.lastLine();var g=e.line,h=j.getLine(g+2);while(g<l){if(k(g+1,d,h)<=b){break;}++g;d=h;h=j.getLine(g+2);}return{from:a.Pos(e.line,i.length),to:a.Pos(g,j.getLine(g).length)};});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(i){var m=i.Pos;function l(r,q){return r.line-q.line||r.ch-q.ch;}var j="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var o=j+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";var d=new RegExp("<(/?)(["+j+"]["+o+"]*)","g");function b(q,r,t,s){this.line=r;this.ch=t;this.cm=q;this.text=q.getLine(r);this.min=s?s.from:q.firstLine();this.max=s?s.to-1:q.lastLine();}function h(q,s){var r=q.cm.getTokenTypeAt(m(q.line,s));return r&&/\btag\b/.test(r);}function a(q){if(q.line>=q.max){return;}q.ch=0;q.text=q.cm.getLine(++q.line);return true;}function n(q){if(q.line<=q.min){return;}q.text=q.cm.getLine(--q.line);q.ch=q.text.length;return true;}function g(s){for(;;){var r=s.text.indexOf(">",s.ch);if(r==-1){if(a(s)){continue;}else{return;}}if(!h(s,r+1)){s.ch=r+1;continue;}var q=s.text.lastIndexOf("/",r);var t=q>-1&&!/\S/.test(s.text.slice(q+1,r));s.ch=r+1;return t?"selfClose":"regular";}}function k(r){for(;;){var q=r.ch?r.text.lastIndexOf("<",r.ch-1):-1;if(q==-1){if(n(r)){continue;}else{return;}}if(!h(r,q+1)){r.ch=q;continue;}d.lastIndex=q;r.ch=q;var s=d.exec(r.text);if(s&&s.index==q){return s;}}}function p(q){for(;;){d.lastIndex=q.ch;var r=d.exec(q.text);if(!r){if(a(q)){continue;}else{return;}}if(!h(q,r.index+1)){q.ch=r.index+1;continue;}q.ch=r.index+r[0].length;return r;}}function e(s){for(;;){var r=s.ch?s.text.lastIndexOf(">",s.ch-1):-1;if(r==-1){if(n(s)){continue;}else{return;}}if(!h(s,r+1)){s.ch=r;continue;}var q=s.text.lastIndexOf("/",r);var t=q>-1&&!/\S/.test(s.text.slice(q+1,r));s.ch=r+1;return t?"selfClose":"regular";}}function f(t,r){var q=[];for(;;){var v=p(t),s,x=t.line,w=t.ch-(v?v[0].length:0);if(!v||!(s=g(t))){return;}if(s=="selfClose"){continue;}if(v[1]){for(var u=q.length-1;u>=0;--u){if(q[u]==v[2]){q.length=u;break;}}if(u<0&&(!r||r==v[2])){return{tag:v[2],from:m(x,w),to:m(t.line,t.ch)};}}else{q.push(v[2]);}}}function c(s,r){var q=[];for(;;){var w=e(s);if(!w){return;}if(w=="selfClose"){k(s);continue;}var v=s.line,u=s.ch;var x=k(s);if(!x){return;}if(x[1]){q.push(x[2]);}else{for(var t=q.length-1;t>=0;--t){if(q[t]==x[2]){q.length=t;break;}}if(t<0&&(!r||r==x[2])){return{tag:x[2],from:m(s.line,s.ch),to:m(v,u)};}}}}i.registerHelper("fold","xml",function(q,v){var s=new b(q,v.line,0);for(;;){var t=p(s),r;if(!t||s.line!=v.line||!(r=g(s))){return;}if(!t[1]&&r!="selfClose"){var v=m(s.line,s.ch);var u=f(s,t[2]);return u&&{from:v,to:u.from};}}});i.findMatchingTag=function(q,x,t){var s=new b(q,x.line,x.ch,t);if(s.text.indexOf(">")==-1&&s.text.indexOf("<")==-1){return;}var r=g(s),w=r&&m(s.line,s.ch);var v=r&&k(s);if(!r||!v||l(s,x)>0){return;}var u={from:m(s.line,s.ch),to:w,tag:v[2]};if(r=="selfClose"){return{open:u,close:null,at:"open"};}if(v[1]){return{open:c(s,v[2]),close:u,at:"close"};}else{s=new b(q,w.line,w.ch,t);return{open:u,close:f(s,v[2]),at:"open"};}};i.findEnclosingTag=function(q,w,s){var r=new b(q,w.line,w.ch,s);for(;;){var u=c(r);if(!u){break;}var t=new b(q,w.line,w.ch,s);var v=f(t,u.tag);if(v){return{open:u,close:v};}}};i.scanForClosingTag=function(q,u,t,s){var r=new b(q,u.line,u.ch,s?{from:0,to:s}:null);return f(r,t);};});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(a){a.defineMode("xml",function(y,k){var p=y.indentUnit;var x=k.multilineTagIndentFactor||1;var d=k.multilineTagIndentPastTag;if(d==null){d=true;}var w=k.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,caseFold:false};var c=k.alignCDATA;var f,g;function n(F,E){function C(G){E.tokenize=G;return G(F,E);}var D=F.next();if(D=="<"){if(F.eat("!")){if(F.eat("[")){if(F.match("CDATA[")){return C(v("atom","]]>"));}else{return null;}}else{if(F.match("--")){return C(v("comment","-->"));}else{if(F.match("DOCTYPE",true,true)){F.eatWhile(/[\w\._\-]/);return C(z(1));}else{return null;}}}}else{if(F.eat("?")){F.eatWhile(/[\w\._\-]/);E.tokenize=v("meta","?>");return"meta";}else{f=F.eat("/")?"closeTag":"openTag";E.tokenize=m;return"tag bracket";}}}else{if(D=="&"){var B;if(F.eat("#")){if(F.eat("x")){B=F.eatWhile(/[a-fA-F\d]/)&&F.eat(";");}else{B=F.eatWhile(/[\d]/)&&F.eat(";");}}else{B=F.eatWhile(/[\w\.\-:]/)&&F.eat(";");}return B?"atom":"error";}else{F.eatWhile(/[^&<]/);return null;}}}function m(E,D){var C=E.next();if(C==">"||(C=="/"&&E.eat(">"))){D.tokenize=n;f=C==">"?"endTag":"selfcloseTag";return"tag bracket";}else{if(C=="="){f="equals";return null;}else{if(C=="<"){D.tokenize=n;D.state=l;D.tagName=D.tagStart=null;var B=D.tokenize(E,D);return B?B+" tag error":"tag error";}else{if(/[\'\"]/.test(C)){D.tokenize=j(C);D.stringStartCol=E.column();return D.tokenize(E,D);}else{E.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word";}}}}}function j(B){var C=function(E,D){while(!E.eol()){if(E.next()==B){D.tokenize=m;break;}}return"string";};C.isInAttribute=true;return C;}function v(C,B){return function(E,D){while(!E.eol()){if(E.match(B)){D.tokenize=n;break;}E.next();}return C;};}function z(B){return function(E,D){var C;while((C=E.next())!=null){if(C=="<"){D.tokenize=z(B+1);return D.tokenize(E,D);}else{if(C==">"){if(B==1){D.tokenize=n;break;}else{D.tokenize=z(B-1);return D.tokenize(E,D);}}}}return"meta";};}function r(C,B,D){this.prev=C.context;this.tagName=B;this.indent=C.indented;this.startOfLine=D;if(w.doNotIndent.hasOwnProperty(B)||(C.context&&C.context.noIndent)){this.noIndent=true;}}function u(B){if(B.context){B.context=B.context.prev;}}function q(D,C){var B;while(true){if(!D.context){return;}B=D.context.tagName;if(!w.contextGrabbers.hasOwnProperty(B)||!w.contextGrabbers[B].hasOwnProperty(C)){return;}u(D);}}function l(B,D,C){if(B=="openTag"){C.tagStart=D.column();return b;}else{if(B=="closeTag"){return t;}else{return l;}}}function b(B,D,C){if(B=="word"){C.tagName=D.current();g="tag";return e;}else{g="error";return b;}}function t(C,E,D){if(C=="word"){var B=E.current();if(D.context&&D.context.tagName!=B&&w.implicitlyClosed.hasOwnProperty(D.context.tagName)){u(D);}if(D.context&&D.context.tagName==B){g="tag";return s;}else{g="tag error";return A;}}else{g="error";return A;}}function s(C,B,D){if(C!="endTag"){g="error";return s;}u(D);return l;}function A(B,D,C){g="error";return s(B,D,C);}function e(E,C,F){if(E=="word"){g="attribute";return i;}else{if(E=="endTag"||E=="selfcloseTag"){var D=F.tagName,B=F.tagStart;F.tagName=F.tagStart=null;if(E=="selfcloseTag"||w.autoSelfClosers.hasOwnProperty(D)){q(F,D);}else{q(F,D);F.context=new r(F,D,B==F.indented);}return l;}}g="error";return e;}function i(B,D,C){if(B=="equals"){return o;}if(!w.allowMissing){g="error";}return e(B,D,C);}function o(B,D,C){if(B=="string"){return h;}if(B=="word"&&w.allowUnquoted){g="string";return e;}g="error";return e(B,D,C);}function h(B,D,C){if(B=="string"){return h;}return e(B,D,C);}return{startState:function(){return{tokenize:n,state:l,indented:0,tagName:null,tagStart:null,context:null};},token:function(D,C){if(!C.tagName&&D.sol()){C.indented=D.indentation();}if(D.eatSpace()){return null;}f=null;var B=C.tokenize(D,C);if((B||f)&&B!="comment"){g=null;C.state=C.state(f||B,D,C);if(g){B=g=="error"?B+" error":g;}}return B;},indent:function(G,C,F){var E=G.context;if(G.tokenize.isInAttribute){if(G.tagStart==G.indented){return G.stringStartCol+1;}else{return G.indented+p;}}if(E&&E.noIndent){return a.Pass;}if(G.tokenize!=m&&G.tokenize!=n){return F?F.match(/^(\s*)/)[0].length:0;}if(G.tagName){if(d){return G.tagStart+G.tagName.length+2;}else{return G.tagStart+p*x;}}if(c&&/<!\[CDATA\[/.test(C)){return 0;}var B=C&&/^<(\/)?([\w_:\.-]*)/.exec(C);if(B&&B[1]){while(E){if(E.tagName==B[2]){E=E.prev;break;}else{if(w.implicitlyClosed.hasOwnProperty(E.tagName)){E=E.prev;}else{break;}}}}else{if(B){while(E){var D=w.contextGrabbers[E.tagName];if(D&&D.hasOwnProperty(B[2])){E=E.prev;}else{break;}}}}while(E&&!E.startOfLine){E=E.prev;}if(E){return E.indent+p;}else{return 0;}},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml"};});a.defineMIME("text/xml","xml");a.defineMIME("application/xml","xml");if(!a.mimeModes.hasOwnProperty("text/html")){a.defineMIME("text/html",{name:"xml",htmlMode:true});}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(n){n.defineMode("css",function(O,C){if(!C.propertyKeywords){C=n.resolveMode("text/css");}var I=O.indentUnit,u=C.tokenHooks,N=C.mediaTypes||{},E=C.mediaFeatures||{},B=C.propertyKeywords||{},v=C.nonStandardPropertyKeywords||{},H=C.colorKeywords||{},K=C.valueKeywords||{},x=C.fontProperties||{},F=C.allowNested;var w,G;function P(S,T){w=T;return S;}function R(V,U){var T=V.next();if(u[T]){var S=u[T](V,U);if(S!==false){return S;}}if(T=="@"){V.eatWhile(/[\w\\\-]/);return P("def",V.current());}else{if(T=="="||(T=="~"||T=="|")&&V.eat("=")){return P(null,"compare");}else{if(T=='"'||T=="'"){U.tokenize=D(T);return U.tokenize(V,U);}else{if(T=="#"){V.eatWhile(/[\w\\\-]/);return P("atom","hash");}else{if(T=="!"){V.match(/^\s*\w*/);return P("keyword","important");}else{if(/\d/.test(T)||T=="."&&V.eat(/\d/)){V.eatWhile(/[\w.%]/);return P("number","unit");}else{if(T==="-"){if(/[\d.]/.test(V.peek())){V.eatWhile(/[\w.%]/);return P("number","unit");}else{if(V.match(/^\w+-/)){return P("meta","meta");}}}else{if(/[,+>*\/]/.test(T)){return P(null,"select-op");}else{if(T=="."&&V.match(/^-?[_a-z][_a-z0-9-]*/i)){return P("qualifier","qualifier");}else{if(/[:;{}\[\]\(\)]/.test(T)){return P(null,T);}else{if(T=="u"&&V.match("rl(")){V.backUp(1);U.tokenize=Q;return P("property","word");}else{if(/[\w\\\-]/.test(T)){V.eatWhile(/[\w\\\-]/);return P("property","word");}else{return P(null,null);}}}}}}}}}}}}}function D(S){return function(W,U){var V=false,T;while((T=W.next())!=null){if(T==S&&!V){if(S==")"){W.backUp(1);}break;}V=!V&&T=="\\";}if(T==S||!V&&S!=")"){U.tokenize=null;}return P("string","string");};}function Q(T,S){T.next();if(!T.match(/\s*[\"\')]/,false)){S.tokenize=D(")");}else{S.tokenize=null;}return P(null,"(");}function J(T,S,U){this.type=T;this.indent=S;this.prev=U;}function z(T,U,S){T.context=new J(S,U.indentation()+I,T.context);return S;}function L(S){S.context=S.context.prev;return S.context.type;}function t(S,U,T){return y[T.context.type](S,U,T);}function M(T,V,U,W){for(var S=W||1;S>0;S--){U.context=U.context.prev;}return t(T,V,U);}function A(T){var S=T.current().toLowerCase();if(K.hasOwnProperty(S)){G="atom";}else{if(H.hasOwnProperty(S)){G="keyword";}else{G="variable";}}}var y={};y.top=function(S,U,T){if(S=="{"){return z(T,U,"block");}else{if(S=="}"&&T.context.prev){return L(T);}else{if(S=="@media"){return z(T,U,"media");}else{if(S=="@font-face"){return"font_face_before";}else{if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(S)){return"keyframes";}else{if(S&&S.charAt(0)=="@"){return z(T,U,"at");}else{if(S=="hash"){G="builtin";}else{if(S=="word"){G="tag";}else{if(S=="variable-definition"){return"maybeprop";}else{if(S=="interpolation"){return z(T,U,"interpolation");}else{if(S==":"){return"pseudo";}else{if(F&&S=="("){return z(T,U,"parens");}}}}}}}}}}}}return T.context.type;};y.block=function(S,V,T){if(S=="word"){var U=V.current().toLowerCase();if(B.hasOwnProperty(U)){G="property";return"maybeprop";}else{if(v.hasOwnProperty(U)){G="string-2";return"maybeprop";}else{if(F){G=V.match(/^\s*:/,false)?"property":"tag";return"block";}else{G+=" error";return"maybeprop";}}}}else{if(S=="meta"){return"block";}else{if(!F&&(S=="hash"||S=="qualifier")){G="error";return"block";}else{return y.top(S,V,T);}}}};y.maybeprop=function(S,U,T){if(S==":"){return z(T,U,"prop");}return t(S,U,T);};y.prop=function(S,U,T){if(S==";"){return L(T);}if(S=="{"&&F){return z(T,U,"propBlock");}if(S=="}"||S=="{"){return M(S,U,T);}if(S=="("){return z(T,U,"parens");}if(S=="hash"&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(U.current())){G+=" error";}else{if(S=="word"){A(U);}else{if(S=="interpolation"){return z(T,U,"interpolation");}}}return"prop";};y.propBlock=function(T,S,U){if(T=="}"){return L(U);}if(T=="word"){G="property";return"maybeprop";}return U.context.type;};y.parens=function(S,U,T){if(S=="{"||S=="}"){return M(S,U,T);}if(S==")"){return L(T);}if(S=="("){return z(T,U,"parens");}if(S=="word"){A(U);}return"parens";};y.pseudo=function(S,U,T){if(S=="word"){G="variable-3";return T.context.type;}return t(S,U,T);};y.media=function(S,V,T){if(S=="("){return z(T,V,"media_parens");}if(S=="}"){return M(S,V,T);}if(S=="{"){return L(T)&&z(T,V,F?"block":"top");}if(S=="word"){var U=V.current().toLowerCase();if(U=="only"||U=="not"||U=="and"){G="keyword";}else{if(N.hasOwnProperty(U)){G="attribute";}else{if(E.hasOwnProperty(U)){G="property";}else{G="error";}}}}return T.context.type;};y.media_parens=function(S,U,T){if(S==")"){return L(T);}if(S=="{"||S=="}"){return M(S,U,T,2);}return y.media(S,U,T);};y.font_face_before=function(S,U,T){if(S=="{"){return z(T,U,"font_face");}return t(S,U,T);};y.font_face=function(S,U,T){if(S=="}"){return L(T);}if(S=="word"){if(!x.hasOwnProperty(U.current().toLowerCase())){G="error";}else{G="property";}return"maybeprop";}return"font_face";};y.keyframes=function(S,U,T){if(S=="word"){G="variable";return"keyframes";}if(S=="{"){return z(T,U,"top");}return t(S,U,T);};y.at=function(S,U,T){if(S==";"){return L(T);}if(S=="{"||S=="}"){return M(S,U,T);}if(S=="word"){G="tag";}else{if(S=="hash"){G="builtin";}}return"at";};y.interpolation=function(S,U,T){if(S=="}"){return L(T);}if(S=="{"||S==";"){return M(S,U,T);}if(S!="variable"){G="error";}return"interpolation";};return{startState:function(S){return{tokenize:null,state:"top",context:new J("top",S||0,null)};},token:function(U,T){if(!T.tokenize&&U.eatSpace()){return null;}var S=(T.tokenize||R)(U,T);if(S&&typeof S=="object"){w=S[1];S=S[0];}G=S;T.state=y[T.state](w,U,T);return G;},indent:function(W,U){var T=W.context,V=U&&U.charAt(0);var S=T.indent;if(T.type=="prop"&&(V=="}"||V==")")){T=T.prev;}if(T.prev&&(V=="}"&&(T.type=="block"||T.type=="top"||T.type=="interpolation"||T.type=="font_face")||V==")"&&(T.type=="parens"||T.type=="media_parens")||V=="{"&&(T.type=="at"||T.type=="media"))){S=T.indent-I;T=T.prev;}return S;},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"};});function f(v){var u={};for(var t=0;t<v.length;++t){u[v[t]]=true;}return u;}var a=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],q=f(a);var s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],i=f(s);var c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=f(c);var l=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=f(l);var b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],k=f(b);var j=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],o=f(j);var p=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],e=f(p);var m=a.concat(s).concat(c).concat(l).concat(b).concat(j);n.registerHelper("hintWords","css",m);function r(w,v){var t=false,u;while((u=w.next())!=null){if(t&&u=="/"){v.tokenize=null;break;}t=(u=="*");}return["comment","comment"];}function g(u,t){if(u.skipTo("-->")){u.match("-->");t.tokenize=null;}else{u.skipToEnd();}return["comment","comment"];}n.defineMIME("text/css",{mediaTypes:q,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:o,fontProperties:e,tokenHooks:{"<":function(u,t){if(!u.match("!--")){return false;}t.tokenize=g;return g(u,t);},"/":function(u,t){if(!u.eat("*")){return false;}t.tokenize=r;return r(u,t);}},name:"css"});n.defineMIME("text/x-scss",{mediaTypes:q,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:o,fontProperties:e,allowNested:true,tokenHooks:{"/":function(u,t){if(u.eat("/")){u.skipToEnd();return["comment","comment"];}else{if(u.eat("*")){t.tokenize=r;return r(u,t);}else{return["operator","operator"];}}},":":function(t){if(t.match(/\s*\{/)){return[null,"{"];}return false;},"$":function(t){t.match(/^[\w-]+/);if(t.match(/^\s*:/,false)){return["variable-2","variable-definition"];}return["variable-2","variable"];},"#":function(t){if(!t.eat("{")){return false;}return[null,"interpolation"];}},name:"css",helperType:"scss"});n.defineMIME("text/x-less",{mediaTypes:q,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:o,fontProperties:e,allowNested:true,tokenHooks:{"/":function(u,t){if(u.eat("/")){u.skipToEnd();return["comment","comment"];}else{if(u.eat("*")){t.tokenize=r;return r(u,t);}else{return["operator","operator"];}}},"@":function(t){if(t.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,false)){return false;}t.eatWhile(/[\w\\\-]/);if(t.match(/^\s*:/,false)){return["variable-2","variable-definition"];}return["variable-2","variable"];},"&":function(){return["atom","atom"];}},name:"css",helperType:"less"});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a);}else{a(CodeMirror);}}})(function(a){a.defineMode("javascript",function(Y,ai){var k=Y.indentUnit;var z=ai.statementIndent;var ay=ai.jsonld;var y=ai.json||ay;var g=ai.typescript;var ar=ai.wordCharacters||/[\w$]/;var ap=function(){function aO(aQ){return{type:aQ,style:"keyword"};}var aJ=aO("keyword a"),aH=aO("keyword b"),aG=aO("keyword c");var aI=aO("operator"),aM={type:"atom",style:"atom"};var aK={"if":aO("if"),"while":aJ,"with":aJ,"else":aH,"do":aH,"try":aH,"finally":aH,"return":aG,"break":aG,"continue":aG,"new":aG,"delete":aG,"throw":aG,"debugger":aG,"var":aO("var"),"const":aO("var"),let:aO("var"),"function":aO("function"),"catch":aO("catch"),"for":aO("for"),"switch":aO("switch"),"case":aO("case"),"default":aO("default"),"in":aI,"typeof":aI,"instanceof":aI,"true":aM,"false":aM,"null":aM,"undefined":aM,"NaN":aM,"Infinity":aM,"this":aO("this"),module:aO("module"),"class":aO("class"),"super":aO("atom"),yield:aG,"export":aO("export"),"import":aO("import"),"extends":aG};if(g){var aP={type:"variable",style:"variable-3"};var aL={"interface":aO("interface"),"extends":aO("extends"),constructor:aO("constructor"),"public":aO("public"),"private":aO("private"),"protected":aO("protected"),"static":aO("static"),string:aP,number:aP,bool:aP,any:aP};for(var aN in aL){aK[aN]=aL[aN];}}return aK;}();var O=/[+\-*&%=<>!?|~^]/;var ao=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function E(aJ){var aH=false,aG,aI=false;while((aG=aJ.next())!=null){if(!aH){if(aG=="/"&&!aI){return;}if(aG=="["){aI=true;}else{if(aI&&aG=="]"){aI=false;}}}aH=!aH&&aG=="\\";}}var R,F;function K(aI,aH,aG){R=aI;F=aG;return aH;}function T(aK,aI){var aG=aK.next();if(aG=='"'||aG=="'"){aI.tokenize=Q(aG);return aI.tokenize(aK,aI);}else{if(aG=="."&&aK.match(/^\d+(?:[eE][+\-]?\d+)?/)){return K("number","number");}else{if(aG=="."&&aK.match("..")){return K("spread","meta");}else{if(/[\[\]{}\(\),;\:\.]/.test(aG)){return K(aG);}else{if(aG=="="&&aK.eat(">")){return K("=>","operator");}else{if(aG=="0"&&aK.eat(/x/i)){aK.eatWhile(/[\da-f]/i);return K("number","number");}else{if(/\d/.test(aG)){aK.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return K("number","number");}else{if(aG=="/"){if(aK.eat("*")){aI.tokenize=ax;return ax(aK,aI);}else{if(aK.eat("/")){aK.skipToEnd();return K("comment","comment");}else{if(aI.lastType=="operator"||aI.lastType=="keyword c"||aI.lastType=="sof"||/^[\[{}\(,;:]$/.test(aI.lastType)){E(aK);aK.eatWhile(/[gimy]/);return K("regexp","string-2");}else{aK.eatWhile(O);return K("operator","operator",aK.current());}}}}else{if(aG=="`"){aI.tokenize=az;return az(aK,aI);}else{if(aG=="#"){aK.skipToEnd();return K("error","error");}else{if(O.test(aG)){aK.eatWhile(O);return K("operator","operator",aK.current());}else{if(ar.test(aG)){aK.eatWhile(ar);var aJ=aK.current(),aH=ap.propertyIsEnumerable(aJ)&&ap[aJ];return(aH&&aI.lastType!=".")?K(aH.type,aH.style,aJ):K("variable","variable",aJ);}}}}}}}}}}}}}function Q(aG){return function(aK,aI){var aJ=false,aH;if(ay&&aK.peek()=="@"&&aK.match(ao)){aI.tokenize=T;return K("jsonld-keyword","meta");}while((aH=aK.next())!=null){if(aH==aG&&!aJ){break;}aJ=!aJ&&aH=="\\";}if(!aJ){aI.tokenize=T;}return K("string","string");};}function ax(aJ,aI){var aG=false,aH;while(aH=aJ.next()){if(aH=="/"&&aG){aI.tokenize=T;break;}aG=(aH=="*");}return K("comment","comment");}function az(aJ,aH){var aI=false,aG;while((aG=aJ.next())!=null){if(!aI&&(aG=="`"||aG=="$"&&aJ.eat("{"))){aH.tokenize=T;break;}aI=!aI&&aG=="\\";}return K("quasi","string-2",aJ.current());}var l="([{}])";function au(aM,aJ){if(aJ.fatArrowAt){aJ.fatArrowAt=null;}var aI=aM.string.indexOf("=>",aM.start);if(aI<0){return;}var aL=0,aH=false;for(var aN=aI-1;aN>=0;--aN){var aG=aM.string.charAt(aN);var aK=l.indexOf(aG);if(aK>=0&&aK<3){if(!aL){++aN;break;}if(--aL==0){break;}}else{if(aK>=3&&aK<6){++aL;}else{if(ar.test(aG)){aH=true;}else{if(aH&&!aL){++aN;break;}}}}}if(aH&&!aL){aJ.fatArrowAt=aN;}}var b={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function I(aL,aH,aG,aK,aI,aJ){this.indented=aL;this.column=aH;this.type=aG;this.prev=aI;this.info=aJ;if(aK!=null){this.align=aK;}}function r(aJ,aI){for(var aH=aJ.localVars;aH;aH=aH.next){if(aH.name==aI){return true;}}for(var aG=aJ.context;aG;aG=aG.prev){for(var aH=aG.vars;aH;aH=aH.next){if(aH.name==aI){return true;}}}}function f(aK,aH,aG,aJ,aL){var aM=aK.cc;C.state=aK;C.stream=aL;C.marked=null,C.cc=aM;C.style=aH;if(!aK.lexical.hasOwnProperty("align")){aK.lexical.align=true;}while(true){var aI=aM.length?aM.pop():y?am:aE;if(aI(aG,aJ)){while(aM.length&&aM[aM.length-1].lex){aM.pop()();}if(C.marked){return C.marked;}if(aG=="variable"&&r(aK,aJ)){return"variable-2";}return aH;}}}var C={state:null,column:null,marked:null,cc:null};function Z(){for(var aG=arguments.length-1;aG>=0;aG--){C.cc.push(arguments[aG]);}}function ad(){Z.apply(null,arguments);return true;}function at(aH){function aG(aK){for(var aJ=aK;aJ;aJ=aJ.next){if(aJ.name==aH){return true;}}return false;}var aI=C.state;if(aI.context){C.marked="def";if(aG(aI.localVars)){return;}aI.localVars={name:aH,next:aI.localVars};}else{if(aG(aI.globalVars)){return;}if(ai.globalVars){aI.globalVars={name:aH,next:aI.globalVars};}}}var p={name:"this",next:{name:"arguments"}};function v(){C.state.context={prev:C.state.context,vars:C.state.localVars};C.state.localVars=p;}function w(){C.state.localVars=C.state.context.vars;C.state.context=C.state.context.prev;}function aC(aH,aI){var aG=function(){var aL=C.state,aJ=aL.indented;if(aL.lexical.type=="stat"){aJ=aL.lexical.indented;}else{for(var aK=aL.lexical;aK&&aK.type==")"&&aK.align;aK=aK.prev){aJ=aK.indented;}}aL.lexical=new I(aJ,C.stream.column(),aH,null,aL.lexical,aI);};aG.lex=true;return aG;}function h(){var aG=C.state;if(aG.lexical.prev){if(aG.lexical.type==")"){aG.indented=aG.lexical.indented;}aG.lexical=aG.lexical.prev;}}h.lex=true;function q(aG){function aH(aI){if(aI==aG){return ad();}else{if(aG==";"){return Z();}else{return ad(aH);}}}return aH;}function aE(aG,aH){if(aG=="var"){return ad(aC("vardef",aH.length),d,q(";"),h);}if(aG=="keyword a"){return ad(aC("form"),am,aE,h);}if(aG=="keyword b"){return ad(aC("form"),aE,h);}if(aG=="{"){return ad(aC("}"),x,h);}if(aG==";"){return ad();}if(aG=="if"){if(C.state.lexical.info=="else"&&C.state.cc[C.state.cc.length-1]==h){C.state.cc.pop()();}return ad(aC("form"),am,aE,h,e);}if(aG=="function"){return ad(L);}if(aG=="for"){return ad(aC("form"),t,aE,h);}if(aG=="variable"){return ad(aC("stat"),aF);}if(aG=="switch"){return ad(aC("form"),am,aC("}","switch"),q("{"),x,h,h);}if(aG=="case"){return ad(am,q(":"));}if(aG=="default"){return ad(q(":"));}if(aG=="catch"){return ad(aC("form"),v,q("("),ae,q(")"),aE,h,w);}if(aG=="module"){return ad(aC("form"),v,G,w,h);}if(aG=="class"){return ad(aC("form"),U,h);}if(aG=="export"){return ad(aC("form"),aD,h);}if(aG=="import"){return ad(aC("form"),af,h);}return Z(aC("stat"),am,q(";"),h);}function am(aG){return X(aG,false);}function aB(aG){return X(aG,true);}function X(aH,aJ){if(C.state.fatArrowAt==C.stream.start){var aG=aJ?M:V;if(aH=="("){return ad(v,aC(")"),aq(i,")"),h,q("=>"),aG,w);}else{if(aH=="variable"){return Z(v,i,q("=>"),aG,w);}}}var aI=aJ?j:aa;if(b.hasOwnProperty(aH)){return ad(aI);}if(aH=="function"){return ad(L,aI);}if(aH=="keyword c"){return ad(aJ?aj:ah);}if(aH=="("){return ad(aC(")"),ah,aw,q(")"),h,aI);}if(aH=="operator"||aH=="spread"){return ad(aJ?aB:am);}if(aH=="["){return ad(aC("]"),m,h,aI);}if(aH=="{"){return av(s,"}",null,aI);}if(aH=="quasi"){return Z(P,aI);}return ad();}function ah(aG){if(aG.match(/[;\}\)\],]/)){return Z();}return Z(am);}function aj(aG){if(aG.match(/[;\}\)\],]/)){return Z();}return Z(aB);}function aa(aG,aH){if(aG==","){return ad(am);}return j(aG,aH,false);}function j(aG,aI,aK){var aH=aK==false?aa:j;var aJ=aK==false?am:aB;if(aI=="=>"){return ad(v,aK?M:V,w);}if(aG=="operator"){if(/\+\+|--/.test(aI)){return ad(aH);}if(aI=="?"){return ad(am,q(":"),aJ);}return ad(aJ);}if(aG=="quasi"){return Z(P,aH);}if(aG==";"){return;}if(aG=="("){return av(aB,")","call",aH);}if(aG=="."){return ad(ak,aH);}if(aG=="["){return ad(aC("]"),ah,q("]"),h,aH);}}function P(aG,aH){if(aG!="quasi"){return Z();}if(aH.slice(aH.length-2)!="${"){return ad(P);}return ad(am,o);}function o(aG){if(aG=="}"){C.marked="string-2";C.state.tokenize=az;return ad(P);}}function V(aG){au(C.stream,C.state);if(aG=="{"){return Z(aE);}return Z(am);}function M(aG){au(C.stream,C.state);if(aG=="{"){return Z(aE);}return Z(aB);}function aF(aG){if(aG==":"){return ad(h,aE);}return Z(aa,q(";"),h);}function ak(aG){if(aG=="variable"){C.marked="property";return ad();}}function s(aG,aH){if(aG=="variable"||C.style=="keyword"){C.marked="property";if(aH=="get"||aH=="set"){return ad(H);}return ad(J);}else{if(aG=="number"||aG=="string"){C.marked=ay?"property":(C.style+" property");return ad(J);}else{if(aG=="jsonld-keyword"){return ad(J);}else{if(aG=="["){return ad(am,q("]"),J);}}}}}function H(aG){if(aG!="variable"){return Z(J);}C.marked="property";return ad(L);}function J(aG){if(aG==":"){return ad(aB);}if(aG=="("){return Z(L);}}function aq(aI,aG){function aH(aK){if(aK==","){var aJ=C.state.lexical;if(aJ.info=="call"){aJ.pos=(aJ.pos||0)+1;}return ad(aI,aH);}if(aK==aG){return ad();}return ad(q(aG));}return function(aJ){if(aJ==aG){return ad();}return Z(aI,aH);};}function av(aJ,aG,aI){for(var aH=3;aH<arguments.length;aH++){C.cc.push(arguments[aH]);}return ad(aC(aG,aI),aq(aJ,aG),h);}function x(aG){if(aG=="}"){return ad();}return Z(aE,x);}function S(aG){if(g&&aG==":"){return ad(ac);}}function ac(aG){if(aG=="variable"){C.marked="variable-3";return ad();}}function d(){return Z(i,S,ab,W);}function i(aG,aH){if(aG=="variable"){at(aH);return ad();}if(aG=="["){return av(i,"]");}if(aG=="{"){return av(aA,"}");}}function aA(aG,aH){if(aG=="variable"&&!C.stream.match(/^\s*:/,false)){at(aH);return ad(ab);}if(aG=="variable"){C.marked="property";}return ad(q(":"),i,ab);}function ab(aG,aH){if(aH=="="){return ad(aB);}}function W(aG){if(aG==","){return ad(d);}}function e(aG,aH){if(aG=="keyword b"&&aH=="else"){return ad(aC("form","else"),aE,h);}}function t(aG){if(aG=="("){return ad(aC(")"),D,q(")"),h);}}function D(aG){if(aG=="var"){return ad(d,q(";"),B);}if(aG==";"){return ad(B);}if(aG=="variable"){return ad(u);}return Z(am,q(";"),B);}function u(aG,aH){if(aH=="in"||aH=="of"){C.marked="keyword";return ad(am);}return ad(aa,B);}function B(aG,aH){if(aG==";"){return ad(A);}if(aH=="in"||aH=="of"){C.marked="keyword";return ad(am);}return Z(am,q(";"),A);}function A(aG){if(aG!=")"){ad(am);}}function L(aG,aH){if(aH=="*"){C.marked="keyword";return ad(L);}if(aG=="variable"){at(aH);return ad(L);}if(aG=="("){return ad(v,aC(")"),aq(ae,")"),h,aE,w);}}function ae(aG){if(aG=="spread"){return ad(ae);}return Z(i,S);}function U(aG,aH){if(aG=="variable"){at(aH);return ad(N);}}function N(aG,aH){if(aH=="extends"){return ad(am,N);}if(aG=="{"){return ad(aC("}"),n,h);}}function n(aG,aH){if(aG=="variable"||C.style=="keyword"){C.marked="property";if(aH=="get"||aH=="set"){return ad(c,L,n);}return ad(L,n);}if(aH=="*"){C.marked="keyword";return ad(n);}if(aG==";"){return ad(n);}if(aG=="}"){return ad();}}function c(aG){if(aG!="variable"){return Z();}C.marked="property";return ad();}function G(aG,aH){if(aG=="string"){return ad(aE);}if(aG=="variable"){at(aH);return ad(ag);}}function aD(aG,aH){if(aH=="*"){C.marked="keyword";return ad(ag,q(";"));}if(aH=="default"){C.marked="keyword";return ad(am,q(";"));}return Z(aE);}function af(aG){if(aG=="string"){return ad();}return Z(an,ag);}function an(aG,aH){if(aG=="{"){return av(an,"}");}if(aG=="variable"){at(aH);}return ad();}function ag(aG,aH){if(aH=="from"){C.marked="keyword";return ad(am);}}function m(aG){if(aG=="]"){return ad();}return Z(aB,al);}function al(aG){if(aG=="for"){return Z(aw,q("]"));}if(aG==","){return ad(aq(aB,"]"));}return Z(aq(aB,"]"));}function aw(aG){if(aG=="for"){return ad(t,aw);}if(aG=="if"){return ad(am,aw);}}return{startState:function(aH){var aG={tokenize:T,lastType:"sof",cc:[],lexical:new I((aH||0)-k,0,"block",false),localVars:ai.localVars,context:ai.localVars&&{vars:ai.localVars},indented:0};if(ai.globalVars&&typeof ai.globalVars=="object"){aG.globalVars=ai.globalVars;}return aG;},token:function(aI,aH){if(aI.sol()){if(!aH.lexical.hasOwnProperty("align")){aH.lexical.align=false;}aH.indented=aI.indentation();au(aI,aH);}if(aH.tokenize!=ax&&aI.eatSpace()){return null;}var aG=aH.tokenize(aI,aH);if(R=="comment"){return aG;}aH.lastType=R=="operator"&&(F=="++"||F=="--")?"incdec":R;return f(aH,aG,R,F,aI);},indent:function(aM,aG){if(aM.tokenize==ax){return a.Pass;}if(aM.tokenize!=T){return 0;}var aL=aG&&aG.charAt(0),aJ=aM.lexical;if(!/^\s*else\b/.test(aG)){for(var aI=aM.cc.length-1;aI>=0;--aI){var aN=aM.cc[aI];if(aN==h){aJ=aJ.prev;}else{if(aN!=e){break;}}}}if(aJ.type=="stat"&&aL=="}"){aJ=aJ.prev;}if(z&&aJ.type==")"&&aJ.prev.type=="stat"){aJ=aJ.prev;}var aK=aJ.type,aH=aL==aK;if(aK=="vardef"){return aJ.indented+(aM.lastType=="operator"||aM.lastType==","?aJ.info+1:0);}else{if(aK=="form"&&aL=="{"){return aJ.indented;}else{if(aK=="form"){return aJ.indented+k;}else{if(aK=="stat"){return aJ.indented+(aM.lastType=="operator"||aM.lastType==","?z||k:0);}else{if(aJ.info=="switch"&&!aH&&ai.doubleIndentSwitch!=false){return aJ.indented+(/^(?:case|default)\b/.test(aG)?k:2*k);}else{if(aJ.align){return aJ.column+(aH?0:1);}else{return aJ.indented+(aH?0:k);}}}}}}},electricChars:":{}",blockCommentStart:y?null:"/*",blockCommentEnd:y?null:"*/",lineComment:y?null:"//",fold:"brace",helperType:y?"json":"javascript",jsonldMode:ay,jsonMode:y};});a.registerHelper("wordChars","javascript",/[\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript","javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:true});a.defineMIME("application/x-json",{name:"javascript",json:true});a.defineMIME("application/ld+json",{name:"javascript",jsonld:true});a.defineMIME("text/typescript",{name:"javascript",typescript:true});a.defineMIME("application/typescript",{name:"javascript",typescript:true});});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],a);}else{a(CodeMirror);}}})(function(a){a.defineMode("htmlmixed",function(c,d){var b=a.getMode(c,{name:"xml",htmlMode:true,multilineTagIndentFactor:d.multilineTagIndentFactor,multilineTagIndentPastTag:d.multilineTagIndentPastTag});var n=a.getMode(c,"css");var l=[],k=d&&d.scriptTypes;l.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:a.getMode(c,"javascript")});if(k){for(var e=0;e<k.length;++e){var j=k[e];l.push({matches:j.matches,mode:j.mode&&a.getMode(c,j.mode)});}}l.push({matches:/./,mode:a.getMode(c,"text/plain")});function f(t,r){var p=r.htmlState.tagName;var q=b.token(t,r.htmlState);if(p=="script"&&/\btag\b/.test(q)&&t.current()==">"){var u=t.string.slice(Math.max(0,t.pos-100),t.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);u=u?u[1]:"";if(u&&/[\"\']/.test(u.charAt(0))){u=u.slice(1,u.length-1);}for(var o=0;o<l.length;++o){var s=l[o];if(typeof s.matches=="string"?u==s.matches:s.matches.test(u)){if(s.mode){r.token=m;r.localMode=s.mode;r.localState=s.mode.startState&&s.mode.startState(b.indent(r.htmlState,""));}break;}}}else{if(p=="style"&&/\btag\b/.test(q)&&t.current()==">"){r.token=g;r.localMode=n;r.localState=n.startState(b.indent(r.htmlState,""));}}return q;}function h(s,o,p){var r=s.current();var q=r.search(o),i;if(q>-1){s.backUp(r.length-q);}else{if(i=r.match(/<\/?$/)){s.backUp(r.length);if(!s.match(o,false)){s.match(r);}}}return p;}function m(o,i){if(o.match(/^<\/\s*script\s*>/i,false)){i.token=f;i.localState=i.localMode=null;return f(o,i);}return h(o,/<\/\s*script\s*>/,i.localMode.token(o,i.localState));}function g(o,i){if(o.match(/^<\/\s*style\s*>/i,false)){i.token=f;i.localState=i.localMode=null;return f(o,i);}return h(o,/<\/\s*style\s*>/,n.token(o,i.localState));}return{startState:function(){var i=b.startState();return{token:f,localMode:null,localState:null,htmlState:i};},copyState:function(o){if(o.localState){var i=a.copyState(o.localMode,o.localState);}return{token:o.token,localMode:o.localMode,localState:i,htmlState:a.copyState(b,o.htmlState)};},token:function(o,i){return i.token(o,i);},indent:function(o,i){if(!o.localMode||/^\s*<\//.test(i)){return b.indent(o.htmlState,i);}else{if(o.localMode.indent){return o.localMode.indent(o.localState,i);}else{return a.Pass;}}},innerMode:function(i){return{state:i.localState||i.htmlState,mode:i.localMode||b};}};},"xml","javascript","css");a.defineMIME("text/html","htmlmixed");});